webpackJsonp([3],{"0I+C":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={name:"Technologyfile",components:{},data:function(){return{loading:!1,tableLoading:!1,tabActiveName:"first",deviceId:"",partCode:"",craftModelList:[],craftCardList:[]}},created:function(){var e=this;this.deviceId=this.$store.getters["userCenter/getDeviceInfo"].id,this.tableLoading=!0,this.computedTableHeight(),this.getList(),window.onresize=function(){e.computedTableHeight()}},methods:{computedTableHeight:function(){var e=document.body.clientHeight;e=e<768?768:e,this.tableHeight=e-214},handleSearch:function(){this.getList()},handleSearchCard:function(){var e=this;this.$axios({url:this.API.getCraftCard,method:"get",params:{productId:this.deviceId,partCode:this.partCode.toString().trim(),pageNum:1,pageSize:1e4}}).then(function(t){e.tableLoading=!1;var a=t.data;0===a.code?e.craftCardList=a.data.list:e.$message({type:"error",message:"查询失败："+a.msg})})},handleTab:function(e,t){switch(this.partCode="",this.tabActiveName){case"first":this.getList();break;case"second":this.handleSearchCard();break;case"third":case"fourth":this.getList()}},getList:function(){var e=this;this.$axios({url:this.API.getCraftModel,method:"get",params:{productCode:this.partCode.toString().trim(),pageNum:1,pageSize:1e4}}).then(function(t){e.tableLoading=!1;var a=t.data;0===a.code?e.craftModelList=a.data.list:e.$message({type:"error",message:"查询失败："+a.msg})})},handleDown:function(e,t){var a="",i=!0;switch(t){case 1:0===this.craftModelList[e].fileList.length?i=!1:a=this.craftModelList[e].fileList[0].path;break;case 2:0===this.craftModelList[e].inspectionSpecList.length?i=!1:a=this.craftModelList[e].inspectionSpecList[0].path;break;case 3:0===this.craftModelList[e].noneSampleList.length?i=!1:a=this.craftModelList[e].noneSampleList[0].path}if(i){var l=this.API.baseURL+"/attachment/downByPath?path="+a,n=window.open(encodeURI(l));setTimeout(function(){n.close()},1e3)}else this.$message({type:"error",message:"该数据没有文件!"})}}},l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"app-container"},[i("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleTab},model:{value:e.tabActiveName,callback:function(t){e.tabActiveName=t},expression:"tabActiveName"}},[i("el-tab-pane",{attrs:{label:"作业指导书",name:"first"}},[i("el-row",[i("el-input",{attrs:{placeholder:"请输入零件代码查询指导书"},model:{value:e.partCode,callback:function(t){e.partCode=t},expression:"partCode"}}),e._v(" "),i("el-button",{staticClass:"btnPrimary",attrs:{icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("查询")])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],ref:"tableRef",attrs:{stripe:"",data:e.craftModelList,"highlight-current-row":"",height:e.tableHeight}},[i("el-table-column",{attrs:{label:"序号",type:"index",width:"80px",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"模型编号",prop:"mouldCode",width:"140px",align:"center","show-overflow-tooltip":""}}),e._v(" "),i("el-table-column",{attrs:{label:"零件名称",prop:"productName","min-width":"130px",align:"center","show-overflow-tooltip":""}}),e._v(" "),i("el-table-column",{attrs:{label:"零件代码",prop:"productCode",width:"120px",align:"center","show-overflow-tooltip":""}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",prop:"createTime",width:"160px",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",prop:"BOMCode",width:"90px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("img",{attrs:{src:a("H3B7"),title:"点击下载指导书",alt:"下载"},on:{click:function(a){return e.handleDown(t.$index,1)}}})]}}])})],1)],1),e._v(" "),i("el-tab-pane",{attrs:{label:"工艺卡片",name:"second"}},[i("el-row",[i("el-input",{attrs:{placeholder:"请输入零件代码查询指导书"},model:{value:e.partCode,callback:function(t){e.partCode=t},expression:"partCode"}}),e._v(" "),i("el-button",{staticClass:"btnPrimary",attrs:{icon:"el-icon-search"},on:{click:e.handleSearchCard}},[e._v("查询")]),i("br"),i("br")],1),e._v(" "),i("el-row",{staticClass:"showImgArea",style:{height:e.tableHeight+"px"}},e._l(e.craftCardList,function(e){return i("img",{key:e.code,attrs:{src:e.picture,alt:"工艺卡图"}})}),0)],1),e._v(" "),i("el-tab-pane",{attrs:{label:"检验规范",name:"third"}},[i("el-row",[i("el-input",{attrs:{placeholder:"请输入零件代码查询指导书"},model:{value:e.partCode,callback:function(t){e.partCode=t},expression:"partCode"}}),e._v(" "),i("el-button",{staticClass:"btnPrimary",attrs:{icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("查询")]),i("br"),i("br")],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],ref:"tableRef",attrs:{stripe:"",data:e.craftModelList,"highlight-current-row":"",height:e.tableHeight}},[i("el-table-column",{attrs:{label:"序号",type:"index",width:"80px",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"模型编号",prop:"mouldCode",width:"140px",align:"center","show-overflow-tooltip":""}}),e._v(" "),i("el-table-column",{attrs:{label:"零件名称",prop:"productName","min-width":"130px",align:"center","show-overflow-tooltip":""}}),e._v(" "),i("el-table-column",{attrs:{label:"零件代码",prop:"productCode",width:"120px",align:"center","show-overflow-tooltip":""}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",prop:"createTime",width:"160px",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",prop:"BOMCode",width:"90px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("img",{attrs:{src:a("H3B7"),title:"点击下载指导书",alt:"下载"},on:{click:function(a){return e.handleDown(t.$index,2)}}})]}}])})],1)],1),e._v(" "),i("el-tab-pane",{attrs:{label:"不合格封样",name:"fourth"}},[i("el-row",[i("el-input",{attrs:{placeholder:"请输入零件代码查询指导书"},model:{value:e.partCode,callback:function(t){e.partCode=t},expression:"partCode"}}),e._v(" "),i("el-button",{staticClass:"btnPrimary",attrs:{icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("查询")]),i("br"),i("br")],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],ref:"tableRef",attrs:{stripe:"",data:e.craftModelList,"highlight-current-row":"",height:e.tableHeight}},[i("el-table-column",{attrs:{label:"序号",type:"index",width:"80px",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"模型编号",prop:"mouldCode",width:"140px",align:"center","show-overflow-tooltip":""}}),e._v(" "),i("el-table-column",{attrs:{label:"零件名称",prop:"productName","min-width":"130px",align:"center","show-overflow-tooltip":""}}),e._v(" "),i("el-table-column",{attrs:{label:"零件代码",prop:"productCode",width:"120px",align:"center","show-overflow-tooltip":""}}),e._v(" "),i("el-table-column",{attrs:{label:"创建时间",prop:"createTime",width:"160px",align:"center"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",prop:"BOMCode",width:"90px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("img",{attrs:{src:a("H3B7"),title:"点击下载指导书",alt:"下载"},on:{click:function(a){return e.handleDown(t.$index,3)}}})]}}])})],1)],1)],1)],1)};l._withStripped=!0;var n={render:l,staticRenderFns:[]},o=n;var r=!1;var c=a("VU/8")(i,o,!1,function(e){r||a("PdMw")},"data-v-697f9514",null);c.options.__file="src/views/production/Technologyfile.vue";t.default=c.exports},"6c6I":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.app-container[data-v-697f9514]{width:100%;height:100%;padding:10px 24px 24px;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:#FFFFFF\n}\n.app-container .el-tabs .el-tab-pane .el-row[data-v-697f9514]{height:44px;margin-bottom:20px\n}\n.app-container .el-tabs .el-tab-pane .el-row .el-input[data-v-697f9514]{width:380px;height:44px\n}\n.app-container .el-tabs .el-tab-pane .el-row .el-button[data-v-697f9514]{width:120px;height:44px;color:#FFFFFF;background-color:#006fe6;border-radius:4px;font-size:14px;line-height:7px\n}\n.app-container .el-tabs .el-tab-pane .showImgArea[data-v-697f9514]{width:100%;height:100%;overflow:auto;border:solid 1px #dedede;margin-bottom:24px\n}\n.app-container .el-tabs .el-tab-pane .showImgArea img[data-v-697f9514]{width:auto;height:1000px;margin-bottom:5px\n}\n.app-container[data-v-697f9514] .el-tabs__header{margin:0 0 20px\n}\n.app-container[data-v-697f9514] .el-input--medium .el-input__inner{height:44px;line-height:44px;border-radius:4px;border:solid 1px #dfdfdf\n}\n.app-container[data-v-697f9514] .el-tabs--card>.el-tabs__header{border:none\n}\n.app-container[data-v-697f9514] .el-tabs--card>.el-tabs__header .el-tabs__nav{border:none\n}\n.app-container[data-v-697f9514] .el-tabs--card>.el-tabs__header .el-tabs__item{background-color:#f8f8f8 !important;border:none\n}\n.app-container[data-v-697f9514] .el-tabs--card>.el-tabs__header .el-tabs__item.is-active{background-color:#FFFFFF !important;border:none\n}\n",""])},H3B7:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjdFRUY5NEM2M0Y0OTExRUJBOTk2ODM4MTg5NTVGRTMwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjdFRUY5NEM3M0Y0OTExRUJBOTk2ODM4MTg5NTVGRTMwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6N0VFRjk0QzQzRjQ5MTFFQkE5OTY4MzgxODk1NUZFMzAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6N0VFRjk0QzUzRjQ5MTFFQkE5OTY4MzgxODk1NUZFMzAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7BXRytAAACIElEQVR42rSVz0ocQRDGq3p2jeQS8BIkBw9CkDxDcgh4VnLTe8CTCEsO4iEBQ5LD5rQE9Ak8qkhy9CS+QCDkAfxzczEYVOJ2l19318z2zs7sEkgGvt2e7upfV1VX97CI0L9+mFonRbPaAosKz5A1h0SmhY4DdNTi/NMgm8HWN2sMJRg+wfAsTcgsZhC5Oh4YPfFQ5WX1XDy34dfRVWFfBbUe6gBl7Qm5laFQxiQvsZMIZfbBiA54sEkmuPFQp44ELyk6ZgI0xkWC+N0DKt6z29Ee3nnPrO6H5p6j16a0K4nqgByHNdSqbJlhF3h8Xq0bmfIS1KrcU8xaR0iZzp5QL5shjy6s9wZ6OQLKMY/mD3QH9R4jxE+I87vW6Q/17CxAhXbQbmOROWIgvBLXDQY+4/31YMjmCD/L0DMQvqFvCu0bAH9BGzDxY++grVKm5rHgF6a1c5/2nxGQ5jWU1CtoF7r2+63/09Bb6H3cKKfyGLONslzJc3o6WAHFs6fgh9AjBW4GYBHuQD1fpBtVqiGXxrQPLUK/oY8x7BQo5ZrMi596A/1s89zmF8oBQp3BiekWME4XLmrbKTQcU9MHumQnrRa4V9YN12DlFZUHzFcRyhnKxL7onw5JoFw6ZVJxKHyJ5QG7BfXUrQD4FYbHGG1j1Uu9CEsAqThxeTgyif4ltJ8jXR9QUv7mb6xioJMcK/MXXw9XOCHUoWa2xv/jG3UvwACmkLZmQPS2LAAAAABJRU5ErkJggg=="},PdMw:function(e,t,a){var i=a("6c6I");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("53346c49",i,!1,{})}});