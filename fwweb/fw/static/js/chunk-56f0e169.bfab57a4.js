(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56f0e169"],{"09f4":function(t,e,i){"use strict";i.d(e,"a",(function(){return o})),Math.easeInOutQuad=function(t,e,i,s){return t/=s/2,t<1?i/2*t*t+e:(t--,-i/2*(t*(t-2)-1)+e)};var s=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function n(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function a(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function o(t,e,i){var o=a(),r=t-o,c=20,l=0;e="undefined"===typeof e?500:e;var d=function t(){l+=c;var a=Math.easeInOutQuad(l,o,r,e);n(a),l<e?s(t):i&&"function"===typeof i&&i()};d()}},"683d":function(t,e,i){"use strict";i.d(e,"e",(function(){return n})),i.d(e,"f",(function(){return a})),i.d(e,"h",(function(){return o})),i.d(e,"k",(function(){return r})),i.d(e,"m",(function(){return c})),i.d(e,"o",(function(){return l})),i.d(e,"d",(function(){return d})),i.d(e,"c",(function(){return u})),i.d(e,"g",(function(){return f})),i.d(e,"l",(function(){return m})),i.d(e,"j",(function(){return p})),i.d(e,"n",(function(){return h})),i.d(e,"a",(function(){return g})),i.d(e,"i",(function(){return b})),i.d(e,"b",(function(){return w})),i.d(e,"p",(function(){return v}));var s=i("b775");function n(t){return Object(s["a"])({url:window.configs.api+"/injectionMolding/findList",method:"get",params:t})}function a(t){return Object(s["a"])({url:window.configs.api+"/injectionMolding/findPlanList",method:"post",data:t})}function o(t){return Object(s["a"])({url:window.configs.api+"/injectionMolding/insert",method:"post",data:t})}function r(t){return Object(s["a"])({url:window.configs.api+"/injectionMolding/moveUpDownCancel",method:"post",data:t})}function c(t){return Object(s["a"])({url:window.configs.api+"/injectionMolding/stop",method:"post",data:t})}function l(t){return Object(s["a"])({url:window.configs.api+"/injectionMolding/update",method:"post",data:t})}function d(){return Object(s["a"])({url:window.configs.e2cUrl+"/productDevices/findTreeList",method:"get"})}function u(t){return Object(s["a"])({url:window.configs.api+"/craftModel/findByProductCode",method:"get",params:t})}function f(t){return Object(s["a"])({url:window.configs.api+"/reworkInjection/findList",method:"get",params:t})}function m(t){return Object(s["a"])({url:window.configs.api+"/reworkInjection/moveUp",method:"post",data:t})}function p(t){return Object(s["a"])({url:window.configs.api+"/reworkInjection/moveDown",method:"post",data:t})}function h(t){return Object(s["a"])({url:window.configs.api+"/reworkInjection/stop",method:"post",data:t})}function g(t){return Object(s["a"])({url:window.configs.api+"/reworkInjection/cancel",method:"post",data:t})}function b(t){return Object(s["a"])({url:window.configs.api+"/reworkInjection/insert",method:"post",data:t})}function w(t){return Object(s["a"])({url:window.configs.api+"/reworkInjection/createProductCode",method:"get",params:t})}function v(t){return Object(s["a"])({url:window.configs.api+"/reworkInjection/update",method:"post",data:t})}},"6ace":function(t,e,i){"use strict";i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return o}));var s=i("b775");function n(t){return Object(s["a"])({url:window.configs.api+"/attachment/upload",method:"post",data:t,heards:{"Content-Type":"multipart/form-data"}})}function a(t){return Object(s["a"])({url:window.configs.e2cUrl+"/productDevices/findList",method:"get",params:t})}function o(){return Object(s["a"])({url:window.configs.e2cUrl+"/devicesClassify/findList",method:"get"})}},"9e02":function(t,e,i){"use strict";var s=i("fd06"),n=i.n(s);n.a},a888:function(t,e,i){"use strict";i("99af"),i("caad"),i("ac1f"),i("2532"),i("5319");var s={bind:function(t,e,i){var s=t.querySelector(".el-dialog__header"),n=t.querySelector(".el-dialog");s.style.cssText+=";cursor:move;",n.style.cssText+=";top:0px;";var a=function(){return window.document.currentStyle?function(t,e){return t.currentStyle[e]}:function(t,e){return getComputedStyle(t,!1)[e]}}();s.onmousedown=function(t){var e=t.clientX-s.offsetLeft,o=t.clientY-s.offsetTop,r=n.offsetWidth,c=n.offsetHeight,l=document.body.clientWidth,d=document.body.clientHeight,u=n.offsetLeft,f=l-n.offsetLeft-r,m=n.offsetTop,p=d-n.offsetTop-c,h=a(n,"left"),g=a(n,"top");h.includes("%")?(h=+document.body.clientWidth*(+h.replace(/\%/g,"")/100),g=+document.body.clientHeight*(+g.replace(/\%/g,"")/100)):(h=+h.replace(/\px/g,""),g=+g.replace(/\px/g,"")),document.onmousemove=function(t){var s=t.clientX-e,a=t.clientY-o;-s>u?s=-u:s>f&&(s=f),-a>m?a=-m:a>p&&(a=p),n.style.cssText+=";left:".concat(s+h,"px;top:").concat(a+g,"px;"),i.child.$emit("dragDialog")},document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null}}}},n=function(t){t.directive("el-drag-dialog",s)};window.Vue&&(window["el-drag-dialog"]=s,Vue.use(n)),s.install=n;e["a"]=s},a948:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("el-row",[i("el-col",{staticClass:"leftsty",attrs:{span:4}},[i("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}}),i("el-tree",{ref:"tree",staticClass:"filter-tree leftstys",attrs:{data:t.leftList,props:t.defaultProps,"filter-node-method":t.filterNode,"default-expand-all":""},on:{"node-click":t.handleNodeClick}})],1),i("el-col",{staticStyle:{"padding-left":"10px","padding-top":"15px"},attrs:{span:20}},[i("div",{staticClass:"searchInfo"},[i("span",{staticClass:"seachname"},[t._v(" 生产指令: ")]),i("el-input",{staticClass:"inputCls",staticStyle:{width:"150px","margin-right":"15px"},attrs:{placeholder:"生产指令",clearable:""},model:{value:t.searchKey.code,callback:function(e){t.$set(t.searchKey,"code",e)},expression:"searchKey.code"}}),i("span",{staticClass:"seachname",staticStyle:{"margin-left":"15px"}},[t._v(" 零件号: ")]),i("el-input",{staticClass:"inputCls",staticStyle:{width:"140px","margin-right":"15px"},attrs:{placeholder:"零件号",clearable:""},model:{value:t.searchKey.name,callback:function(e){t.$set(t.searchKey,"name",e)},expression:"searchKey.name"}}),i("span",{staticClass:"seachname",staticStyle:{"margin-left":"15px"}},[t._v(" 状态: ")]),i("el-select",{staticClass:"inputCls",staticStyle:{width:"90px","margin-right":"15px"},attrs:{placeholder:"状态",clearable:""},model:{value:t.searchKey.status,callback:function(e){t.$set(t.searchKey,"status",e)},expression:"searchKey.status"}},t._l(t.statusList,(function(t,e){return i("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1),i("span",{staticClass:"seachname"},[t._v(" 生产开始日期: ")]),i("el-date-picker",{staticClass:"inputCls",staticStyle:{width:"140px","margin-right":"5px"},attrs:{editable:!1,"picker-options":t.startPickerOptions,type:"date",placeholder:"开始时间",clearable:""},model:{value:t.searchKey.startTime,callback:function(e){t.$set(t.searchKey,"startTime",e)},expression:"searchKey.startTime"}}),i("span",{staticClass:"seachname"},[t._v(" — ")]),i("el-date-picker",{staticClass:"inputCls",staticStyle:{width:"140px","margin-right":"15px"},attrs:{editable:!1,"picker-options":t.endPickerOptions,type:"date",placeholder:"结束时间",clearable:""},model:{value:t.searchKey.endTime,callback:function(e){t.$set(t.searchKey,"endTime",e)},expression:"searchKey.endTime"}}),i("el-button",{staticClass:"primaryBtn",staticStyle:{"margin-left":"7px"},attrs:{type:"primary"},on:{click:t.searchBtn}},[i("svg-icon",{attrs:{"icon-class":"search"}}),t._v(" 查询 ")],1),i("el-button",{staticClass:"resetBtn",staticStyle:{"margin-left":"7px"},attrs:{type:"default",icon:"el-icon-refresh-right"},on:{click:t.searchrestBtn}},[t._v(" 重置 ")])],1),i("div",{staticClass:"el-tablenew"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.list,"row-class-name":t.tableRowClassName,border:"",height:"calc(100vh - 265px)"}},[i("el-table-column",{attrs:{fixed:"left",prop:"productCode",label:"生产指令",align:"center","min-width":"155px","show-overflow-tooltip":""}}),i("el-table-column",{attrs:{prop:"partsCode",label:"零件号",align:"center","min-width":"120px"}}),i("el-table-column",{attrs:{prop:"productDevicesName",label:"设备编号",align:"center","min-width":"120px"}}),i("el-table-column",{attrs:{prop:"planCount",label:"计划数量",align:"center","min-width":"120px"}}),i("el-table-column",{attrs:{prop:"productCount",label:"实际生产数量",align:"center","min-width":"120px"}}),i("el-table-column",{attrs:{prop:"material",label:"原材料",align:"center","min-width":"120px"}}),i("el-table-column",{attrs:{prop:"startTime",label:"开始时间",align:"center","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.startTime&&e.row.startTime.length>10?e.row.startTime.substring(0,16):e.row.startTime)+" ")]}}])}),i("el-table-column",{attrs:{prop:"endTime",label:"结束时间",align:"center","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.endTime&&e.row.endTime.length>10?e.row.endTime.substring(0,16):e.row.endTime)+" ")]}}])}),i("el-table-column",{attrs:{prop:"priority",label:"优先级",align:"center","min-width":"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(0===e.row.priority?"普通":"优先")+" ")]}}])}),i("el-table-column",{attrs:{prop:"createTime",label:"状态",align:"center","min-width":"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(0===e.row.status?"未开始":1===e.row.status?"生产中":2===e.row.status?"暂停":"取消")+" ")]}}])}),i("el-table-column",{attrs:{prop:"note",label:"备注",align:"center","min-width":"150px"}}),i("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"330px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.hasPermission("instructionManage/stop")&&1===e.row.status?i("el-button",{staticClass:"deleteTextBtn",attrs:{type:"text",icon:"el-icon-caret-right"},on:{click:function(i){return t.stopBtn(e.row)}}},[t._v(" 暂停 ")]):t._e(),t.hasPermission("instructionManage/cancel")&&3!==e.row.status?i("el-button",{staticClass:"otherTextBtn",staticStyle:{color:"#969696"},attrs:{type:"text",icon:"el-icon-circle-close"},on:{click:function(i){return t.cancelBtn(e.row)}}},[t._v(" 取消 ")]):t._e(),t.hasPermission("instructionManage/moveUp")&&3!==e.row.status?i("el-button",{staticClass:"otherTextBtn",attrs:{type:"text",icon:"el-icon-top"},on:{click:function(i){return t.upBtn(e.row,e.$index)}}},[t._v(" 上移 ")]):t._e(),t.hasPermission("instructionManage/moveDown")&&3!==e.row.status?i("el-button",{staticClass:"defaultTextBtn",attrs:{type:"text",icon:"el-icon-bottom"},on:{click:function(i){return t.downBtn(e.row,e.$index)}}},[t._v(" 下移 ")]):t._e(),t.hasPermission("instructionManage/edit")&&3!==e.row.status?i("el-button",{staticClass:"addTextBtn",attrs:{type:"text"},on:{click:function(i){return t.editBtn(e.row)}}},[i("svg-icon",{attrs:{"icon-class":"edit"}}),t._v(" 编辑 ")],1):t._e()]}}])})],1),i("pagination",{staticClass:"pagePadd",attrs:{total:t.total,page:t.pageIndex,limit:t.pageSize},on:{"update:page":function(e){t.pageIndex=e},"update:limit":function(e){t.pageSize=e},pagination:t.handleCurrentChange}})],1)])],1),i("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],staticClass:"dialogs",attrs:{visible:t.dialogVisible,"close-on-click-modal":!1,title:"计划暂停",width:"665px"},on:{"update:visible":function(e){t.dialogVisible=e},close:function(e){return t.resetFrom("forms")}}},[i("el-form",{ref:"forms",attrs:{model:t.forms,rules:t.rules,"label-position":"left","label-width":"120px"}},[i("el-form-item",{attrs:{label:"计划暂停时长",prop:"name"}},[i("el-input",{attrs:{placeholder:"请输入计划暂停时长",size:"small",maxlength:"20"},on:{input:function(e){t.forms.min=t.forms.min.replace(/[^0-9]/g,"")}},model:{value:t.forms.min,callback:function(e){t.$set(t.forms,"min",e)},expression:"forms.min"}})],1),i("el-form-item",{attrs:{label:"计划暂停原因",prop:"reason"}},[i("el-input",{attrs:{rows:5,resize:"none",type:"textarea",placeholder:"请输入计划暂停原因",maxlength:"50"},model:{value:t.forms.reason,callback:function(e){t.$set(t.forms,"reason",e)},expression:"forms.reason"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticClass:"defaultBtn",staticStyle:{width:"120px","border-radius":"4px"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")]),i("el-button",{staticClass:"primaryBtn",staticStyle:{width:"120px"},attrs:{disabled:t.loading,type:"primary"},on:{click:function(e){return t.submitForm("forms")}}},[t._v("确定")])],1)],1),i("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],staticClass:"dialogs",attrs:{visible:t.dialogEditVisible,"close-on-click-modal":!1,title:"编辑",width:"665px"},on:{"update:visible":function(e){t.dialogEditVisible=e},close:function(e){return t.resetFrom("forms")}}},[i("el-form",{ref:"forms",attrs:{model:t.forms,rules:t.rules,"label-position":"left","label-width":"120px"}},[i("el-form-item",{attrs:{label:"生产数量",prop:"num"}},[i("el-input",{attrs:{placeholder:"请输入生产数量",size:"small",maxlength:"20"},on:{input:function(e){t.forms.num=t.forms.num.replace(/[^0-9]/g,"")}},model:{value:t.forms.num,callback:function(e){t.$set(t.forms,"num",e)},expression:"forms.num"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticClass:"defaultBtn",staticStyle:{width:"120px","border-radius":"4px"},on:{click:function(e){t.dialogEditVisible=!1}}},[t._v("取消")]),i("el-button",{staticClass:"primaryBtn",staticStyle:{width:"120px"},attrs:{disabled:t.loading,type:"primary"},on:{click:function(e){return t.submitForms("forms")}}},[t._v("确定")])],1)],1)],1)},n=[],a=(i("4de4"),i("c975"),i("b0c0"),i("683d")),o=i("6ace"),r=i("ed08"),c=i("333d"),l=i("a888"),d={name:"InstructionManage",directives:{elDragDialog:l["a"]},components:{Pagination:c["a"]},data:function(){var t=this;return{activeNames:[],leftList:[{title:"区域一",id:0,children:[{id:1,name:"1"},{id:1,name:"2"}]},{title:"区域二",id:0,children:[{id:1,name:"1"},{id:1,name:"2"}]}],dialogVisible:!1,dialogEditVisible:!1,forms:{min:"",reason:"",num:"",deviceNum:""},rules:{min:[{required:!0,message:"请输入计划暂停时长",trigger:"blur"}],reason:[{required:!0,message:"请输入计划暂停原因",trigger:"blur"}],num:[{required:!0,message:"请输入生产数量",trigger:"blur"}],deviceNum:[{required:!0,message:"请选择生产设备编号",trigger:"blur"}]},defaultProps:{children:"children",label:"title"},filterText:"",searchKey:{key:"",code:"",codeIndex:"",status:"",name:"",startTime:"",endTime:""},statusList:[{id:0,name:"未开始"},{id:1,name:"生产中"},{id:2,name:"暂停"},{id:3,name:"取消"}],startPickerOptions:{disabledDate:function(e){return""!==t.searchKey.endTime&&null!==t.searchKey.endTime&&e.getTime()>t.searchKey.endTime}},endPickerOptions:{disabledDate:function(e){return""!==t.searchKey.startTime&&null!==t.searchKey.startTime&&e.getTime()<t.searchKey.startTime}},loading:!1,showDialog:!1,total:0,pageIndex:1,pageSize:10,currentId:0,beforeList:[],nextList:[],codeList:[],list:[]}},computed:{},watch:{filterText:function(t){this.$refs.tree.filter(t)}},mounted:function(){this.findDeviceLists(),this.findDevicesLists(),this.fetchDate()},methods:{filterNode:function(t,e){return!t||-1!==e.title.indexOf(t)},handleChange:function(t){},handleNodeClick:function(t){console.log(t),t.hasChildren||this.selectInfos(t.id)},selectInfos:function(t){this.searchKey.codeIndex=t,this.fetchDate()},tableRowClassName:function(t){t.row;var e=t.rowIndex;return e%2===1?"table-row":""},findDeviceLists:function(){var t=this;Object(a["d"])().then((function(e){t.leftList=e.data}))},findDevicesLists:function(){var t=this;Object(o["a"])({}).then((function(e){t.codeList=e.data?e.data:[]}))},fetchDate:function(){var t=this;this.list=[],this.multipleSelection=[],this.loading=!0;var e=null;this.searchKey.codeIndex&&(e=this.searchKey.codeIndex);var i=null;this.searchKey.startTime&&(i=Object(r["b"])(this.searchKey.startTime,"{y}-{m}-{d}")+" 00:00:00");var s=null;this.searchKey.endTime&&(s=Object(r["b"])(this.searchKey.endTime,"{y}-{m}-{d}")+" 23:59:59");var n={productDevicesId:e,productCode:this.searchKey.code+""?this.searchKey.code:null,status:this.searchKey.status+""?this.searchKey.status:null,partsCode:this.searchKey.name+""?this.searchKey.name:null,startTime:i,endTime:s,pageNum:this.pageIndex,pageSize:this.pageSize};Object(a["e"])(n).then((function(n){t.loading=!1,0===n.code&&(t.list=n.data.list,t.total=n.data.total,t.beforeList=[],t.nextList=[],t.pageIndex>1&&t.otherDate(t.pageIndex-1,e,i,s,"before"),t.pageIndex*t.pageSize<t.total&&t.otherDate(t.pageIndex+1,e,i,s,"before"))}))},otherDate:function(t,e,i,s,n){var o=this,r={productDevicesId:e,productCode:this.searchKey.code+""?this.searchKey.code:null,status:this.searchKey.status+""?this.searchKey.status:null,partsCode:this.searchKey.name+""?this.searchKey.name:null,startTime:i,endTime:s,pageNum:t,pageSize:this.pageSize};Object(a["e"])(r).then((function(t){o.loading=!1,0===t.code&&("before"===n?o.beforeList=t.data.list:o.nextList=t.data.list)}))},searchBtn:function(){this.fetchDate()},searchrestBtn:function(){this.searchKey={key:"",code:"",codeIndex:"",status:"",name:"",startTime:"",endTime:""},this.pageIndex=1,this.pageSize=10,this.fetchDate()},handleSelectionChange:function(t){this.multipleSelection=t},handleCurrentChange:function(){this.fetchDate()},resetFrom:function(t){this.$refs[t].resetFields()},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(e.loading=!0,t){var i={stopReason:e.forms.reason,stopTime:e.forms.min,injectionId:e.currentId};Object(a["m"])(i).then((function(t){e.loading=!1,0===t.code?(e.$message({message:"暂停成功!",type:"success"}),e.dialogVisible=!1,e.fetchDate()):1e3===t.code&&e.$message({message:t.msg,type:"error"})}))}}))},submitForms:function(t){var e=this;this.$refs[t].validate((function(t){if(t){e.loading=!0;var i={productDevicesId:e.forms.deviceNum,planCount:e.forms.num,id:e.currentId};Object(a["o"])(i).then((function(t){e.loading=!1,0===t.code?(e.$message({message:"编辑成功!",type:"success"}),e.dialogEditVisible=!1,e.fetchDate()):1e3===t.code&&e.$message({message:t.msg,type:"error"})}))}}))},stopBtn:function(t){this.currentId=t.id,this.dialogVisible=!0},cancelBtn:function(t){var e=this;this.$confirm("确定取消吗?","操作提示",{confirmButtonText:"确认",cancelButtonText:"取消"}).then((function(){var i={upInjectionMolding:{productDevicesId:t.productDevicesId,startTime:t.startTime,status:3,id:t.id}};Object(a["k"])(i).then((function(t){e.loading=!1,0===t.code?(e.$message({message:"操作成功!",type:"success"}),e.fetchDate()):1e3===t.code&&e.$message({message:t.msg,type:"error"})}))}))},upBtn:function(t,e){var i=this;if(0!==e||0!==this.beforeList.length){var s=-1,n={};if(0!==e){for(var o=e-1;o>-1;o--)if(3!==this.list[o].status&&1!==this.list[o].status){s=o,n={productDevicesId:this.list[s].productDevicesId,startTime:this.list[s].startTime,status:this.list[s].status,id:this.list[s].id};break}if(-1===s&&0!==this.beforeList.length)for(var r=this.beforeList.length-1;r>-1;r--)if(3!==this.beforeList[r].status&&1!==this.beforeList[r].status){s=r,n={productDevicesId:this.beforeList[s].productDevicesId,startTime:this.beforeList[s].startTime,status:this.beforeList[s].status,id:this.beforeList[s].id};break}}else for(var c=this.beforeList.length-1;c>-1;c--)if(3!==this.beforeList[c].status&&1!==this.beforeList[c].status){s=c,n={productDevicesId:this.beforeList[s].productDevicesId,startTime:this.beforeList[s].startTime,status:this.beforeList[s].status,id:this.beforeList[s].id};break}-1!==s?this.$confirm("确定上移吗?","操作提示",{confirmButtonText:"确认",cancelButtonText:"取消"}).then((function(){var e={downInjectionMolding:{productDevicesId:t.productDevicesId,startTime:t.startTime,status:t.status,id:t.id},upInjectionMolding:n};Object(a["k"])(e).then((function(t){i.loading=!1,0===t.code?(i.$message({message:"操作成功!",type:"success"}),i.fetchDate()):1e3===t.code&&i.$message({message:t.msg,type:"error"})}))})):this.$message({message:"该计划已在第一步!",type:"error"})}else this.$message({message:"该计划已在第一步!",type:"error"})},downBtn:function(t,e){var i=this;if(e!==this.list.length-1||0!==this.nextList.length){var s=-1,n={};if(e!==this.list.length-1){for(var o=e+1;o<this.list.length;o++)if(3!==this.list[o].status&&1!==this.list[o].status){s=o,n={productDevicesId:this.list[s].productDevicesId,startTime:this.list[s].startTime,status:this.list[s].status,id:this.list[s].id};break}if(-1===s&&0!==this.nextList.length)for(var r=0;r<this.nextList.length;r++)if(3!==this.nextList[r].status&&1!==this.nextList[r].status){s=r,n={productDevicesId:this.nextList[s].productDevicesId,startTime:this.nextList[s].startTime,status:this.nextList[s].status,id:this.nextList[s].id};break}}else for(var c=0;c<this.nextList.length;c++)if(3!==this.nextList[c].status&&1!==this.nextList[c].status){s=c,n={productDevicesId:this.nextList[s].productDevicesId,startTime:this.nextList[s].startTime,status:this.nextList[s].status,id:this.nextList[s].id};break}-1!==s?this.$confirm("确定下移吗?","操作提示",{confirmButtonText:"确认",cancelButtonText:"取消"}).then((function(){var e={upInjectionMolding:{productDevicesId:t.productDevicesId,startTime:t.startTime,status:t.status,id:t.id},downInjectionMolding:n};Object(a["k"])(e).then((function(t){i.loading=!1,0===t.code?(i.$message({message:"操作成功!",type:"success"}),i.dialogEditVisible=!1,i.fetchDate()):1e3===t.code&&i.$message({message:t.msg,type:"error"})}))})):this.$message({message:"该计划已在最后一步!",type:"error"})}else this.$message({message:"该计划已在最后一步!",type:"error"})},editBtn:function(t){this.currentId=t.id,this.forms.num=t.planCount,this.forms.deviceNum=t.productDevicesId,this.dialogEditVisible=!0}}},u=d,f=(i("9e02"),i("2877")),m=Object(f["a"])(u,s,n,!1,null,"3ee96cda",null);e["default"]=m.exports},fd06:function(t,e,i){}}]);