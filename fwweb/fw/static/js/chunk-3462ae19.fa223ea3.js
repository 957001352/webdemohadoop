(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3462ae19"],{"09f4":function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),Math.easeInOutQuad=function(t,e,a,i){return t/=i/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function s(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function l(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function o(t,e,a){var o=l(),n=t-o,c=20,r=0;e="undefined"===typeof e?500:e;var u=function t(){r+=c;var l=Math.easeInOutQuad(r,o,n,e);s(l),r<e?i(t):a&&"function"===typeof a&&a()};u()}},"0a30":function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return l})),a.d(e,"e",(function(){return o})),a.d(e,"g",(function(){return n})),a.d(e,"d",(function(){return c})),a.d(e,"c",(function(){return r})),a.d(e,"f",(function(){return u})),a.d(e,"h",(function(){return d}));var i=a("b775");function s(t){return Object(i["a"])({url:window.configs.api+"/qualityStoreCheck/findList",method:"get",params:t})}function l(t){return Object(i["a"])({url:window.configs.api+"/qualityStoreCheck/findAppearanceOrSizeInspectInfo",method:"get",params:t})}function o(t){return Object(i["a"])({url:window.configs.api+"/qualityStoreCheck/submit",method:"post",data:t})}function n(t){return Object(i["a"])({url:window.configs.api+"/qualityStoreCheck/update",method:"post",data:t})}function c(t){return Object(i["a"])({url:window.configs.api+"/qualityOutCheck/findList",method:"get",params:t})}function r(t){return Object(i["a"])({url:window.configs.api+"/qualityOutCheck/findResultByDataIdAndClassify",method:"get",params:t})}function u(t){return Object(i["a"])({url:window.configs.api+"/qualityOutCheck/submit",method:"post",data:t})}function d(t){return Object(i["a"])({url:window.configs.api+"/qualityOutCheck/update",method:"post",data:t})}},2846:function(t,e,a){},"7db0":function(t,e,a){"use strict";var i=a("23e7"),s=a("b727").find,l=a("44d2"),o=a("ae40"),n="find",c=!0,r=o(n);n in[]&&Array(1)[n]((function(){c=!1})),i({target:"Array",proto:!0,forced:c||!r},{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),l(n)},8903:function(t,e,a){},a888:function(t,e,a){"use strict";a("99af"),a("caad"),a("ac1f"),a("2532"),a("5319");var i={bind:function(t,e,a){var i=t.querySelector(".el-dialog__header"),s=t.querySelector(".el-dialog");i.style.cssText+=";cursor:move;",s.style.cssText+=";top:0px;";var l=function(){return window.document.currentStyle?function(t,e){return t.currentStyle[e]}:function(t,e){return getComputedStyle(t,!1)[e]}}();i.onmousedown=function(t){var e=t.clientX-i.offsetLeft,o=t.clientY-i.offsetTop,n=s.offsetWidth,c=s.offsetHeight,r=document.body.clientWidth,u=document.body.clientHeight,d=s.offsetLeft,p=r-s.offsetLeft-n,m=s.offsetTop,h=u-s.offsetTop-c,g=l(s,"left"),v=l(s,"top");g.includes("%")?(g=+document.body.clientWidth*(+g.replace(/\%/g,"")/100),v=+document.body.clientHeight*(+v.replace(/\%/g,"")/100)):(g=+g.replace(/\px/g,""),v=+v.replace(/\px/g,"")),document.onmousemove=function(t){var i=t.clientX-e,l=t.clientY-o;-i>d?i=-d:i>p&&(i=p),-l>m?l=-m:l>h&&(l=h),s.style.cssText+=";left:".concat(i+g,"px;top:").concat(l+v,"px;"),a.child.$emit("dragDialog")},document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null}}}},s=function(t){t.directive("el-drag-dialog",i)};window.Vue&&(window["el-drag-dialog"]=i,Vue.use(s)),i.install=s;e["a"]=i},b50b:function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"e",(function(){return l})),a.d(e,"c",(function(){return o})),a.d(e,"d",(function(){return n})),a.d(e,"a",(function(){return c}));var i=a("b775");function s(t){return Object(i["a"])({url:window.configs.api+"/qualityInspection/findList",method:"get",params:t})}function l(t){return Object(i["a"])({url:window.configs.api+"/qualityInspection/save",method:"post",data:t})}function o(t){return Object(i["a"])({url:window.configs.api+"/qualityInspection/getInspectionDetail",method:"get",params:t})}function n(t){return Object(i["a"])({url:window.configs.api+"/qualityInspection/change",method:"post",data:t})}function c(t){return Object(i["a"])({url:window.configs.api+"/qualityInspection/getInspectionChangeLog",method:"get",params:t})}},bdaf:function(t,e,a){"use strict";var i=a("2846"),s=a.n(i);s.a},c7c0:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"list-contenter"},[a("div",{staticClass:"filter-container"},[a("span",{staticClass:"seachname"},[t._v("零件代码:")]),a("el-input",{staticClass:"filter-item",attrs:{size:"small",placeholder:"输入零件代码",clearable:""},model:{value:t.listQuery.materialCode,callback:function(e){t.$set(t.listQuery,"materialCode",e)},expression:"listQuery.materialCode"}}),a("span",{staticClass:"seachname"},[t._v("客户:")]),a("el-input",{staticClass:"filter-item",attrs:{size:"small",placeholder:"输入客户",clearable:""},model:{value:t.listQuery.customer,callback:function(e){t.$set(t.listQuery,"customer",e)},expression:"listQuery.customer"}}),a("span",{staticClass:"seachname"},[t._v("出库时间:")]),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",size:"small",type:"date",placeholder:"选择开始日期"},model:{value:t.listQuery.startDate,callback:function(e){t.$set(t.listQuery,"startDate",e)},expression:"listQuery.startDate"}}),a("span",{staticClass:"seachname"},[t._v("—")]),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",size:"small",type:"date",placeholder:"选择结束日期"},model:{value:t.listQuery.endDate,callback:function(e){t.$set(t.listQuery,"endDate",e)},expression:"listQuery.endDate"}}),a("el-button",{staticClass:"primaryBtn",attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("查询")]),a("el-button",{staticClass:"resetBtn",attrs:{type:"default",size:"mini",icon:"el-icon-refresh-right"},on:{click:t.handleReset}},[t._v("重置")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],key:t.tableKey,ref:"tableRef",attrs:{stripe:"",data:t.warehousingLists,"header-cell-style":t.headerClassName,border:"",fit:"","highlight-current-row":"",height:t.tableHeight}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center",width:"55"}}),a("el-table-column",{attrs:{label:"检验订单号",prop:"checkNo",align:"center",width:"130","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"客户",prop:"customer",align:"center",width:"100","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"零件代码",prop:"materialCode",align:"center","min-width":"160","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"零件名称",prop:"materialName",align:"center","min-width":"160","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"出库时间",prop:"createTime",align:"center",width:"160"}}),a("el-table-column",{attrs:{label:"操作",width:"190",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[t.hasPermission("outhousingTest/facadeCheck")?a("el-button",{staticClass:"addTextBtn",attrs:{type:"text"},on:{click:function(e){return t.handleDetail(i,1)}}},[a("svg-icon",{attrs:{"icon-class":"search"}}),t._v(" 外观检验 ")],1):t._e(),t.hasPermission("outhousingTest/sizeCheck")?a("el-button",{staticClass:"defaultTextBtn",attrs:{type:"text"},on:{click:function(e){return t.handleDetail(i,2)}}},[a("svg-icon",{attrs:{"icon-class":"search"}}),t._v(" 尺寸检验 ")],1):t._e()]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.pageNum,limit:t.listQuery.pageSize},on:{"update:page":function(e){return t.$set(t.listQuery,"pageNum",e)},"update:limit":function(e){return t.$set(t.listQuery,"pageSize",e)},pagination:t.getOuthousingList}})],1),t.setDialogVisible?a("div",{staticClass:"repairsty"},[a("OuthousingTestInfo",{attrs:{"detail-data":t.oWarehousing,"opt-type":t.optType},on:{OuthousingDetailCall:t.outhousingDetailCall}})],1):t._e()])},s=[],l=(a("7db0"),a("d81d"),a("b0c0"),a("ac1f"),a("1276"),a("5530")),o=a("0a30"),n=a("333d"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-page-header",{attrs:{content:"出库检验"},on:{back:t.backClick}}),a("div",{staticClass:"firstTabBox"},[a("div",{staticClass:"header"},[a("el-row",[a("el-col",{attrs:{span:6}},[t._v("任务单号："+t._s(t.oDetail.checkNo))]),a("el-col",{attrs:{span:6}},[t._v("报检人："+t._s(t.oDetail.createUserName))]),a("el-col",{attrs:{span:6}},[t._v("产品代码："+t._s(t.oDetail.materialCode))]),a("el-col",{attrs:{span:6}},[t._v("零件名称："+t._s(t.oDetail.materialName))])],1)],1),a("div",{staticClass:"firstContent"},[a("el-row",[a("el-col",{staticClass:"elColRight",attrs:{span:9}},[t._v("泛沃 FineWorld")]),a("el-col",{staticClass:"elColRight",attrs:{span:12}},[t._v(t._s(t.oDetail.version))]),a("el-col",{attrs:{span:3}},[t._v("Page:1/1")])],1),a("el-row",[a("el-col",{staticClass:"elColTop",attrs:{span:24}},[t._v("质量跟踪卡 Quality follow-up card")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:2}},[t._v("零件代码"),a("br"),t._v(" Part Code")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:4}},[t._v(t._s(t.oDetail.materialCode))]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[a("span",{staticClass:"canNotEmpty"},[t._v("*")]),t._v("抽样"),a("br"),t._v(" Sampling")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.samping,expression:"oSubmit.samping"}],attrs:{placeholder:"输入抽样",type:"text"},domProps:{value:t.oSubmit.samping},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"samping",e.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("材料名称"),a("br"),t._v(" Material")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.material,expression:"oSubmit.material"}],attrs:{placeholder:"输入材料名称",type:"text"},domProps:{value:t.oSubmit.material},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"material",e.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("模具编号"),a("br"),t._v(" Mould No.")]),a("el-col",{staticClass:"elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.mouldNo,expression:"oSubmit.mouldNo"}],attrs:{placeholder:"输入模具编号",type:"text"},domProps:{value:t.oSubmit.mouldNo},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"mouldNo",e.target.value)}}})])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:2}},[t._v("零件名称"),a("br"),t._v(" Part descrip.")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:4}},[t._v(t._s(t.oDetail.materialName))]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[a("span",{staticClass:"canNotEmpty"},[t._v("*")]),t._v("频率"),a("br"),t._v(" Frequence")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.frequence,expression:"oSubmit.frequence"}],attrs:{placeholder:"输入频率",type:"text"},domProps:{value:t.oSubmit.frequence},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"frequence",e.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("材料批号"),a("br"),t._v(" Material No.")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.materialNo,expression:"oSubmit.materialNo"}],attrs:{placeholder:"材料批号",type:"text"},domProps:{value:t.oSubmit.materialNo},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"materialNo",e.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("生产指令号"),a("br"),t._v(" OF No.")]),a("el-col",{staticClass:"elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.ofNo,expression:"oSubmit.ofNo"}],attrs:{placeholder:"输入生产指令号",type:"text"},domProps:{value:t.oSubmit.ofNo},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"ofNo",e.target.value)}}})])],1),a("el-row",{staticClass:"doubleRow",staticStyle:{heghit:"64"}},[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("产品特性 "),a("br"),t._v(" Features")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:4}},[t._v("过程规范 "),a("br"),t._v(" Process specification")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:3}},[t._v("测量仪器 "),a("br"),t._v(" Measuring device")]),a("el-col",{staticClass:"elColRight elColTop",staticStyle:{heghit:"64"},attrs:{span:12}},[a("el-row",[a("el-col",{staticClass:"elColRight elColTop elColLeft fontWeight700",attrs:{span:24}},[t._v(" 腔 号 Measure by cavity")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColLeft elColTop fontWeight700",attrs:{span:6}},[t._v("Cav1")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav2")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav3")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav4")])],1)],1),a("el-col",{staticClass:"elColTop singleRow64 fontWeight700",attrs:{span:3}},[t._v(" 判定 Conclusion")])],1),t._l(t.standardFilterList,(function(e,i){return a("div",{key:"row"+i},[3!==e.classify?a("div",{staticClass:"tableBox"},[a("el-row",{staticClass:"tableRow"},[a("el-col",{staticClass:"elColRight elColTop fontWeight700 tablesty",attrs:{span:2}},[a("span",{directives:[{name:"show",rawName:"v-show",value:0===t.optType||1===t.optType,expression:"optType === 0 || optType === 1"}],staticClass:"canNotEmpty"},[t._v("*")]),t._v(t._s(0===e.classify?"外观":"包装")+" ")]),a("el-col",{staticClass:"elColTop overflowShow tablesty",attrs:{span:4,title:e.standard}},[t._v(t._s(e.standard))]),a("el-col",{staticClass:"elColLeft elColTop overflowShow tablesty",attrs:{span:3,title:e.evaluate}},[t._v(t._s(e.evaluate))]),a("el-col",{staticClass:"elColLeft elColTop tablesty",attrs:{span:3}},[a("el-switch",{key:"switch"+i,staticStyle:{display:"block"},attrs:{disabled:0!==t.optType&&1!==t.optType,"active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},on:{change:function(e){return t.handleSwitchChange(e,i,"cav1Value")}},model:{value:e.cav1Value,callback:function(a){t.$set(e,"cav1Value",a)},expression:"item.cav1Value"}})],1),a("el-col",{staticClass:"elColLeft elColTop tablesty",attrs:{span:3}},[a("el-switch",{key:"switch"+i,staticStyle:{display:"block"},attrs:{disabled:0!==t.optType&&1!==t.optType,"active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},on:{change:function(e){return t.handleSwitchChange(e,i,"cav2Value")}},model:{value:e.cav2Value,callback:function(a){t.$set(e,"cav2Value",a)},expression:"item.cav2Value"}})],1),a("el-col",{staticClass:"elColLeft elColTop tablesty",attrs:{span:3}},[a("el-switch",{key:"switch"+i,staticStyle:{display:"block"},attrs:{disabled:0!==t.optType&&1!==t.optType,"active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},on:{change:function(e){return t.handleSwitchChange(e,i,"cav3Value")}},model:{value:e.cav3Value,callback:function(a){t.$set(e,"cav3Value",a)},expression:"item.cav3Value"}})],1),a("el-col",{staticClass:"elColLeft elColTop tablesty",attrs:{span:3}},[a("el-switch",{key:"switch"+i,staticStyle:{display:"block"},attrs:{disabled:0!==t.optType&&1!==t.optType,"active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},on:{change:function(e){return t.handleSwitchChange(e,i,"cav4Value")}},model:{value:e.cav4Value,callback:function(a){t.$set(e,"cav4Value",a)},expression:"item.cav4Value"}})],1),a("el-col",{staticClass:"elColLeft elColTop tablesty",attrs:{span:3}},[a("el-switch",{key:"switch"+i,staticStyle:{display:"block"},attrs:{disabled:"","active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},model:{value:e.conclusion,callback:function(a){t.$set(e,"conclusion",a)},expression:"item.conclusion"}})],1)],1)],1):3===e.classify?a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[a("span",{directives:[{name:"show",rawName:"v-show",value:2===t.optType,expression:"optType === 2"}],staticClass:"canNotEmpty"},[t._v("*")]),t._v("尺寸")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:2}},[t._v(t._s(e.standardMin))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:2}},[t._v(t._s(e.standardMax))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(t._s(e.evaluate))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cav1Value,expression:"item.cav1Value"}],attrs:{disabled:2!==t.optType,placeholder:"输入Cav1的值",type:"number",maxlength:"100"},domProps:{value:e.cav1Value},on:{change:function(e){return t.handleNumberChange(e,i,"cav1Value")},input:function(a){a.target.composing||t.$set(e,"cav1Value",a.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cav2Value,expression:"item.cav2Value"}],attrs:{disabled:2!==t.optType,placeholder:"输入Cav2的值",type:"number",maxlength:"100"},domProps:{value:e.cav2Value},on:{change:function(e){return t.handleNumberChange(e,i,"cav2Value")},input:function(a){a.target.composing||t.$set(e,"cav2Value",a.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cav3Value,expression:"item.cav3Value"}],attrs:{disabled:2!==t.optType,placeholder:"输入Cav3的值",type:"number",maxlength:"100"},domProps:{value:e.cav3Value},on:{change:function(e){return t.handleNumberChange(e,i,"cav3Value")},input:function(a){a.target.composing||t.$set(e,"cav3Value",a.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cav4Value,expression:"item.cav4Value"}],attrs:{disabled:2!==t.optType,placeholder:"输入Cav4的值",type:"number",maxlength:"100"},domProps:{value:e.cav4Value},on:{change:function(e){return t.handleNumberChange(e,i,"cav4Value")},input:function(a){a.target.composing||t.$set(e,"cav4Value",a.target.value)}}})]),a("el-col",{staticClass:" elColTop",attrs:{span:3}},[a("el-switch",{key:"switch"+i,staticStyle:{display:"block"},attrs:{disabled:"","active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},model:{value:e.conclusion,callback:function(a){t.$set(e,"conclusion",a)},expression:"item.conclusion"}})],1)],1):t._e()],1)})),a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:9}},[a("span",{staticClass:"canNotEmpty"},[t._v("*")]),t._v("测量结束时间 Measurement end time")]),a("el-col",{staticClass:"elColTop",staticStyle:{"text-align":"left"},attrs:{span:15}},[a("el-time-picker",{attrs:{"value-format":"HH:mm",size:"mini",placeholder:"选择测量结束时间"},model:{value:t.oSubmit.endTimeMinute,callback:function(e){t.$set(t.oSubmit,"endTimeMinute",e)},expression:"oSubmit.endTimeMinute"}})],1)],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("备注 Remark")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:10}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.note,expression:"oSubmit.note"}],attrs:{placeholder:"输入备注",type:"text",maxlength:"100"},domProps:{value:t.oSubmit.note},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"note",e.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:3}},[a("span",{staticClass:"canNotEmpty"},[t._v("*")]),t._v("日期 Date")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("el-date-picker",{staticStyle:{width:"95%"},attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.oSubmit.endTimeDate,callback:function(e){t.$set(t.oSubmit,"endTimeDate",e)},expression:"oSubmit.endTimeDate"}})],1),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:3}},[a("span",{staticClass:"canNotEmpty"},[t._v("*")]),t._v("测量员 Surveyor")]),a("el-col",{staticClass:"elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.measureUser,expression:"oSubmit.measureUser"}],attrs:{placeholder:"输入测量员姓名",type:"text",maxlength:"10"},domProps:{value:t.oSubmit.measureUser},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"measureUser",e.target.value)}}})])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop",attrs:{span:9}},[t._v("泛沃 FineWorld")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:12}},[t._v(t._s(t.oDetail.version))]),a("el-col",{staticClass:"elColTop",attrs:{span:3}},[t._v("Page:1/1")])],1)],2)]),a("div",{staticClass:"bottom"},["find"!==t.type?a("el-button",{attrs:{type:"primary",disabled:t.disabledSubmit},on:{click:function(e){return t.submitForm()}}},[t._v("保存")]):t._e()],1)],1)},r=[],u=(a("c740"),a("a9e3"),a("d3b7"),a("25f0"),a("3ca3"),a("ddb0"),a("b50b")),d={name:"OuthousingTestInfo",components:{},props:{detailData:{type:Object,required:!0},optType:{type:Number,required:!0}},data:function(){return{disabledSubmit:!1,activeName:"first",standardList:[],oSubmit:{checkClassify:"",classify:3,createTime:"",dataId:null,endTimeDate:"",endTimeMinute:"",endTime:"",frequence:"",material:"",materialNo:"",mouldNo:"",note:"",ofNo:"",partCode:"",partName:"",realResult:"",samping:"",user:null,measureUser:"",viewResult:""},oDetail:{},oStandardDetail:{}}},computed:{standardFilterList:function(){var t=this.standardList;return t=t.sort(this.sortBy("classify",!0)),t}},created:function(){this.initData()},mounted:function(){},methods:{backClick:function(){this.$emit("OuthousingDetailCall",!1)},handleSwitchChange:function(t,e,a){this.standardFilterList[e][a]=t,this.standardFilterList.map((function(t,a){a===e&&(!0===t.cav1Value&&!0===t.cav2Value&&!0===t.cav3Value&&!0===t.cav4Value?t.conclusion=!0:t.conclusion=!1)}))},handleNumberChange:function(t,e,a){this.standardFilterList.map((function(t,a){a===e&&(1*t.cav1Value<=t.standardMax&&1*t.cav1Value>=t.standardMin&&1*t.cav2Value<=t.standardMax&&1*t.cav2Value>=t.standardMin&&1*t.cav3Value<=t.standardMax&&1*t.cav3Value>=t.standardMin&&1*t.cav4Value<=t.standardMax&&1*t.cav4Value>=t.standardMin?t.conclusion=!0:t.conclusion=!1)}))},submitForm:function(){this.saveStandardRequest()},sortBy:function(t,e){return e=void 0===e||e?1:-1,function(a,i){return a=a[t],i=i[t],a<i?-1*e:a>i?1*e:0}},saveStandardRequest:function(){var t=this;this.optSubmitData(),this.oSubmit.endTime=this.oSubmit.endTimeDate+" "+this.oSubmit.endTimeMinute;var e=this.formValidate(Object(l["a"])({},this.oSubmit));if(e){var a=[{checkClassify:this.oSubmit.checkClassify,classify:this.oSubmit.classify,dataId:this.oSubmit.dataId,endTime:this.oSubmit.endTime,frequence:this.oSubmit.frequence,material:this.oSubmit.material,materialNo:this.oSubmit.materialNo,mouldNo:this.oSubmit.mouldNo,note:this.oSubmit.note,ofNo:this.oSubmit.ofNo,partCode:this.oSubmit.partCode,partName:this.oSubmit.partName,realResult:this.oSubmit.realResult,samping:this.oSubmit.samping,measureUser:this.oSubmit.measureUser,viewResult:this.oSubmit.viewResult}];1===this.optType?null==a[0].checkClassify||0===a[0].checkClassify.length?a[0].checkClassify="5-0":a[0].checkClassify="5-0,"+a[0].checkClassify:2===this.optType&&(null==a[0].checkClassify||0===a[0].checkClassify.length?a[0].checkClassify="5-1":a[0].checkClassify=a[0].checkClassify+",5-1");var i=a[0].checkClassify.split(",");2===i.length?(a[0].id=this.oSubmit.id,Object(o["h"])(a[0]).then((function(e){0===e.code?(t.$message({type:"success",message:"保存出库检验成功"}),t.$emit("OuthousingDetailCall",!0)):1e3===e.code&&t.$message({type:"error",message:"保存出库检验失败："+e.msg})}))):Object(o["f"])(a).then((function(e){0===e.code?(t.$message({type:"success",message:"保存出库检验成功"}),t.$emit("OuthousingDetailCall",!0)):1e3===e.code&&t.$message({type:"error",message:"保存出库检验失败："+e.msg})}))}},optSubmitData:function(){var t=JSON.parse(JSON.stringify(this.standardList)),e=JSON.parse(JSON.stringify(this.standardList));t.map((function(t){0===t.classify||1===t.classify?(t.cav1Value=!0,t.cav2Value=!0,t.cav3Value=!0,t.cav4Value=!0,t.conclusion=!0):3===t.classify&&(t.cav1Value=Math.floor(Math.random()*(1*t.standardMax-1*t.standardMin+1)+1*t.standardMin),t.cav2Value=Math.floor(Math.random()*(1*t.standardMax-1*t.standardMin+1)+1*t.standardMin),t.cav3Value=Math.floor(Math.random()*(1*t.standardMax-1*t.standardMin+1)+1*t.standardMin),t.cav4Value=Math.floor(Math.random()*(1*t.standardMax-1*t.standardMin+1)+1*t.standardMin),t.conclusion=!0)})),this.oSubmit.viewResult=JSON.stringify(t),this.oSubmit.realResult=JSON.stringify(e)},initData:function(){var t=this,e=this,a=new Promise((function(t,a){var i={preciseCode:e.detailData.materialCode,classify:3,pageNum:1,pageSize:10};Object(u["b"])(i).then((function(e){t(e)})).catch((function(t){a(t)}))})),i=new Promise((function(t,a){var i={id:e.detailData.id};Object(o["c"])(i).then((function(e){t(e)})).catch((function(t){a(t)}))}));Promise.all([a,i]).then((function(e){var a=e;if(0!==a[0].code)return t.$message({type:"error",message:"获取零件检验规范失败："+a[0].msg}),void(t.disabledSubmit=!0);if(0===a[0].data.list.length||!a[0].data.list[0].qualityInspectionDetails)return t.standardList=[],t.$message({type:"error",message:"没有该零件检验规范，请先添加代码为: [ "+t.detailData.materialCode+" ] 的零件检验规范！"}),void(t.disabledSubmit=!0);if(0!==a[1].code||1!==a[1].data.length){var i=a[0].data.list[0].qualityInspectionDetails;return i.map((function(t,e){if(1*t.classify===3){var a=t.standard.split("-");t["standardMin"]=a[0],t["standardMax"]=a[1],t.cav1Value="",t.cav2Value="",t.cav3Value="",t.cav4Value="",t.conclusion=!1}else t.cav1Value=!0,t.cav2Value=!0,t.cav3Value=!0,t.cav4Value=!0,t.conclusion=!0})),t.standardList=i,t.oDetail=Object(l["a"])({},t.detailData),t.oDetail.version=a[0].data.list[0].version,t.oSubmit.dataId=t.detailData.id,t.oSubmit.ofNo=t.detailData.productCode,t.oSubmit.partCode=t.detailData.materialCode,t.oSubmit.partName=t.detailData.materialName,void(t.oSubmit.mouldNo=t.detailData.mouldNo)}if(0===a[1].code)if(1===a[1].data.length){t.oSubmit=a[1].data[0];var s=t.oSubmit.endTime.split(" ");t.oSubmit["endTimeDate"]=s[0],t.oSubmit["endTimeMinute"]=s[1].substring(0,5);var o=JSON.parse(t.oSubmit.realResult),n=a[0].data.list[0].qualityInspectionDetails;n.map((function(t,e){var a=o.findIndex((function(e){return e.id===t.id}));if(-1!==a){if(1*t.classify===3){var i=t.standard.split("-");t["standardMin"]=i[0],t["standardMax"]=i[1]}t.cav1Value=o[a].cav1Value,t.cav2Value=o[a].cav2Value,t.cav3Value=o[a].cav3Value,t.cav4Value=o[a].cav4Value,t.conclusion=o[a].conclusion}})),t.standardList=n,t.oDetail=Object(l["a"])({},t.detailData),t.oDetail.version=a[0].data.list[0].version}else t.$message({type:"error",message:"已检验部分数据异常!"}),t.disabledSubmit=!0;else t.$message({type:"error",message:"获取已检验部分详情失败："+a[1].msg}),t.disabledSubmit=!0}))},formValidate:function(t){for(var e=!0,a=JSON.parse(JSON.stringify(this.standardList)),i=!0,s=0;s<a.length;s++)if(3===a[s].classify&&2===this.optType&&(0===a[s].cav1Value.toString().length||0===a[s].cav2Value.toString().length||0===a[s].cav3Value.toString().length||0===a[s].cav4Value.toString().length)){i=!1;break}return 0===t.samping.length?(this.$message({type:"warning",message:"抽样不能为空!"}),e=!1):0===t.frequence.length?(this.$message({type:"warning",message:"频率不能为空!"}),e=!1):i?0===t.endTimeMinute.length?(this.$message({type:"warning",message:"测量结束时间不能为空!"}),e=!1):0===t.endTimeDate.length?(this.$message({type:"warning",message:"日期不能为空!"}),e=!1):0===t.measureUser.length?(this.$message({type:"warning",message:"测量员不能为空!"}),e=!1):e=!0:(this.$message({type:"warning",message:"尺寸相关值不能为空!"}),e=!1),e}}},p=d,m=(a("f9a8"),a("2877")),h=Object(m["a"])(p,c,r,!1,null,"f994269c",null),g=h.exports,v=a("a888"),f={name:"OuthousingTest",directives:{elDragDialog:v["a"]},components:{Pagination:n["a"],OuthousingTestInfo:g},data:function(){return{total:0,listQuery:{status:0,customer:"",materialCode:"",startDate:"",endDate:"",pageNum:1,pageSize:10},optType:1,tableHeight:0,tableKey:Math.random(),tableLoading:!0,oWarehousing:{},setDialogVisible:!1,warehousingLists:[]}},computed:{warehousingListFilter:function(){var t=this;if(this.warehousingList.length>0){var e=JSON.parse(JSON.stringify(this.warehousingList));return e.map((function(e){var a=t.warehousingTypes.find((function(t){return 1*e.houseType===t.value})),i=t.warehousingStatusList.find((function(t){return 1*e.status===t.value}));void 0!==a&&(e.houseTypeName=a.name),void 0!==i&&(e.statusName=i.name)})),e}return[]}},created:function(){var t=this;this.getOuthousingList(),this.computedTableHeight(),window.onresize=function(){return function(){t.computedTableHeight()}()}},methods:{headerClassName:function(t){t.row,t.rowIndex;return"background-color: #FAFAFA"},outhousingDetailCall:function(t){this.setDialogVisible=!1,t&&this.getOuthousingList()},handleFilter:function(){if(null!==this.listQuery.startDate&&null!==this.listQuery.endDate&&0!==this.listQuery.startDate.length&&0!==this.listQuery.endDate.length){var t=new Date(this.listQuery.startDate).getTime(),e=new Date(this.listQuery.endDate).getTime();if(t>e)return void this.$message({message:"开始时间不能大于结束时间!",type:"warning"})}this.listQuery.pageNum=1,this.getOuthousingList()},handleDetail:function(t,e){var a=null===t.checkClassify?"":t.checkClassify.split(",");if(1===a.length&&"5-0"===a[0]){if(1===e)return void this.$message({message:"外观已检验，不能重复检验!",type:"warning"})}else if(1===a.length&&"5-1"===a[0]&&2===e)return void this.$message({message:"尺寸已检验，不能重复检验!",type:"warning"});this.optType=e,this.oWarehousing=Object(l["a"])({},t),this.setDialogVisible=!0},handleReset:function(){this.listQuery.pageNum=1,this.listQuery.customer="",this.listQuery.materialCode="",this.listQuery.startDate="",this.listQuery.endDate="",this.getOuthousingList()},getOuthousingList:function(){var t=this;this.tableLoading=!0;var e="",a="";null!==this.listQuery.startDate&&0!==this.listQuery.startDate.length&&(e=this.listQuery.startDate+" 00:00:00"),null!==this.listQuery.endDate&&0!==this.listQuery.endDate.length&&(a=this.listQuery.endDate+" 23:59:59");var i={status:this.listQuery.status,customer:this.listQuery.customer,materialCode:this.listQuery.materialCode,startTime:e,stopTime:a,pageNum:this.listQuery.pageNum,pageSize:this.listQuery.pageSize};Object(o["d"])(i).then((function(e){0===e.code&&(t.warehousingLists=e.data.list),t.total=e.data.total,t.tableLoading=!1}))},computedTableHeight:function(){var t=document.body.clientHeight;t=t<768?768:t,this.tableHeight=t-308}}},C=f,b=(a("bdaf"),Object(m["a"])(C,i,s,!1,null,"4973ac5e",null));e["default"]=b.exports},f9a8:function(t,e,a){"use strict";var i=a("8903"),s=a.n(i);s.a}}]);