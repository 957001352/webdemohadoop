(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f7972b48"],{"02e1":function(e,t,s){"use strict";var a=s("1ea4"),i=s.n(a);i.a},"0b14":function(e,t,s){},"0ecb":function(e,t,s){},1376:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.detailDialogVisible,expression:"!detailDialogVisible"}],staticClass:"list-contenter"},[s("div",{staticClass:"filter-container"},[s("span",{staticClass:"seachname"},[e._v("设备编号:")]),s("el-input",{staticClass:"filter-item",attrs:{size:"small",placeholder:"输入设备编号"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.deviceCode,callback:function(t){e.$set(e.listQuery,"deviceCode",t)},expression:"listQuery.deviceCode"}}),s("span",{staticClass:"seachname"},[e._v("设备类型:")]),s("el-select",{attrs:{clearable:"",size:"small",placeholder:"请选择设备类型"},model:{value:e.listQuery.devicesClassify,callback:function(t){e.$set(e.listQuery,"devicesClassify",t)},expression:"listQuery.devicesClassify"}},e._l(e.devicesClassifys,(function(e){return s("el-option",{key:e.classifyId,attrs:{label:e.classifyName,value:e.classifyId}})})),1),s("span",{staticClass:"seachname"},[e._v("设备状态:")]),s("el-select",{attrs:{clearable:"",size:"small",placeholder:"请选择设备状态"},model:{value:e.listQuery.deviceStatus,callback:function(t){e.$set(e.listQuery,"deviceStatus",t)},expression:"listQuery.deviceStatus"}},e._l(e.deviceStatusList,(function(e){return s("el-option",{key:e.value,attrs:{label:e.value,value:e.id}})})),1),s("span",{staticClass:"seachname"},[e._v("入厂日期:")]),s("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",size:"small",type:"date",placeholder:"选择开始日期"},model:{value:e.listQuery.startDate,callback:function(t){e.$set(e.listQuery,"startDate",t)},expression:"listQuery.startDate"}}),s("span",{staticClass:"seachname"},[e._v("—")]),s("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",size:"small",type:"date",placeholder:"选择结束日期"},model:{value:e.listQuery.endDate,callback:function(t){e.$set(e.listQuery,"endDate",t)},expression:"listQuery.endDate"}}),s("el-button",{staticClass:"primaryBtn",attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("查询")]),s("el-button",{staticClass:"resetBtn",attrs:{type:"default",size:"mini",icon:"el-icon-refresh-right"},on:{click:e.handleReset}},[e._v("重置")])],1),s("div",{staticClass:"opt-container"},[s("el-button",{staticClass:"rightBtn",attrs:{size:"mini",icon:"el-icon-s-grid"},on:{click:e.handleSetColumn}},[e._v("设置表头")]),e.setTableTitle?s("TableColumn",{attrs:{"a-checked-column":e.checkedColumn,"a-column-list":e.oldColumnList,"min-column-count":e.minColumnCount},on:{checkedColumnCallFun:e.checkedColumnFun}}):e._e()],1),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],key:e.tableKey,ref:"tableRef",attrs:{stripe:"",data:e.resumeList,border:"",fit:"","highlight-current-row":"","header-cell-style":e.headerClassName,height:e.tableHeight}},[s("el-table-column",{attrs:{label:"序号",type:"index",align:"center",width:"50",fixed:""}}),s("el-table-column",{attrs:{label:"设备编号",prop:"name",width:"180px",align:"center",fixed:""}}),s("el-table-column",{attrs:{label:"设备类型",prop:"classifyName",width:"200px",align:"center"}}),s("el-table-column",{attrs:{label:"状态",prop:"devicesExtension.status",width:"150px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[null!==a.devicesExtension&&0===a.devicesExtension.status?s("span",[e._v("正常")]):null!==a.devicesExtension&&2===a.devicesExtension.status?s("span",{staticClass:"info-row"},[e._v("报废")]):e._e()]}}])}),s("el-table-column",{attrs:{label:"入厂时间",prop:"devicesExtension.intoTime",width:"200px",align:"center"}}),e._l(e.columnList,(function(e){return s("el-table-column",{key:e.columnName,attrs:{label:e.name,prop:e.columnName,width:"180px",align:"center"}})})),s("el-table-column",{attrs:{label:"操作",width:"200px",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e.hasPermission("resume/find")?s("el-button",{staticClass:"defaultTextBtn",attrs:{type:"text"},on:{click:function(t){return e.handleDetail(a)}}},[s("svg-icon",{attrs:{"icon-class":"search"}}),e._v(" 查看 ")],1):e._e(),e.hasPermission("resume/edit")?s("el-button",{staticClass:"addTextBtn",attrs:{type:"text"},on:{click:function(t){return e.handleEdit(a)}}},[s("svg-icon",{attrs:{"icon-class":"edit"}}),e._v(" 编辑 ")],1):e._e(),e.hasPermission("resume/scrap")?s("el-button",{staticClass:"otherTextBtn",attrs:{type:"text"},on:{click:function(t){return e.handleScrap(a)}}},[s("svg-icon",{attrs:{"icon-class":"scape"}}),e._v(" 报废 ")],1):e._e()]}}])})],2),e.editDialogVisible?s("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],staticClass:"dialogs",attrs:{title:"编辑",visible:e.editDialogVisible,"close-on-click-modal":!1,width:"1360px"},on:{"update:visible":function(t){e.editDialogVisible=t}}},[s("resume-edit",{attrs:{"resume-obj":e.oResume},on:{ResumeEditCall:e.resumeEditCall}})],1):e._e(),e.scrapDialogVisible?s("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],staticClass:"dialogs",attrs:{title:"报废",visible:e.scrapDialogVisible,"close-on-click-modal":!1,width:"480px"},on:{"update:visible":function(t){e.scrapDialogVisible=t}}},[s("scraps-apply",{attrs:{"scraps-obj":e.oResume},on:{ScrapsApplyCall:e.scrapsApplyCall}})],1):e._e()],1),e.detailDialogVisible?s("resume-detail",{attrs:{"resume-obj":e.oResume},on:{ResumeDetailCall:e.resumeDetailCall}}):e._e()],1)},i=[],n=(s("d81d"),s("5530")),l=s("2909"),r=s("6ace"),o=s("b775");function c(e){return Object(o["a"])({url:window.configs.api+"/devicesExtension/findList",method:"get",params:e})}function m(e){return Object(o["a"])({url:window.configs.api+"/devicesExtension/save",method:"post",data:e})}var u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("el-form",{ref:"scrapsApplyForm",attrs:{model:e.applyForm,rules:e.rules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"设备编号"}},[s("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.applyForm.name,callback:function(t){e.$set(e.applyForm,"name",t)},expression:"applyForm.name"}})],1),s("el-form-item",{attrs:{label:"设备类型"}},[s("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.applyForm.classifyName,callback:function(t){e.$set(e.applyForm,"classifyName",t)},expression:"applyForm.classifyName"}})],1),s("el-form-item",{attrs:{label:"报废原因",prop:"scrapsReason"}},[s("el-input",{attrs:{type:"textarea",size:"mini",maxlength:"100","show-word-limit":"",placeholder:"请输入报废原因"},model:{value:e.applyForm.scrapsReason,callback:function(t){e.$set(e.applyForm,"scrapsReason",t)},expression:"applyForm.scrapsReason"}})],1),s("el-form-item",{attrs:{label:"上传附件",prop:"fileList"}},[s("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"",limit:3,"on-exceed":e.onExceed,"on-remove":e.handleRemove,"before-upload":e.beforeFile,"http-request":e.uploadImage,"file-list":e.applyForm.fileList,"auto-upload":!0}},[s("el-button",{attrs:{slot:"trigger",size:"mini",type:"primary"},slot:"trigger"},[e._v("选取文件")]),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("可上传1-3个文件，且每个文件大小不超过200M")])],1)],1)],1),s("div",{staticClass:"footer"},[s("el-button",{attrs:{size:"mini"},on:{click:e.handleCancel}},[e._v("取消")]),s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.handleSubmit}},[e._v("保存")])],1)],1)},d=[],p=(s("4160"),s("b0c0"),s("d3b7"),s("498a"),s("159b"),s("5471")),h={name:"ScrapsApply",props:{scrapsObj:{type:Object,required:!0}},data:function(){return{applyForm:{id:"",name:"",fileList:[],classifyName:"",dataId:"",scrapsReason:""},rules:{scrapsReason:[{required:!0,message:"请输入报废原因",trigger:"blur"},{validator:function(e,t,s){var a=t.trim();a.length<1||a.length>100?s(new Error("报废原因必须是1~50个字符")):s()},trigger:"blur"}],fileList:[{required:!0,message:"请选择上传的文件",trigger:"change"}]}}},created:function(){this.applyForm.id=this.scrapsObj.devicesExtension.id,this.applyForm.name=this.scrapsObj.name,this.applyForm.classifyName=this.scrapsObj.classifyName},methods:{handleCancel:function(){this.$emit("ScrapsApplyCall",!1)},handleSubmit:function(){var e=this;this.$refs.scrapsApplyForm.validate((function(t){if(!t)return!1;e.addScrapRequest()}))},addScrapRequest:function(){var e=this,t=[];this.applyForm.fileList.forEach((function(e){t.push(e.dataId)}));var s={dataId:t.toString(),devicesExtensionId:this.applyForm.id,reason:this.applyForm.scrapsReason};Object(p["a"])(s).then((function(t){0===t.code?(e.$message({type:"success",message:"报废申请成功！"}),e.$emit("ScrapsApplyCall",!0)):1e3===t.code&&e.$message({type:"warning",message:"报废申请失败:"+t.msg})}))},handleRemove:function(e,t){this.applyForm.fileList=Object(l["a"])(t)},uploadImage:function(e){var t=this,s=new FormData;s.append("file",e.file),s.append("isAdd",!0),Object(r["c"])(s).then((function(e){0===e.code&&(t.applyForm.fileList.push(e.data),t.$message({type:"success",message:"上传成功！"}))}))},onExceed:function(e,t){3===t.length&&this.$message({type:"warning",message:"只能上传1-3个文件!"})},beforeFile:function(e){var t=e.size/1024/1024<200;return t?this.applyForm.fileList.length>3?(this.$message.error("仅能上传3个文件!"),!1):void 0:(this.$message.error("上传文件大小不能超过200MB!"),!1)}}},f=h,v=(s("31a1"),s("2877")),b=Object(v["a"])(f,u,d,!1,null,"02efcef7",null),g=b.exports,x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("el-form",{ref:"resumeEditForm",attrs:{model:e.resumeEditForm,rules:e.rules,"label-width":"170px"}},[s("el-row",{attrs:{gutter:30}},[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"设备编号"}},[s("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.notSubmitForm.name,callback:function(t){e.$set(e.notSubmitForm,"name",t)},expression:"notSubmitForm.name"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"设备类型"}},[s("el-input",{attrs:{size:"mini",readonly:""},model:{value:e.notSubmitForm.classifyName,callback:function(t){e.$set(e.notSubmitForm,"classifyName",t)},expression:"notSubmitForm.classifyName"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"设备状态"}},[s("el-select",{attrs:{size:"mini",disabled:"",placeholder:"请选择设备状态"},model:{value:e.notSubmitForm.status,callback:function(t){e.$set(e.notSubmitForm,"status",t)},expression:"notSubmitForm.status"}},e._l(e.deviceStatusList,(function(e){return s("el-option",{key:e.value,attrs:{label:e.value,value:e.id}})})),1)],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"入厂时间",prop:"intoTime"}},[s("el-date-picker",{staticStyle:{width:"100%"},attrs:{"value-format":"yyyy-MM-dd",size:"mini",type:"date",placeholder:"选择入厂日期"},model:{value:e.resumeEditForm.intoTime,callback:function(t){e.$set(e.resumeEditForm,"intoTime",t)},expression:"resumeEditForm.intoTime"}})],1)],1)],1),s("el-row",{attrs:{gutter:30}},[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"射嘴长度(mm)",prop:"shzcd"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.shzcd,callback:function(t){e.$set(e.resumeEditForm,"shzcd",t)},expression:"resumeEditForm.shzcd"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"射嘴外径(mm)",prop:"shzwj"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.shzwj,callback:function(t){e.$set(e.resumeEditForm,"shzwj",t)},expression:"resumeEditForm.shzwj"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"射出容量(cm³)",prop:"shchrl"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.shchrl,callback:function(t){e.$set(e.resumeEditForm,"shchrl",t)},expression:"resumeEditForm.shchrl"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"射出重量(g)PS",prop:"shechzhl"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.shechzhl,callback:function(t){e.$set(e.resumeEditForm,"shechzhl",t)},expression:"resumeEditForm.shechzhl"}})],1)],1)],1),s("el-row",{attrs:{gutter:30}},[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"螺杆直径￠(mm)",prop:"lgzhj"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.lgzhj,callback:function(t){e.$set(e.resumeEditForm,"lgzhj",t)},expression:"resumeEditForm.lgzhj"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"螺杆塑化能力(g/s)",prop:"lgshnl"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.lgshnl,callback:function(t){e.$set(e.resumeEditForm,"lgshnl",t)},expression:"resumeEditForm.lgshnl"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"射出压力(mpa)",prop:"shchyl"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.shchyl,callback:function(t){e.$set(e.resumeEditForm,"shchyl",t)},expression:"resumeEditForm.shchyl"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"顶出力(KN)",prop:"dchl"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.dchl,callback:function(t){e.$set(e.resumeEditForm,"dchl",t)},expression:"resumeEditForm.dchl"}})],1)],1)],1),s("el-row",{attrs:{gutter:30}},[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"顶杆孔直径￠(mm)",prop:"dgkzhj"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.dgkzhj,callback:function(t){e.$set(e.resumeEditForm,"dgkzhj",t)},expression:"resumeEditForm.dgkzhj"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"顶针行程(mm)",prop:"dzhxch"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.dzhxch,callback:function(t){e.$set(e.resumeEditForm,"dzhxch",t)},expression:"resumeEditForm.dzhxch"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"气压中子",prop:"qyzhz"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.qyzhz,callback:function(t){e.$set(e.resumeEditForm,"qyzhz",t)},expression:"resumeEditForm.qyzhz"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"最大开模行程(mm)",prop:"zdkmxch"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.zdkmxch,callback:function(t){e.$set(e.resumeEditForm,"zdkmxch",t)},expression:"resumeEditForm.zdkmxch"}})],1)],1)],1),s("el-row",{attrs:{gutter:30}},[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"导柱间距H×V(mm)",prop:"dzhjjHv"}},[s("el-input",{attrs:{size:"mini",placeholder:"导柱间距H×V(mm)"},model:{value:e.resumeEditForm.dzhjjHv,callback:function(t){e.$set(e.resumeEditForm,"dzhjjHv",t)},expression:"resumeEditForm.dzhjjHv"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"最小模具尺寸(mm)",prop:"zxmjchc"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.zxmjchc,callback:function(t){e.$set(e.resumeEditForm,"zxmjchc",t)},expression:"resumeEditForm.zxmjchc"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"模板尺寸(mm)",prop:"mbchc"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.mbchc,callback:function(t){e.$set(e.resumeEditForm,"mbchc",t)},expression:"resumeEditForm.mbchc"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"油压中子(set)",prop:"yyzhz"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.yyzhz,callback:function(t){e.$set(e.resumeEditForm,"yyzhz",t)},expression:"resumeEditForm.yyzhz"}})],1)],1)],1),s("el-row",{attrs:{gutter:30}},[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"模具最大闭合厚度(mm)",prop:"mjzdbhhd"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.mjzdbhhd,callback:function(t){e.$set(e.resumeEditForm,"mjzdbhhd",t)},expression:"resumeEditForm.mjzdbhhd"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"定位环直径￠(mm)",prop:"dwhzhj"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.dwhzhj,callback:function(t){e.$set(e.resumeEditForm,"dwhzhj",t)},expression:"resumeEditForm.dwhzhj"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"射嘴球面半径",prop:"shzqmbj"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.shzqmbj,callback:function(t){e.$set(e.resumeEditForm,"shzqmbj",t)},expression:"resumeEditForm.shzqmbj"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"射咀孔径￠(mm)",prop:"shzkj"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.shzkj,callback:function(t){e.$set(e.resumeEditForm,"shzkj",t)},expression:"resumeEditForm.shzkj"}})],1)],1)],1),s("el-row",{attrs:{gutter:30}},[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"射咀接触压力(mpa)",prop:"shzjchyl"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.shzjchyl,callback:function(t){e.$set(e.resumeEditForm,"shzjchyl",t)},expression:"resumeEditForm.shzjchyl"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"设备尺寸(m)L×W×H",prop:"shbchc"}},[s("el-input",{attrs:{size:"mini",placeholder:"设备尺寸(m)L×W×H"},model:{value:e.resumeEditForm.shbchc,callback:function(t){e.$set(e.resumeEditForm,"shbchc",t)},expression:"resumeEditForm.shbchc"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"设备重量(t)",prop:"shbzhl"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.shbzhl,callback:function(t){e.$set(e.resumeEditForm,"shbzhl",t)},expression:"resumeEditForm.shbzhl"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"液压流量(l)",prop:"yyll"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.yyll,callback:function(t){e.$set(e.resumeEditForm,"yyll",t)},expression:"resumeEditForm.yyll"}})],1)],1)],1),s("el-row",{attrs:{gutter:30}},[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"电机功率(kw)",prop:"djgl"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.djgl,callback:function(t){e.$set(e.resumeEditForm,"djgl",t)},expression:"resumeEditForm.djgl"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"加热功率(kw)",prop:"jrgl"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.jrgl,callback:function(t){e.$set(e.resumeEditForm,"jrgl",t)},expression:"resumeEditForm.jrgl"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"机械手",prop:"jxsh"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.jxsh,callback:function(t){e.$set(e.resumeEditForm,"jxsh",t)},expression:"resumeEditForm.jxsh"}})],1)],1),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"顶杆数量(kw)",prop:"dgshl"}},[s("el-input-number",{attrs:{size:"mini",precision:2,step:.1,min:0},model:{value:e.resumeEditForm.dgshl,callback:function(t){e.$set(e.resumeEditForm,"dgshl",t)},expression:"resumeEditForm.dgshl"}})],1)],1)],1),s("el-row",{attrs:{gutter:30}},[e._l(e.addList,(function(t,a){return s("el-col",{key:a,staticClass:"new-params",attrs:{span:6}},[s("el-form-item",{attrs:{label:t.name}},[s("el-input",{attrs:{size:"mini",maxlength:"10"},model:{value:t["params"+a],callback:function(s){e.$set(t,"params"+a,s)},expression:"item['params'+index]"}})],1)],1)})),s("el-col",{staticClass:"new-params",attrs:{span:6}},[s("el-button",{staticStyle:{"margin-top":"5px","margin-bottom":"18px"},attrs:{size:"mini",icon:"el-icon-plus"},on:{click:function(t){return e.addParams()}}},[e._v("添加参数")])],1)],2)],1),s("div",{staticClass:"footer"},[s("el-button",{attrs:{size:"mini"},on:{click:e.handleCancel}},[e._v("取消")]),s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.handleSubmit}},[e._v("保存")])],1),s("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],staticClass:"dialogs",attrs:{title:"参数名称",visible:e.addDialogVisible,"close-on-click-modal":!1,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.addDialogVisible=t},close:function(t){return e.resetFrom("addForm")}}},[s("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"参数名称",prop:"name"}},[s("el-input",{attrs:{size:"mini",maxlength:"10"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"defaultBtn",staticStyle:{width:"120px","border-radius":"4px"},on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取消")]),s("el-button",{staticClass:"primaryBtn",staticStyle:{width:"120px"},attrs:{type:"primary"},on:{click:function(t){return e.addForms("addForm")}}},[e._v("保存")])],1)],1)],1)},y=[],w=s("b85c"),_=s("a888"),C={name:"ResumeEdit",directives:{elDragDialog:_["a"]},props:{resumeObj:{type:Object,required:!0}},data:function(){return{addForm:{name:""},addDialogVisible:!1,resumeEditForm:{},notSubmitForm:{},addList:[],deviceStatusList:[{id:0,value:"正常"},{id:1,value:"停用"},{id:2,value:"报废"}],rules:{intoTime:[{required:!0,message:"请选择入厂日期",trigger:"blur"}],shzcd:[{required:!0,message:"请输入射嘴长度",trigger:"blur"}],shzwj:[{required:!0,message:"请输入射嘴外径",trigger:"blur"}],shchrl:[{required:!0,message:"请输入射出容量",trigger:"blur"}],shechzhl:[{required:!0,message:"请输入射出重量",trigger:"blur"}],lgzhj:[{required:!0,message:"请输入螺杆直径",trigger:"blur"}],lgshnl:[{required:!0,message:"请输入螺杆塑化能力",trigger:"blur"}],shchyl:[{required:!0,message:"请输入射出压力",trigger:"blur"}],dchl:[{required:!0,message:"请输入顶出力",trigger:"blur"}],dgkzhj:[{required:!0,message:"请输入顶杆孔直径",trigger:"blur"}],dzhxch:[{required:!0,message:"请输入顶针行程",trigger:"blur"}],qyzhz:[{required:!0,message:"请输入气压中子",trigger:"blur"}],zdkmxch:[{required:!0,message:"请输入最大开模行程",trigger:"blur"}],dzhjjHv:[{required:!0,message:"请输入导柱间距H×V",trigger:"blur"}],zxmjchc:[{required:!0,message:"请输入最小模具尺寸",trigger:"blur"}],mbchc:[{required:!0,message:"请输入模板尺寸",trigger:"blur"}],yyzhz:[{required:!0,message:"请输入油压中子",trigger:"blur"}],mjzdbhhd:[{required:!0,message:"请输入模具最大闭合厚度",trigger:"blur"}],dwhzhj:[{required:!0,message:"请输入定位环直径",trigger:"blur"}],shzqmbj:[{required:!0,message:"请输入射嘴球面半径",trigger:"blur"}],shzkj:[{required:!0,message:"请输入射咀孔径",trigger:"blur"}],shzjchyl:[{required:!0,message:"请输入射咀接触压力",trigger:"blur"}],shbchc:[{required:!0,message:"请输入设备尺寸",trigger:"blur"}],shbzhl:[{required:!0,message:"请输入设备重量",trigger:"blur"}],yyll:[{required:!0,message:"请输入液压流量",trigger:"blur"}],djgl:[{required:!0,message:"请输入电机功率",trigger:"blur"}],jrgl:[{required:!0,message:"请输入加热功率",trigger:"blur"}],jxsh:[{required:!0,message:"请输入机械手",trigger:"blur"}],dgshl:[{required:!0,message:"请输入顶杆数量",trigger:"blur"}],name:[{required:!0,message:"请输入参数名称",trigger:"blur"}]}}},created:function(){this.notSubmitForm=Object(n["a"])({},this.resumeObj),delete this.notSubmitForm.devicesExtension,this.resumeEditForm=Object(n["a"])({},this.resumeObj.devicesExtension),this.resumeEditForm.extendAttr.length>0&&(this.addList=JSON.parse(this.resumeEditForm.extendAttr))},methods:{handleCancel:function(){this.$emit("ResumeEditCall",!1)},handleSubmit:function(){var e=this;this.$refs.resumeEditForm.validate((function(t){if(!t)return!1;e.editResumeRequest()}))},editResumeRequest:function(){var e=this;this.resumeEditForm.extendAttr="",this.addList.length>0&&(this.resumeEditForm.extendAttr=JSON.stringify(this.addList));var t=Object(n["a"])({},this.resumeEditForm);t.productDevicesId=this.notSubmitForm.id,m(t).then((function(t){0===t.code?(e.$message({type:"success",message:"履历编辑成功！"}),e.$emit("ResumeEditCall",!0)):1e3===t.code&&e.$message({type:"warning",message:"履历编辑失败:"+t.msg})}))},addParams:function(){this.addForm={name:""},this.addDialogVisible=!0},resetFrom:function(e){this.$refs[e].resetFields()},addForms:function(e){var t=this;this.$refs[e].validate((function(s){if(s){var a,i=!0,n=Object(w["a"])(t.addList);try{for(n.s();!(a=n.n()).done;){var l=a.value;if(l.name===t.addForm.name){i=!1;break}}}catch(o){n.e(o)}finally{n.f()}if(i){var r={name:t.addForm.name};r["params"+t.addList.length]="",t.addList.push(r),t.$refs[e].resetFields(),t.addDialogVisible=!1}else t.$message({type:"error",message:"参数名称重复!"})}}))}}},E=C,k=(s("8843"),Object(v["a"])(E,x,y,!1,null,"e2f60e3c",null)),j=k.exports,D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.oResumeDetail?s("div",{staticClass:"app-container2"},[s("div",{staticClass:"header"},[s("div",{staticClass:"headerBackBtn el-icon-arrow-left",on:{click:e.handleBack}},[e._v(" 返回")]),s("span",{staticClass:"headerTitle"},[e._v("履历详情")]),s("span",{staticClass:"headerTitle"},[e._v("设备编号："+e._s(e.oResumeDetail?e.oResumeDetail.name:""))]),s("span",{staticClass:"headerTitle"},[e._v("设备类型："+e._s(e.oResumeDetail?e.oResumeDetail.classifyName:""))]),s("span",{staticClass:"headerTitle"},[e._v("入厂时间："+e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.intoTime:""))]),0===e.oResumeDetail.status?s("span",{staticClass:"headerTitle"},[e._v("设备状态：正常")]):e._e(),1===e.oResumeDetail.status?s("span",{staticClass:"headerTitle"},[e._v("设备状态：停用")]):e._e(),2===e.oResumeDetail.status?s("span",{staticClass:"headerTitle"},[e._v("设备状态：报废")]):e._e()]),s("div",{staticClass:"content1"},[e._m(0),s("div",{staticClass:"contentBody"},[s("el-row",[s("el-col",{attrs:{span:3}},[e._v("设备照片：")]),s("el-col",{attrs:{span:10}},[s("el-image",{staticStyle:{width:"240px",height:"120px"},attrs:{src:e.imageUrl+(e.oResumeDetail.classifySet?e.oResumeDetail.classifySet.imagePath:""),alt:"设备照片"}})],1),s("el-col",{attrs:{span:3}},[e._v("设备二维码：")]),s("el-col",{attrs:{span:3}},[s("el-image",{staticStyle:{width:"120px",height:"120px"},attrs:{src:e.imageUrl+(e.oResumeDetail.classifySet?e.oResumeDetail.classifySet.imagePath:""),alt:"设备二维码"}})],1),s("el-col",{attrs:{span:5}},[s("el-button",{staticClass:"filter-item",attrs:{type:"primary",size:"mini",icon:"el-icon-download"},on:{click:e.handleDownload}},[e._v("下载二维码")])],1)],1),s("el-row",[s("el-col",{attrs:{span:3}},[e._v("射嘴长度(mm)：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.shzcd:""))])]),s("el-col",{attrs:{span:3}},[e._v("射嘴外径(mm)：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.shzwj:""))])]),s("el-col",{attrs:{span:3}},[e._v("射出容量(cm³)：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.shchrl:""))])]),s("el-col",{attrs:{span:3}},[e._v("射出重量(g)PS：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.shechzhl:""))])])],1),s("el-row",[s("el-col",{attrs:{span:3}},[e._v("螺杆直径￠(mm)：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.lgzhj:""))])]),s("el-col",{attrs:{span:3}},[e._v("螺杆塑化能力(g/s)：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.lgshnl:""))])]),s("el-col",{attrs:{span:3}},[e._v("射出压力(mpa)：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.shchyl:""))])]),s("el-col",{attrs:{span:3}},[e._v("顶出力(KN)：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.dchl:""))])])],1),s("el-row",[s("el-col",{attrs:{span:3}},[e._v("顶杆孔直径￠(mm)：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.dgkzhj:""))])]),s("el-col",{attrs:{span:3}},[e._v("顶针行程(mm)：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.dzhxch:""))])]),s("el-col",{attrs:{span:3}},[e._v("气压中子：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.qyzhz:""))])]),s("el-col",{attrs:{span:3}},[e._v("最大开模行程(mm)：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.zdkmxch:""))])])],1),s("el-row",[s("el-col",{attrs:{span:3}},[e._v("导柱间距H×V(mm)：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.dzhjjHv:""))])]),s("el-col",{attrs:{span:3}},[e._v("最小模具尺寸(mm)：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.zxmjchc:""))])]),s("el-col",{attrs:{span:3}},[e._v("模板尺寸(mm)：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.mbchc:""))])]),s("el-col",{attrs:{span:3}},[e._v("油压中子(set)：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.yyzhz:""))])])],1),s("el-row",[s("el-col",{attrs:{span:3}},[e._v("模具最大闭合厚度(mm)：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.mjzdbhhd:""))])]),s("el-col",{attrs:{span:3}},[e._v("定位环直径￠(mm)：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.dwhzhj:""))])]),s("el-col",{attrs:{span:3}},[e._v("射嘴球面半径：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.shzqmbj:""))])]),s("el-col",{attrs:{span:3}},[e._v("射咀孔径￠(mm)：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.shzkj:""))])])],1),s("el-row",[s("el-col",{attrs:{span:3}},[e._v("射咀接触压力(mpa)：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.shzjchyl:""))])]),s("el-col",{attrs:{span:3}},[e._v("设备尺寸(m)L×W×H：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.shbchc:""))])]),s("el-col",{attrs:{span:3}},[e._v("设备重量(t)：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.shbzhl:""))])]),s("el-col",{attrs:{span:3}},[e._v("液压流量(l)：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.yyll:""))])])],1),s("el-row",[s("el-col",{attrs:{span:3}},[e._v("电机功率(kw)：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.djgl:""))])]),s("el-col",{attrs:{span:3}},[e._v("加热功率(kw)：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.jrgl:""))])]),s("el-col",{attrs:{span:3}},[e._v("机械手：")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.jxsh:""))])]),s("el-col",{attrs:{span:3}},[e._v("顶杆数量(kw)")]),s("el-col",{attrs:{span:3}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.oResumeDetail.devicesExtension?e.oResumeDetail.devicesExtension.dgshl:""))])])],1),s("el-row",e._l(e.paramsList,(function(t,a){return s("el-col",{key:a,attrs:{span:6}},[s("el-row",{staticStyle:{padding:"0"}},[s("el-col",{attrs:{span:12}},[e._v(" "+e._s(t.name)+" ")]),s("el-col",{attrs:{span:12}},[s("span",{staticClass:"contentText"},[e._v(e._s(t["params"+a]))])])],1)],1)})),1)],1)]),e.oResumeDetail?s("div",{staticClass:"content1"},[s("div",{staticClass:"contentBody"},[s("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[s("el-tab-pane",{attrs:{label:"点检履历",name:"1"}},[s("SpotCheckLogByCode",{attrs:{"devices-name":e.oResumeDetail.name?e.oResumeDetail.name:""}})],1),s("el-tab-pane",{attrs:{label:"保养履历",name:"2"}},[s("MaintainPlanImplementByCode",{attrs:{"devices-name":e.oResumeDetail.name?e.oResumeDetail.name:""}})],1),s("el-tab-pane",{attrs:{label:"维修履历",name:"3"}},[s("RepairLogByCode",{attrs:{"devices-name":e.oResumeDetail.name?e.oResumeDetail.name:""}})],1),s("el-tab-pane",{attrs:{label:"报废履历",name:"4"}},[s("ScrapsByCode",{attrs:{"devices-name":e.oResumeDetail.name?e.oResumeDetail.name:""}})],1)],1)],1)]):e._e()]):e._e()},z=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"title"},[s("span",{staticClass:"ganggang"},[e._v("-")]),e._v(" 基本信息")])}],F=(s("baa5"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],key:e.tableKey,ref:"tableRef",attrs:{stripe:"",data:e.deviceScrapRecordList,border:"",fit:"","highlight-current-row":"","header-cell-style":e.headerClassName,height:e.tableHeight}},[s("el-table-column",{attrs:{label:"序号",type:"index",align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s((e.listQuery.page-1)*e.listQuery.limit+t.$index+1)+" ")]}}])}),s("el-table-column",{attrs:{label:"设备编号",prop:"devicesItemVo.name","min-width":"200px",align:"center"}}),s("el-table-column",{attrs:{label:"设备类型",prop:"devicesItemVo.classifyName",width:"200px",align:"center"}}),s("el-table-column",{attrs:{label:"申请人",prop:"creatUser",width:"150px",align:"center"}}),s("el-table-column",{attrs:{label:"申请报废时间",prop:"createTime",width:"200px",align:"center"}}),s("el-table-column",{attrs:{label:"审批结果",prop:"auditStatus","min-width":"150px",align:"center"}}),s("el-table-column",{attrs:{label:"操作",width:"100px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[s("el-button",{staticClass:"defaultTextBtn",attrs:{type:"text"},on:{click:function(t){return e.handleDetail(a)}}},[s("svg-icon",{attrs:{"icon-class":"search"}}),e._v(" 查看 ")],1)]}}])})],1),e.detailDialogVisible?s("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],staticClass:"dialogs",attrs:{title:"报废记录详情",visible:e.detailDialogVisible,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(t){e.detailDialogVisible=t}}},[s("scraps-detail",{attrs:{"is-show-back-btn":!0,"scraps-obj":e.oScrap},on:{ScrapsDetailCall:e.scrapsDetailCall}})],1):e._e()],1)}),R=[],S=s("4766"),T={name:"ScrapsByCode",directives:{elDragDialog:_["a"]},components:{ScrapsDetail:S["a"]},props:{devicesName:{type:String,required:!0}},data:function(){return{total:0,listQuery:{page:1,limit:1e5,devicesCode:"",devicesClassify:""},devicesClassifys:[],tableHeight:0,tableKey:Math.random(),tableLoading:!0,deviceScrapRecordList:[],oScrap:{},detailDialogVisible:!1}},created:function(){this.listQuery.devicesCode=this.devicesName,this.getResumeList()},methods:{headerClassName:function(e){e.row,e.rowIndex;return"background-color: #FAFAFA"},scrapsDetailCall:function(){this.detailDialogVisible=!1},handleDetail:function(e){this.oScrap=Object(n["a"])({},e),this.detailDialogVisible=!0},getResumeList:function(){var e=this;this.tableLoading=!0,Object(p["b"])(this.listQuery).then((function(t){0===t.code&&(e.deviceScrapRecordList=t.data.list),e.tableHeight=window.screen.availHeight-390,e.tableLoading=!1}))}}},L=T,N=(s("7102"),Object(v["a"])(L,F,R,!1,null,"e7b13f5a",null)),O=N.exports,I=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[e.detailShow?e._e():s("div",[s("el-table",{key:e.tableKey,staticStyle:{width:"100%"},attrs:{stripe:"",data:e.list,border:"",fit:"","highlight-current-row":"",height:"627","header-cell-style":e.headerClassName}},[s("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),s("el-table-column",{attrs:{label:"点检工单号",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[s("span",[e._v(e._s(a.code))])]}}],null,!1,3846447977)}),s("el-table-column",{attrs:{label:"点检表单名称",align:"center","min-width":"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[s("span",[e._v(e._s(a.checkTeamNames))])]}}],null,!1,3887308779)}),s("el-table-column",{attrs:{label:"设备类型",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[s("span",[e._v(e._s(a.classifyName))])]}}],null,!1,2060335675)}),s("el-table-column",{attrs:{label:"设备编号",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[s("span",[e._v(e._s(a.productDevices))])]}}],null,!1,2008123524)}),s("el-table-column",{attrs:{label:"执行状态",prop:"id",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[1==a.status?s("span",[e._v("已执行")]):e._e(),0==a.status?s("span",[e._v("未执行")]):e._e()]}}],null,!1,835393131)}),s("el-table-column",{attrs:{label:"点检完成时间",prop:"id",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[s("span",[e._v(e._s(a.createTime))])]}}],null,!1,4034852245)}),s("el-table-column",{attrs:{label:"点检人员",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[s("span",[e._v(e._s(a.executeUserName))])]}}],null,!1,4087062861)}),s("el-table-column",{attrs:{label:"备注",prop:"note",align:"center","min-width":"150"}}),s("el-table-column",{attrs:{label:"详情",align:"center",width:"100","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[s("el-button",{staticClass:"filter-item defaultTextBtn",attrs:{type:"primary",size:"small"},on:{click:function(t){return e.auditClick(a)}}},[s("svg-icon",{attrs:{"icon-class":"search"}}),e._v(" 查看 ")],1)]}}],null,!1,2703621751)})],1)],1),e.detailShow?s("spotCheckLogDetail",{attrs:{"data-info":e.dataInfo},on:{DetailCallBack:e.DetailCallBack}}):e._e()],1)},$=[],q=s("2423"),B=s("16fe"),V={name:"SpotCheckLog",components:{spotCheckLogDetail:B["a"]},props:{devicesName:{type:String,required:!0}},data:function(){return{timeValue:"",pageStatus:0,tableKey:0,list:[],total:0,listQuery:{pageNum:1,pageSize:1e6,code:void 0,devicesClassify:void 0,devicesCode:void 0},detailShow:!1}},created:function(){},mounted:function(){this.listQuery.devicesCode=this.devicesName,this.getList()},methods:{getList:function(){var e=this;Object(q["s"])(this.listQuery).then((function(t){0===t.code?(e.list=t.data.list,e.total=t.data.total):e.$message({type:"error",message:"查询失败"})}))},auditClick:function(e){this.detailShow=!0,console.log(e),this.dataInfo=e},headerClassName:function(e){e.row,e.rowIndex;return"background-color: #FAFAFA"},DetailCallBack:function(){this.detailShow=!1}}},Q=V,A=(s("8ed2f"),Object(v["a"])(Q,I,$,!1,null,"49073350",null)),K=A.exports,H=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("div",{staticClass:"el-tablenew"},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.list,"row-class-name":e.tableRowClassName,border:"",height:"calc(100vh - 300px)"}},[s("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center"}}),s("el-table-column",{attrs:{prop:"code",label:"维修单号",align:"center",width:"150"}}),s("el-table-column",{attrs:{prop:"devicesName",label:"设备编号",align:"center",width:"150"}}),s("el-table-column",{attrs:{prop:"classifyName",label:"设备类型",align:"center",width:"150"}}),s("el-table-column",{attrs:{prop:"questionName",label:"问题",align:"center","min-width":"150"}}),s("el-table-column",{attrs:{prop:"questionDesc",label:"问题描述",align:"center","min-width":"150"}}),s("el-table-column",{attrs:{prop:"status",label:"执行状态",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[null!==a.status&&0===a.status?s("span",[e._v("未执行")]):null!==a.status&&1===a.status?s("span",{staticClass:"info-row"},[e._v("已执行")]):e._e()]}}])}),s("el-table-column",{attrs:{prop:"repairUserName",label:"维修人员",align:"center",width:"150"}}),s("el-table-column",{attrs:{prop:"repairTime",label:"维修申请时间",align:"center",width:"160"}}),s("el-table-column",{attrs:{prop:"startTime",label:"维修开始时间",align:"center",width:"160"}}),s("el-table-column",{attrs:{prop:"finishTime",label:"维修结束时间",align:"center",width:"160"}}),s("el-table-column",{attrs:{prop:"note",label:"备注",align:"center","min-width":"150"}}),s("el-table-column",{attrs:{prop:"note",label:"详情",align:"center",width:"100",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{staticClass:"addTextBtn",attrs:{type:"text"},on:{click:function(s){return e.getInfoNo(t.row)}}},[s("svg-icon",{attrs:{"icon-class":"search"}}),e._v(" 查看 ")],1)]}}])})],1)],1),e.dialogVisible?s("div",{staticClass:"repairsty"},[s("get-repair",{attrs:{objstr:e.objstr},on:{DetailCallBack:e.DetailCallBack}})],1):e._e()])},P=[],U=s("0adb"),M=s("3da2"),J={name:"RepairLogByCode",directives:{elDragDialog:_["a"]},components:{"get-repair":M["a"]},props:{devicesName:{type:String,required:!0}},data:function(){return{loading:!1,dialogVisible:!1,objstr:"",disabled:!1,dialogTitle:"",searchKey:{name:""},total:0,pageIndex:1,pageSize:1e5,currentId:0,maintainObjList:[{id:0,name:"注塑机"},{id:1,name:"辅机"}],forms:{name:"",obj:""},list:[]}},mounted:function(){this.fetchDate()},methods:{DetailCallBack:function(){this.dialogVisible=!1},getInfoNo:function(e){this.dialogVisible=!0},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2===1?"table-row":""},fetchDate:function(){var e=this,t={productDevicesId:this.devicesName,pageNum:this.pageIndex,pageSize:this.pageSize};Object(U["b"])(t).then((function(t){0===t.code&&(e.list=t.data.list)}))}}},W=J,G=(s("9844"),Object(v["a"])(W,H,P,!1,null,"f65be098",null)),X=G.exports,Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.list,"row-class-name":e.tableRowClassName,border:"",height:"calc(100vh - 337px)"}},[s("el-table-column",{attrs:{prop:"date",label:"序号",align:"center",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}])}),s("el-table-column",{attrs:{prop:"createTime",label:"时间",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.createTime&&t.row.createTime.length>10?t.row.createTime.substring(0,10):t.row.createTime))])]}}])}),s("el-table-column",{attrs:{prop:"keepOrder",label:"保养工单号",align:"center","show-overflow-tooltip":"",width:"150"}}),s("el-table-column",{attrs:{prop:"keepTeamName",label:"保养表单名称",align:"center",width:"200"}}),s("el-table-column",{attrs:{prop:"devicesName",label:"设备编号",align:"center","show-overflow-tooltip":"",width:"120"}}),s("el-table-column",{attrs:{prop:"date",label:"任务状态",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("0"===t.row.status?"未执行":"1"===t.row.status?"延期":"2"===t.row.status?"强制关闭":"已执行")+" ")]}}])}),s("el-table-column",{attrs:{prop:"date",label:"执行时间",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",[e._v(e._s(t.row.executeTime&&t.row.executeTime.length>10?t.row.executeTime.substring(0,10):t.row.executeTime))])]}}])}),s("el-table-column",{attrs:{prop:"executeUser",label:"执行人",align:"center",width:"150"}}),s("el-table-column",{attrs:{prop:"auditUser",label:"审批人",align:"center",width:"150"}}),s("el-table-column",{attrs:{prop:"nonExecution",label:"未执行原因",align:"center","show-overflow-tooltip":"","min-width":"150"}}),s("el-table-column",{attrs:{prop:"nonExecutCause",label:"未执行原因描述",align:"center","show-overflow-tooltip":"","min-width":"150"}}),s("el-table-column",{attrs:{prop:"date",label:"详情",align:"center",width:"100",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{staticClass:"defaultTextBtn",attrs:{type:"text"},on:{click:function(s){return e.findInfo(t.row)}}},[s("svg-icon",{attrs:{"icon-class":"search"}}),e._v(" 查看 ")],1)]}}])})],1),s("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],staticClass:"dialogs",attrs:{visible:e.infoDailogVisible,"close-on-click-modal":!1,title:"保养表单详情",width:"1000px"},on:{"update:visible":function(t){e.infoDailogVisible=t}}},[s("el-row",[s("el-col",{staticClass:"titsty",attrs:{span:8}},[s("span",[e._v("保养工单号:")]),e._v(" "+e._s(e.objInfo.keepOrder)+" ")]),s("el-col",{staticClass:"titsty",attrs:{span:8}},[s("span",[e._v("保养表单名称:")]),e._v(" "+e._s(e.objInfo.keepTeamName)+" ")]),s("el-col",{staticClass:"titsty",attrs:{span:8}},[s("span",[e._v("设备编号:")]),e._v(" "+e._s(e.objInfo.devicesName)+" ")]),s("el-col",{staticClass:"titsty",attrs:{span:8}},[s("span",[e._v("执行时间:")]),e._v(" "+e._s(e.objInfo.executeTime&&e.objInfo.executeTime.length>10?e.objInfo.executeTime.substring(0,10):e.objInfo.executeTime)+" ")]),s("el-col",{staticClass:"titsty",attrs:{span:8}},[s("span",[e._v("执行人员:")]),e._v(" "+e._s(e.objInfo.executeUser)+" ")]),s("el-col",{staticClass:"titsty",attrs:{span:8}},[s("span",[e._v("任务状态:")]),e._v(" "+e._s(0===e.objInfo.status?"未执行":1===e.objInfo.status?"延期":2===e.objInfo.status?"强制关闭":"已执行")+" ")])],1),s("el-tabs",{staticClass:"el-tablenew",model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"保养记录",name:"first"}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.objInfo.devicesKeepItem,"row-class-name":e.tableRowClassName,border:"",height:"500px"}},[s("el-table-column",{attrs:{prop:"date",label:"序号",align:"center",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1)+" ")]}}])}),s("el-table-column",{attrs:{prop:"name",label:"项目名称",align:"center",width:"320px"}}),s("el-table-column",{attrs:{label:"选项",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.lists.length?s("span"):e._e()]}}])})],1)],1),s("el-tab-pane",{attrs:{label:"审批记录",name:"second"}},e._l(e.logList,(function(t,a){return s("div",{key:a,staticClass:"logsty"},[s("div",{staticClass:"titlog"},[e._v(" 审批记录 ")]),s("el-row",[s("el-col",{staticClass:"titsty",attrs:{span:6}},[s("span",[e._v("未执行原因:")]),e._v(" 延迟执行 ")]),s("el-col",{staticClass:"titsty",attrs:{span:6}},[s("span",[e._v("申请人:")]),e._v(" 张飞 ")]),s("el-col",{staticClass:"titsty",attrs:{span:6}},[s("span",[e._v("审批人:")]),e._v(" 张飞 ")]),s("el-col",{staticClass:"titsty",attrs:{span:6}},[s("span",[e._v("审批意见:")]),e._v("同意 ")]),s("el-col",{staticClass:"titsty",attrs:{span:6}},[s("span",[e._v("申请时间:")]),e._v(" 2020/8/12 18:00 ")]),s("el-col",{staticClass:"titsty",attrs:{span:6}},[s("span",[e._v("审批时间:")]),e._v(" 2020/8/12 18:00 ")]),s("el-col",{staticClass:"titsty",attrs:{span:12}},[s("span",[e._v("未执行原因描述:")]),e._v(" 生产紧张 ")])],1)],1)})),0)],1)],1)],1)},Z=[],ee=s("f955"),te={name:"MaintainPlanImplement",directives:{elDragDialog:_["a"]},props:{devicesName:{type:String,required:!0}},data:function(){return{loading:!1,dialogVisible:!1,infoDailogVisible:!1,disabled:!1,dialogTitle:"",activeName:"first",actives:"1",searchKey:{name:"",code:"",people:"",date:"",status:"",examine:""},taskStatus:[{id:0,name:"未执行"},{id:1,name:"延期"},{id:2,name:"强制关闭"},{id:3,name:"已执行"}],examineList:[{id:0,name:"未审核"},{id:1,name:"审核通过"},{id:2,name:"审核不通过"}],total:0,pageIndex:1,pageSize:1e5,currentId:0,multipleSelection:[],maintainObjList:[],forms:{name:"",day:"",delayreason:"",closreason:""},rules:{name:[{required:!0,message:"请输入保养工单单号",trigger:"blur"}],day:[{required:!0,message:"请输入延迟天数",trigger:"blur"}],delayreason:[{required:!0,message:"请输入推迟原因",trigger:"blur"}],closreason:[{required:!0,message:"请输入强制关闭原因",trigger:"blur"}]},list:[],maintainList:[],logList:[{data:123},{data:123},{data:123},{data:123},{data:123}],objInfo:{auditIdea:null,auditResult:null,auditStatus:null,auditUser:null,carryDay:null,conclusion:null,createTime:"",devicesKeepItem:[],devicesName:null,endTime:null,executeTime:null,executeUser:null,executionId:null,formCode:null,id:0,keepOrder:null,keepPlanId:0,keepTeamName:null,nonExecutCause:null,nonExecution:null,note:null,planExecuteRecords:null,productDevicesIds:null,status:0}}},computed:{},mounted:function(){this.fetchDate()},methods:{findInfo:function(e){this.activeName="first",this.infoDailogVisible=!0,this.objInfo=e,this.getFindHistTaskDeatilLists()},getFindHistTaskDeatilLists:function(){var e=this,t={executionId:2};Object(q["o"])(t).then((function(t){0===t.code&&(e.logList=t.data)}))},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2===1?"table-row":""},fetchDate:function(){var e=this;this.list=[],this.loading=!0;var t={keepOrder:null,devicesCode:this.devicesName,executeUser:null,executeTime:null,taskStatus:null,pageNum:this.pageIndex,pageSize:this.pageSize};Object(ee["d"])(t).then((function(t){e.loading=!1,0===t.code&&(e.list=t.data.list,e.total=t.data.total)}))}}},se=te,ae=(s("02e1"),Object(v["a"])(se,Y,Z,!1,null,"551e6906",null)),ie=ae.exports,ne={name:"ResumeDetail",components:{ScrapsByCode:O,SpotCheckLogByCode:K,RepairLogByCode:X,MaintainPlanImplementByCode:ie},props:{resumeObj:{type:Object,required:!0}},data:function(){return{imageUrl:window.configs.api,oResumeDetail:{name:""},paramsList:[],activeTab:"1"}},created:function(){this.oResumeDetail=Object(n["a"])({},this.resumeObj),this.oResumeDetail.devicesExtension.extendAttr&&this.oResumeDetail.devicesExtension.extendAttr.length>0&&(this.paramsList=JSON.parse(this.oResumeDetail.devicesExtension.extendAttr))},mounted:function(){},methods:{handleBack:function(){this.$emit("ResumeDetailCall")},handleDownload:function(){var e=this,t=this.imageUrl+this.oResumeDetail.classifySet.imagePath,s=new Image;s.crossOrigin="",s.src=t,s.onload=function(){var t=e.getBase64Image(s),a=document.createElement("a"),i=new MouseEvent("click");a.download="设备二维码",a.href=t,a.dispatchEvent(i)}},getBase64Image:function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var s=t.getContext("2d");s.drawImage(e,0,0,e.width,e.height);var a=e.src.substring(e.src.lastIndexOf(".")+1).toLowerCase(),i=t.toDataURL("image/"+a);return i}}},le=ne,re=(s("3c06"),Object(v["a"])(le,D,z,!1,null,"42acbca1",null)),oe=re.exports,ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tableColumn-box"},[s("el-checkbox-group",{attrs:{min:e.minColumnCount},on:{change:e.handleCheckedColumnChange},model:{value:e.checkedColumn,callback:function(t){e.checkedColumn=t},expression:"checkedColumn"}},e._l(e.columnList,(function(t){return s("el-checkbox",{key:t.columnName,attrs:{label:t.columnName}},[e._v(e._s(t.name))])})),1),s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleConfirm}},[e._v("确定")])],1)},me=[],ue=(s("c740"),s("a9e3"),{name:"TableColumn",props:{aColumnList:{type:Array,required:!0},aCheckedColumn:{type:Array,required:!1,default:[]},minColumnCount:{type:Number,required:!1,default:3}},data:function(){return{checkedColumn:[],columnList:[],returnList:[]}},created:function(){this.init()},methods:{handleCheckedColumnChange:function(e){var t=[];e.length>0&&this.columnList.forEach((function(s){var a=e.findIndex((function(e){return e===s.columnName}));-1!==a&&t.push(s)})),e.length!==this.minColumnCount?this.returnList=t:this.$notify({title:"警告",message:"表头不能少于"+this.minColumnCount+"列",type:"warning"})},init:function(){if(this.columnList=Object(l["a"])(this.aColumnList),this.returnList=Object(l["a"])(this.aColumnList),this.aCheckedColumn&&this.aCheckedColumn.length>0)this.checkedColumn=Object(l["a"])(this.aCheckedColumn);else{var e=[];this.columnList.forEach((function(t){e.push(t.columnName)})),this.checkedColumn=e}},handleConfirm:function(){this.$emit("checkedColumnCallFun",this.returnList)}}}),de=ue,pe=(s("f09c"),Object(v["a"])(de,ce,me,!1,null,"9e54a98c",null)),he=pe.exports,fe={name:"Resume",directives:{elDragDialog:_["a"]},components:{ScrapsApply:g,TableColumn:he,ResumeEdit:j,ResumeDetail:oe},data:function(){return{listQuery:{deviceCode:"",devicesClassify:"",deviceStatus:"",startDate:"",endDate:""},devicesClassifys:[],deviceStatusList:[{id:0,value:"正常"},{id:2,value:"报废"}],tableHeight:0,tableKey:Math.random(),tableLoading:!0,resumeList:[],multipleSelection:[],oResume:{},detailDialogVisible:!1,editDialogVisible:!1,scrapDialogVisible:!1,dialogTitle:"报废申请",setTableTitle:!1,minColumnCount:3,columnList:[],checkedColumn:["devicesExtension.shzcd","devicesExtension.shzwj","devicesExtension.shchrl","devicesExtension.shechzhl","devicesExtension.lgzhj","devicesExtension.lgshnl","devicesExtension.shchyl","devicesExtension.dchl","devicesExtension.dgkzhj","devicesExtension.dzhxch","devicesExtension.mjzdbhhd","devicesExtension.zdkmxch","devicesExtension.dzhjjHv","devicesExtension.zxmjchc","devicesExtension.mbchc","devicesExtension.yyzhz","devicesExtension.qyzhz","devicesExtension.dwhzhj","devicesExtension.shzqmbj","devicesExtension.shzkj","devicesExtension.shzjchyl","devicesExtension.shbchc","devicesExtension.shbzhl","devicesExtension.yyll","devicesExtension.djgl","devicesExtension.jrgl","devicesExtension.jxsh"],oldColumnList:[{name:"射嘴长度(mm)",columnName:"devicesExtension.shzcd"},{name:"射嘴外径(mm)",columnName:"devicesExtension.shzwj"},{name:"射出容量(cm³)",columnName:"devicesExtension.shchrl"},{name:"射出重量(g)PS",columnName:"devicesExtension.shechzhl"},{name:"螺杆直径￠(mm)",columnName:"devicesExtension.lgzhj"},{name:"螺杆塑化能力(g/s)",columnName:"devicesExtension.lgshnl"},{name:"射出压力(mpa)",columnName:"devicesExtension.shchyl"},{name:"顶出力(KN)",columnName:"devicesExtension.dchl"},{name:"顶杆孔直径￠(mm)",columnName:"devicesExtension.dgkzhj"},{name:"顶针行程(mm)",columnName:"devicesExtension.dzhxch"},{name:"模具最大闭合厚度(mm)",columnName:"devicesExtension.mjzdbhhd"},{name:"最大开模行程(mm)",columnName:"devicesExtension.zdkmxch"},{name:"导柱间距H×V(mm)",columnName:"devicesExtension.dzhjjHv"},{name:"最小模具尺寸(mm)",columnName:"devicesExtension.zxmjchc"},{name:"模板尺寸(mm)",columnName:"devicesExtension.mbchc"},{name:"油压中子(set)",columnName:"devicesExtension.yyzhz"},{name:"气压中子",columnName:"devicesExtension.qyzhz"},{name:"定位环直径￠(mm)",columnName:"devicesExtension.dwhzhj"},{name:"射嘴球面半径",columnName:"devicesExtension.shzqmbj"},{name:"射咀孔径￠(mm)",columnName:"devicesExtension.shzkj"},{name:"射咀接触压力(mpa)",columnName:"devicesExtension.shzjchyl"},{name:"设备尺寸(m)L×W×H",columnName:"devicesExtension.shbchc"},{name:"设备重量(t)",columnName:"devicesExtension.shbzhl"},{name:"液压流量(l)",columnName:"devicesExtension.yyll"},{name:"电机功率(kw)",columnName:"devicesExtension.djgl"},{name:"加热功率(kw)",columnName:"devicesExtension.jrgl"},{name:"机械手",columnName:"devicesExtension.jxsh"}]}},created:function(){var e=this;this.getDevicesClassifyList(),this.columnList=Object(l["a"])(this.oldColumnList),this.getResumeList(),this.computedTableHeight(),window.onresize=function(){return function(){e.computedTableHeight()}()}},methods:{resumeDetailCall:function(){this.detailDialogVisible=!1},resumeEditCall:function(e){this.editDialogVisible=!1,e&&this.getResumeList()},scrapsApplyCall:function(e){this.scrapDialogVisible=!1,e&&this.getResumeList()},checkedColumnFun:function(e){var t=this;this.columnList=e;var s=[];e.map((function(e){s.push(e.columnName)})),this.checkedColumn=s,this.setTableTitle=!1,this.$nextTick((function(){t.$refs.tableRef.doLayout()}))},headerClassName:function(e){e.row,e.rowIndex;return"background-color: #FAFAFA"},tableRowClassName:function(e){var t=e.row;e.rowIndex;return 1===t.status?"warning-row":2===t.status?"info-row":""},handleSetColumn:function(){this.setTableTitle=!this.setTableTitle},handleFilter:function(){if(0!==this.listQuery.startDate.length&&0!==this.listQuery.endDate.length){var e=new Date(this.listQuery.startDate).getTime(),t=new Date(this.listQuery.endDate).getTime();if(e>t)return void this.$message({message:"入厂开始时间不能大于入厂结束时间!",type:"warning"})}this.listQuery.page=1,this.getResumeList()},handleReset:function(){this.listQuery.page=1,this.listQuery.deviceCode="",this.listQuery.devicesClassify="",this.listQuery.deviceStatus="",this.listQuery.startDate="",this.listQuery.endDate="",this.getResumeList()},handleDetail:function(e){null!==e.devicesExtension?(this.oResume=Object(n["a"])({},e),this.detailDialogVisible=!0):this.$message({message:"信息不全无法查看,请先编辑信息!",type:"warning"})},handleEdit:function(e){this.oResume=Object(n["a"])({},e),this.editDialogVisible=!0},handleScrap:function(e){null!==e.devicesExtension?null===e.devicesExtension||1!==e.devicesExtension.auditStatus?null===e.devicesExtension||2!==e.devicesExtension.status?(this.oResume=Object(n["a"])({},e),this.scrapDialogVisible=!0):this.$message({message:"设备已报废,不能再次报废!",type:"warning"}):this.$message({message:"报废申请已提交!",type:"warning"}):this.$message({message:"信息不全无法报废,请先编辑信息!",type:"warning"})},handleRefresh:function(){this.listQuery.deviceCode=void 0,this.handleFilter()},getResumeList:function(){var e=this;this.tableLoading=!0;var t={devicesCode:this.listQuery.deviceCode,devicesClassify:this.listQuery.devicesClassify,status:this.listQuery.deviceStatus,startTime:this.listQuery.startDate,endTime:this.listQuery.endDate};c(t).then((function(t){e.tableLoading=!1,0===t.code&&(e.resumeList=t.data)}))},optSelectedTable:function(){var e=this,t="";return this.multipleSelection.length>0&&this.multipleSelection.map((function(s,a){a===e.multipleSelection.length-1?t+=s.id:t+=s.id+","})),t},getDevicesClassifyList:function(){var e=this;this.tableLoading=!0,Object(r["b"])().then((function(t){0===t.code&&(e.devicesClassifys=t.data)}))},computedTableHeight:function(){var e=document.body.clientHeight;e=e<768?768:e,this.tableHeight=e-352}}},ve=fe,be=(s("1522"),Object(v["a"])(ve,a,i,!1,null,"76ec8908",null));t["default"]=be.exports},1522:function(e,t,s){"use strict";var a=s("7382"),i=s.n(a);i.a},"16fe":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("div",{staticClass:"header"},[s("div",{staticClass:"headerBackBtn el-icon-arrow-left",on:{click:e.backClick}},[e._v(" 返回")]),s("span",{staticClass:"headerTiitle"},[e._v("点检表单详情")]),s("span",{staticClass:"headerTiitle"},[e._v("点检工单号："),s("span",{staticClass:"contentText"},[e._v(e._s(e.dataInfo.code))])])]),s("div",{staticClass:"content1"},[s("div",{staticClass:"contentBody"},[s("el-row",[s("el-col",{attrs:{span:2}},[e._v("设备编号：")]),s("el-col",{attrs:{span:6}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.dataInfo.productDevices))])]),s("el-col",{attrs:{span:2}},[e._v("点检人员：")]),s("el-col",{attrs:{span:6}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.dataInfo.executeUserName))])])],1),s("el-row",[s("el-col",{attrs:{span:2}},[e._v("点检完成时间：")]),s("el-col",{attrs:{span:6}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.dataInfo.createTime))])])],1)],1)]),s("div",{staticClass:"content1"},[e._m(0),s("div",{staticClass:"contentBody"},[s("el-row",[s("el-col",{attrs:{span:2}},[e._v("点检表单名称：")]),s("el-col",{attrs:{span:8}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.dataInfo.checkTeamNames))])])],1),s("el-row",[s("el-col",{attrs:{span:2}},[e._v("设备类型：")]),s("el-col",{attrs:{span:8}},[s("span",{staticClass:"contentText"},[e._v(e._s(e.dataInfo.classifyName))])])],1)],1)]),s("div",{staticClass:"content1"},[e._m(1),s("div",{staticClass:"contentBody"},[s("el-table",{key:e.tableKey,staticStyle:{width:"100%"},attrs:{stripe:"",data:e.dataInfo.checkDetailList,border:"",fit:"","highlight-current-row":"","header-cell-style":e.headerClassName}},[s("el-table-column",{attrs:{type:"index",label:"序号",width:"155"}}),s("el-table-column",{attrs:{label:"项目名称",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[s("span",[e._v(e._s(a.checkItemName))])]}}])}),s("el-table-column",{attrs:{label:"选项",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[0==a.checkItemResult?s("el-radio",{attrs:{label:"0",disabled:"disabled"},model:{value:a.checkItemResult,callback:function(t){e.$set(a,"checkItemResult",t)},expression:"row.checkItemResult"}},[e._v("合格")]):e._e(),1==a.checkItemResult?s("el-radio",{attrs:{label:"1",disabled:"disabled"},model:{value:a.checkItemResult,callback:function(t){e.$set(a,"checkItemResult",t)},expression:"row.checkItemResult"}},[e._v("不合格")]):e._e(),a.reason?s("span",[e._v(e._s(a.reason))]):e._e()]}}])})],1),s("el-row",[s("el-col",{attrs:{span:2}},[e._v("备注：")]),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"logDetailDesc"},[e._v(e._s(e.dataInfo.note))])])],1)],1)])])},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"title"},[s("span",{staticClass:"ganggang"},[e._v("-")]),e._v("基本信息")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"title"},[s("span",{staticClass:"ganggang"},[e._v("-")]),e._v(" 点检项目")])}],n={name:"SpotCheckLogDetail",components:{},props:{dataInfo:{type:Object}},data:function(){return{disabled:"true",checkList:["维修"],radio:"2",ruleForm:{name:""},rules:{name:[{required:!0,message:"请输入",trigger:"blur"},{min:1,max:200,message:"长度在 1 到 200 个字符",trigger:"blur"}]},tableKey:0,list:[{theme:"维修结果审核",radio:"1"},{theme:"维修结果审核",radio:"1"},{theme:"维修结果审核",radio:"1"},{theme:"维修结果审核",radio:"1"},{theme:"维修结果审核",radio:"1"},{theme:"维修结果审核",radio:"1"}]}},computed:{},watch:{},created:function(){},mounted:function(){this.getList()},beforeDestroy:function(){},methods:{backClick:function(){this.$emit("DetailCallBack")},getList:function(){console.log("数据获取了")},headerClassName:function(e){e.row,e.rowIndex;return"background-color: #FAFAFA"}}},l=n,r=(s("19a3"),s("2877")),o=Object(r["a"])(l,a,i,!1,null,"0bebfcc7",null);t["a"]=o.exports},"19a3":function(e,t,s){"use strict";var a=s("0ecb"),i=s.n(a);i.a},"1ea4":function(e,t,s){},2423:function(e,t,s){"use strict";s.d(t,"p",(function(){return i})),s.d(t,"h",(function(){return n})),s.d(t,"l",(function(){return l})),s.d(t,"c",(function(){return r})),s.d(t,"t",(function(){return o})),s.d(t,"k",(function(){return c})),s.d(t,"u",(function(){return m})),s.d(t,"j",(function(){return u})),s.d(t,"o",(function(){return d})),s.d(t,"g",(function(){return p})),s.d(t,"n",(function(){return h})),s.d(t,"f",(function(){return f})),s.d(t,"q",(function(){return v})),s.d(t,"b",(function(){return b})),s.d(t,"e",(function(){return g})),s.d(t,"r",(function(){return x})),s.d(t,"a",(function(){return y})),s.d(t,"d",(function(){return w})),s.d(t,"m",(function(){return _})),s.d(t,"i",(function(){return C})),s.d(t,"s",(function(){return E})),s.d(t,"v",(function(){return k}));var a=s("b775");function i(e){return Object(a["a"])({url:window.configs.api+"/jbpmDeployment/findList",method:"get",params:e})}function n(e){return Object(a["a"])({url:window.configs.api+"/jbpmDeployment/save",method:"post",data:e})}function l(){return Object(a["a"])({url:window.configs.api+"/jbpmDeployment/findJbpmFormList",method:"get"})}function r(e){return Object(a["a"])({url:window.configs.api+"/jbpmDeployment/delete",method:"get",params:{ids:e}})}function o(){return Object(a["a"])({url:window.configs.e2cUrl+"/user/findList",method:"get"})}function c(e){return Object(a["a"])({url:window.configs.api+"/jbpmExecution/findWaitTaskList",method:"get",params:e})}function m(e){return Object(a["a"])({url:window.configs.api+"/jbpmExecution/findHistTaskList",method:"get",params:e})}function u(e,t){return Object(a["a"])({url:window.configs.api+"/devicesRepai/findList",method:"get",params:{id:e}})}function d(e){return Object(a["a"])({url:window.configs.api+"/jbpmExecution/findHistTaskDeatilList",method:"get",params:e})}function p(e){return Object(a["a"])({url:window.configs.api+"/jbpmExecution/doTask",method:"post",data:e})}function h(e){return Object(a["a"])({url:window.configs.api+"/devicesKeepTask/getDevicesKeepTask",method:"get",params:{id:e}})}function f(e){return Object(a["a"])({url:window.configs.api+"/devicesScrap/findList",method:"get",params:{devicesScrapId:e}})}function v(e){return Object(a["a"])({url:window.configs.api+"/devicesCheckTeam/findList",method:"get",params:e})}function b(e){return Object(a["a"])({url:window.configs.api+"/devicesCheckTeam/save",method:"post",data:e})}function g(e){return Object(a["a"])({url:window.configs.api+"/devicesCheckTeam/delete",method:"get",params:{ids:e}})}function x(e){return Object(a["a"])({url:window.configs.api+"/devicesCheckItem/findList",method:"get",params:e})}function y(e){return Object(a["a"])({url:window.configs.api+"/devicesCheckItem/save",method:"post",data:e})}function w(e){return Object(a["a"])({url:window.configs.api+"/devicesCheckItem/delete",method:"get",params:{ids:e}})}function _(){return Object(a["a"])({url:window.configs.e2cUrl+"/devicesClassify/findList",method:"get"})}function C(e){return Object(a["a"])({url:window.configs.e2cUrl+"/productDevices/findList",method:"get",param:e})}function E(e){return Object(a["a"])({url:window.configs.api+"/devicesCheck/findList",method:"get",params:e})}function k(e){return Object(a["a"])({url:window.configs.api+"/mouldDevices/findOneById",method:"get",params:{id:e}})}},"31a1":function(e,t,s){"use strict";var a=s("5c6d"),i=s.n(a);i.a},"365d":function(e,t,s){},"3c06":function(e,t,s){"use strict";var a=s("eee2"),i=s.n(a);i.a},"3fc4":function(e,t,s){},"473c":function(e,t,s){},4766:function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("el-form",{ref:"scrapsApplyForm",attrs:{model:e.scrapsDetailForm,"label-width":"90px"}},[s("el-form-item",{attrs:{label:"设备编号"}},[s("span",[e._v(e._s(e.scrapsDetailForm.devicesItemVo.name))])]),s("el-form-item",{attrs:{label:"设备类型"}},[s("span",[e._v(e._s(e.scrapsDetailForm.devicesItemVo.classifyName))])]),s("el-form-item",{attrs:{label:"报废原因"}},[s("span",[e._v(e._s(e.scrapsDetailForm.reason))])]),s("el-form-item",{attrs:{label:"报废时间"}},[s("span",[e._v(e._s(e.scrapsDetailForm.createTime))])]),s("el-form-item",{attrs:{label:"附件"}},e._l(e.fileList,(function(t,a){return s("el-link",{key:a,on:{click:function(s){return e.handleDownFile(t.path)}}},[e._v(e._s(t.name)+"."+e._s(t.suffix))])})),1),s("el-form-item",{attrs:{label:"审核信息"}})],1),s("el-table",{attrs:{stripe:"",data:e.deviceScrapRecordList,border:"",fit:"","highlight-current-row":"",height:"250px","header-cell-style":e.headerClassName}},[s("el-table-column",{attrs:{label:"审批人",prop:"auditUserName",width:"100px",align:"center"}}),s("el-table-column",{attrs:{label:"审批结果",prop:"auditNode",width:"140px",align:"center"}}),s("el-table-column",{attrs:{label:"审核时间",prop:"auditTime",width:"160px",align:"center"}}),s("el-table-column",{attrs:{label:"审核意见",prop:"auditIdea","min-width":"150px",align:"center"}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowfooter,expression:"isShowfooter"}],staticClass:"footer"},[s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.handleBack}},[e._v("返回")])],1)],1)},i=[],n=s("5530"),l=s("2423"),r={name:"ScrapsDetail",props:{scrapsObj:{type:Object,required:!0},isShowBackBtn:{type:Boolean,required:!1}},data:function(){return{scrapsDetailForm:{},isShowfooter:!0,fileList:[{name:"",url:""}],deviceScrapRecordList:[]}},created:function(){void 0!==this.isShowBackBtn&&"boolean"===typeof this.isShowBackBtn&&(this.isShowfooter=this.isShowBackBtn),this.scrapsDetailForm=Object(n["a"])({},this.scrapsObj);var e=[];this.scrapsDetailForm.baseFiles.length>0&&(e=this.scrapsDetailForm.baseFiles),this.fileList=e,this.getDevicesClassifyList()},methods:{headerClassName:function(e){e.row,e.rowIndex;return"background-color: #FAFAFA"},handleBack:function(){this.$emit("ScrapsDetailCall",!1)},getDevicesClassifyList:function(){var e=this,t={executionId:this.scrapsDetailForm.executionId};Object(l["o"])(t).then((function(t){0===t.code&&(e.deviceScrapRecordList=t.data)}))},handleDownFile:function(e){var t=window.configs.api+"/attachment/downByPath?path="+e,s=window.open(encodeURI(t));setTimeout((function(){s.close()}),3e3)}}},o=r,c=(s("78c9"),s("2877")),m=Object(c["a"])(o,a,i,!1,null,"1a4499af",null);t["a"]=m.exports},5471:function(e,t,s){"use strict";s.d(t,"b",(function(){return i})),s.d(t,"a",(function(){return n}));var a=s("b775");function i(e){return Object(a["a"])({url:window.configs.api+"/devicesScrap/findList",method:"get",params:e})}function n(e){return Object(a["a"])({url:window.configs.api+"/devicesScrap/save",method:"post",data:e})}},"5c6d":function(e,t,s){},7102:function(e,t,s){"use strict";var a=s("a216"),i=s.n(a);i.a},7382:function(e,t,s){},"78c9":function(e,t,s){"use strict";var a=s("3fc4"),i=s.n(a);i.a},8843:function(e,t,s){"use strict";var a=s("365d"),i=s.n(a);i.a},"8ed2f":function(e,t,s){"use strict";var a=s("473c"),i=s.n(a);i.a},9844:function(e,t,s){"use strict";var a=s("bfcd"),i=s.n(a);i.a},a216:function(e,t,s){},bfcd:function(e,t,s){},eee2:function(e,t,s){},f09c:function(e,t,s){"use strict";var a=s("0b14"),i=s.n(a);i.a},f955:function(e,t,s){"use strict";s.d(t,"e",(function(){return i})),s.d(t,"i",(function(){return n})),s.d(t,"k",(function(){return l})),s.d(t,"j",(function(){return r})),s.d(t,"o",(function(){return o})),s.d(t,"a",(function(){return c})),s.d(t,"f",(function(){return m})),s.d(t,"q",(function(){return u})),s.d(t,"c",(function(){return d})),s.d(t,"g",(function(){return p})),s.d(t,"l",(function(){return h})),s.d(t,"h",(function(){return f})),s.d(t,"b",(function(){return v})),s.d(t,"p",(function(){return b})),s.d(t,"m",(function(){return g})),s.d(t,"d",(function(){return x})),s.d(t,"n",(function(){return y}));var a=s("b775");function i(e){return Object(a["a"])({url:window.configs.api+"/devicesKeepItem/findList",method:"get",params:e})}function n(){return Object(a["a"])({url:window.configs.e2cUrl+"/devicesClassify/findList",method:"get"})}function l(e){return Object(a["a"])({url:window.configs.api+"/devicesKeepTeam/getKeepItemByCycle",method:"get",params:e})}function r(e){return Object(a["a"])({url:window.configs.api+"/devicesKeepItem/getDevicesKeepItem",method:"get",params:e})}function o(e){return Object(a["a"])({url:window.configs.api+"/devicesKeepItem/save",method:"post",data:e})}function c(e){return Object(a["a"])({url:window.configs.api+"/devicesKeepItem/delete",method:"get",params:e})}function m(e){return Object(a["a"])({url:window.configs.api+"/devicesKeepTeam/findList",method:"get",params:e})}function u(e){return Object(a["a"])({url:window.configs.api+"/devicesKeepTeam/save",method:"post",data:e})}function d(e){return Object(a["a"])({url:window.configs.api+"/devicesKeepTeam/delete",method:"get",params:e})}function p(){return Object(a["a"])({url:window.configs.api+"/devicesKeepTeam/getAllKeepItem",method:"get"})}function h(e){return Object(a["a"])({url:window.configs.api+"/devicesKeepPlan/findList",method:"get",params:e})}function f(){return Object(a["a"])({url:window.configs.api+"/devicesKeepPlan/getAllKeepTeam",method:"get"})}function v(e){return Object(a["a"])({url:window.configs.api+"/devicesKeepPlan/delete",method:"get",params:e})}function b(e){return Object(a["a"])({url:window.configs.api+"/devicesKeepPlan/save",method:"post",data:e})}function g(e){return Object(a["a"])({url:window.configs.api+"/devicesKeepTask/findList",method:"get",params:e})}function x(e){return Object(a["a"])({url:window.configs.api+"/devicesKeepTask/findHistoryList",method:"get",params:e})}function y(e){return Object(a["a"])({url:window.configs.api+"/devicesKeepTask/postPoned",method:"get",params:e})}}}]);