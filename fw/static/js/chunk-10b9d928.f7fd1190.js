(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10b9d928"],{"09f4":function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),Math.easeInOutQuad=function(e,t,a,i){return e/=i/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function n(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function s(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function l(e,t,a){var l=s(),o=e-l,r=20,u=0;t="undefined"===typeof t?500:t;var c=function e(){u+=r;var s=Math.easeInOutQuad(u,l,o,t);n(s),u<t?i(e):a&&"function"===typeof a&&a()};c()}},"57dd":function(e,t,a){},"69ca":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"list-contenter"},[a("div",{staticClass:"filter-container"},[a("span",{staticClass:"seachname"},[e._v("入库单号:")]),a("el-input",{staticClass:"filter-item",attrs:{size:"small",placeholder:"输入入库单号"},model:{value:e.listQuery.houseNo,callback:function(t){e.$set(e.listQuery,"houseNo",t)},expression:"listQuery.houseNo"}}),a("span",{staticClass:"seachname"},[e._v("入库类型:")]),a("el-select",{attrs:{clearable:"",size:"small",placeholder:"选择入库类型"},model:{value:e.listQuery.houseType,callback:function(t){e.$set(e.listQuery,"houseType",t)},expression:"listQuery.houseType"}},e._l(e.warehousingTypes,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1),a("span",{staticClass:"seachname"},[e._v("任务状态:")]),a("el-select",{attrs:{clearable:"",size:"small",placeholder:"选择任务状态"},model:{value:e.listQuery.warehousingStatus,callback:function(t){e.$set(e.listQuery,"warehousingStatus",t)},expression:"listQuery.warehousingStatus"}},e._l(e.warehousingStatusList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1),a("span",{staticClass:"seachname"},[e._v("入库时间:")]),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",size:"small",type:"date",placeholder:"选择开始日期"},model:{value:e.listQuery.startDate,callback:function(t){e.$set(e.listQuery,"startDate",t)},expression:"listQuery.startDate"}}),a("span",{staticClass:"seachname"},[e._v("—")]),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",size:"small",type:"date",placeholder:"选择结束日期"},model:{value:e.listQuery.endDate,callback:function(t){e.$set(e.listQuery,"endDate",t)},expression:"listQuery.endDate"}}),a("el-button",{staticClass:"primaryBtn",attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("查询")]),a("el-button",{staticClass:"resetBtn",attrs:{type:"default",size:"mini",icon:"el-icon-refresh-right"},on:{click:e.handleReset}},[e._v("重置")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],key:e.tableKey,ref:"tableRef",attrs:{stripe:"",data:e.warehousingListFilter,border:"",fit:"","highlight-current-row":"","header-cell-style":e.headerClassName,height:e.tableHeight}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center",width:"55"}}),a("el-table-column",{attrs:{label:"入库单号",prop:"houseNo","min-width":"180px",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"源单单号",prop:"orderNo","min-width":"180px",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"任务状态",prop:"statusName",width:"180px",align:"center"}}),a("el-table-column",{attrs:{label:"入库类型",prop:"houseTypeName","min-width":"150px",align:"center"}}),a("el-table-column",{attrs:{label:"执行人",prop:"user.name",width:"150px",align:"center"}}),a("el-table-column",{attrs:{label:"入库时间",prop:"executeTime","min-width":"160px",align:"center"}}),a("el-table-column",{attrs:{label:"操作",width:"100px",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("el-button",{staticClass:"defaultTextBtn",attrs:{type:"text"},on:{click:function(t){return e.handleDetail(i)}}},[a("svg-icon",{attrs:{"icon-class":"search"}}),e._v(" 查看 ")],1)]}}])})],1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.pageNum,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"pageNum",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.getWarehousingList}}),e.setDialogVisible?a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],staticClass:"dialogs",attrs:{title:"入库单详情",visible:e.setDialogVisible,"close-on-click-modal":!1,width:"1080px"},on:{"update:visible":function(t){e.setDialogVisible=t}}},[a("WarehousingDetail",{attrs:{"warehousing-obj":e.oWarehousing},on:{WarehousingDetailCall:e.warehousingDetailCall}})],1):e._e()],1)])},n=[],s=(a("7db0"),a("d81d"),a("b0c0"),a("5530")),l=a("b775");function o(e){return Object(l["a"])({url:window.configs.api+"/logisticsStoreHouse/findList",method:"get",params:e})}function r(e){return Object(l["a"])({url:window.configs.api+"/logisticsStoreHouse/findByOrderNo",method:"get",params:e})}var u=a("333d"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container2"},[a("div",{staticClass:"content1"},[a("div",{staticClass:"contentBody"},[a("el-form",{ref:"warehousingForm",attrs:{"label-width":"100px"}},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"单号:",prop:"value4"}},[a("span",[e._v(e._s(e.warehousingDetail.orderNo))])])],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"任务状态:"}},[a("span",[e._v(e._s(e.warehousingDetail.statusName))])])],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"入库类型:"}},[a("span",[e._v(e._s(e.warehousingDetail.houseTypeName))])])],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"入库时间:"}},[a("span",[e._v(e._s(e.warehousingDetail.executeTime))])])],1)],1)],1)],1)]),a("div",{staticClass:"content1"},[a("div",{staticClass:"contentBody"},[a("el-table",{attrs:{stripe:"",data:e.warehousingList,fit:"","highlight-current-row":"",height:"393px","header-cell-style":e.headerClassName}},[a("el-table-column",{attrs:{label:"序号",type:"index",align:"center",width:"55"}}),a("el-table-column",{attrs:{label:"物料代码",prop:"logisticsProduct.code",align:"center",width:"180"}}),a("el-table-column",{attrs:{label:"物料名称",prop:"logisticsProduct.name",align:"center",width:"180"}}),a("el-table-column",{attrs:{label:"规格型号",prop:"logisticsProduct.specs",align:"center",width:"180"}}),a("el-table-column",{attrs:{label:"单位",prop:"logisticsProduct.unit",align:"center",width:"100"}}),a("el-table-column",{attrs:{label:"应收数量",prop:"materialCount",align:"center",width:"100"}}),a("el-table-column",{attrs:{label:"收货数量",prop:"storageCount",align:"center",width:"100"}}),a("el-table-column",{attrs:{label:"生产指令/源单单号",prop:"orderNo",align:"center",width:"240"}}),a("el-table-column",{attrs:{label:"库位",prop:"storageCode",align:"center",width:"120"}}),a("el-table-column",{attrs:{label:"泛沃批次号",prop:"fwBatch",align:"center",width:"180"}}),a("el-table-column",{attrs:{label:"供应商批次号",prop:"providerBatch",align:"center",width:"180"}})],1)],1)]),a("div",{staticClass:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:e.handleCancel}},[e._v("取消")])],1)])},d=[],h={name:"WarehousingDetail",components:{},props:{warehousingObj:{type:Object,required:!0}},data:function(){return{warehousingDetail:{},warehousingList:[],warehousingTypes:[{value:0,name:"采购入库"},{value:1,name:"委外生产入库"},{value:2,name:"生产入库"},{value:3,name:"其他入库"}],warehousingStatusList:[{value:0,name:"待入库"},{value:1,name:"已入库"}]}},created:function(){var e=Object(s["a"])({},this.warehousingObj),t=this.warehousingTypes.find((function(t){return 1*e.houseType===t.value})),a=this.warehousingStatusList.find((function(t){return 1*e.status===t.value}));void 0!==t&&(e.houseTypeName=t.name),void 0!==a&&(e.statusName=a.name),this.warehousingDetail=e,this.getWarehousingDetailRequest()},mounted:function(){},methods:{headerClassName:function(e){e.row,e.rowIndex;return"background-color: #FAFAFA"},handleCancel:function(){this.$emit("WarehousingDetailCall",!1)},handlePrint:function(){},getWarehousingDetailRequest:function(){var e=this;this.tableLoading=!0;var t={storeHouseId:this.warehousingObj.id};r(t).then((function(t){0===t.code&&(e.warehousingList=t.data)}))}}},p=h,g=(a("c544"),a("2877")),m=Object(g["a"])(p,c,d,!1,null,"cc401fb6",null),f=m.exports,y=a("a888"),b={name:"Warehousing",directives:{elDragDialog:y["a"]},components:{Pagination:u["a"],WarehousingDetail:f},data:function(){return{total:0,listQuery:{orderNo:null,houseNo:null,houseType:null,warehousingStatus:null,startDate:"",endDate:"",pageNum:1,pageSize:10},tableHeight:0,tableKey:Math.random(),tableLoading:!0,oWarehousing:{},setDialogVisible:!1,warehousingList:[],warehousingTypes:[{value:0,name:"采购入库"},{value:1,name:"委外生产入库"},{value:2,name:"生产入库"},{value:3,name:"其他入库"}],warehousingStatusList:[{value:0,name:"待入库"},{value:1,name:"已入库"}]}},computed:{warehousingListFilter:function(){var e=this;if(this.warehousingList.length>0){var t=JSON.parse(JSON.stringify(this.warehousingList));return t.map((function(t){var a=e.warehousingTypes.find((function(e){return 1*t.houseType===e.value})),i=e.warehousingStatusList.find((function(e){return 1*t.status===e.value}));void 0!==a&&(t.houseTypeName=a.name),void 0!==i&&(t.statusName=i.name)})),t}return[]}},created:function(){var e=this;this.getWarehousingList(),this.computedTableHeight(),window.onresize=function(){return function(){e.computedTableHeight()}()}},methods:{headerClassName:function(e){e.row,e.rowIndex;return"background-color: #FAFAFA"},warehousingDetailCall:function(e){this.setDialogVisible=!1,e&&this.getWarehouseOutList()},handleFilter:function(){if(null!==this.listQuery.startDate&&null!==this.listQuery.endDate&&0!==this.listQuery.startDate.length&&0!==this.listQuery.endDate.length){var e=new Date(this.listQuery.startDate).getTime(),t=new Date(this.listQuery.endDate).getTime();if(e>t)return void this.$message({message:"开始时间不能大于结束时间!",type:"warning"})}this.listQuery.pageNum=1,this.getWarehousingList()},handleDetail:function(e){this.oWarehousing=Object(s["a"])({},e),this.setDialogVisible=!0},handleReset:function(){this.listQuery.pageNum=1,this.listQuery.orderNo="",this.listQuery.houseNo="",this.listQuery.houseType=null,this.listQuery.warehousingStatus=null,this.listQuery.startDate="",this.listQuery.endDate="",this.getWarehousingList()},getWarehousingList:function(){var e=this;this.tableLoading=!0;var t="",a="";null!==this.listQuery.startDate&&0!==this.listQuery.startDate.length&&(t=this.listQuery.startDate+" 00:00:00"),null!==this.listQuery.endDate&&0!==this.listQuery.endDate.length&&(a=this.listQuery.endDate+" 23:59:59");var i={orderNo:this.listQuery.orderNo,houseNo:this.listQuery.houseNo,houseType:this.listQuery.houseType,status:this.listQuery.warehousingStatus,startTime:t,endTime:a,pageNum:this.listQuery.pageNum,pageSize:this.listQuery.pageSize};o(i).then((function(t){0===t.code&&(e.warehousingList=t.data.list),e.total=t.data.total,e.tableLoading=!1}))},computedTableHeight:function(){var e=document.body.clientHeight;e=e<768?768:e,this.tableHeight=e-308}}},w=b,v=(a("e219"),Object(g["a"])(w,i,n,!1,null,"7435e542",null));t["default"]=v.exports},"7db0":function(e,t,a){"use strict";var i=a("23e7"),n=a("b727").find,s=a("44d2"),l=a("ae40"),o="find",r=!0,u=l(o);o in[]&&Array(1)[o]((function(){r=!1})),i({target:"Array",proto:!0,forced:r||!u},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s(o)},a888:function(e,t,a){"use strict";a("99af"),a("caad"),a("ac1f"),a("2532"),a("5319");var i={bind:function(e,t,a){var i=e.querySelector(".el-dialog__header"),n=e.querySelector(".el-dialog");i.style.cssText+=";cursor:move;",n.style.cssText+=";top:0px;";var s=function(){return window.document.currentStyle?function(e,t){return e.currentStyle[t]}:function(e,t){return getComputedStyle(e,!1)[t]}}();i.onmousedown=function(e){var t=e.clientX-i.offsetLeft,l=e.clientY-i.offsetTop,o=n.offsetWidth,r=n.offsetHeight,u=document.body.clientWidth,c=document.body.clientHeight,d=n.offsetLeft,h=u-n.offsetLeft-o,p=n.offsetTop,g=c-n.offsetTop-r,m=s(n,"left"),f=s(n,"top");m.includes("%")?(m=+document.body.clientWidth*(+m.replace(/\%/g,"")/100),f=+document.body.clientHeight*(+f.replace(/\%/g,"")/100)):(m=+m.replace(/\px/g,""),f=+f.replace(/\px/g,"")),document.onmousemove=function(e){var i=e.clientX-t,s=e.clientY-l;-i>d?i=-d:i>h&&(i=h),-s>p?s=-p:s>g&&(s=g),n.style.cssText+=";left:".concat(i+m,"px;top:").concat(s+f,"px;"),a.child.$emit("dragDialog")},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}},n=function(e){e.directive("el-drag-dialog",i)};window.Vue&&(window["el-drag-dialog"]=i,Vue.use(n)),i.install=n;t["a"]=i},c544:function(e,t,a){"use strict";var i=a("57dd"),n=a.n(i);n.a},e219:function(e,t,a){"use strict";var i=a("e803"),n=a.n(i);n.a},e803:function(e,t,a){}}]);