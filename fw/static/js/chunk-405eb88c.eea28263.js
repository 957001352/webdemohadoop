(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-405eb88c"],{"13f1":function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return n})),a.d(e,"i",(function(){return l})),a.d(e,"g",(function(){return o})),a.d(e,"d",(function(){return r})),a.d(e,"e",(function(){return c})),a.d(e,"h",(function(){return d})),a.d(e,"j",(function(){return u})),a.d(e,"a",(function(){return p})),a.d(e,"f",(function(){return m}));var i=a("b775");function s(t){return Object(i["a"])({url:window.configs.api+"/qualityFirstendCheck/findList",method:"get",params:t})}function n(t){return Object(i["a"])({url:window.configs.api+"/qualityInspection/findList",method:"get",params:t})}function l(t){return Object(i["a"])({url:window.configs.api+"/qualityInspection/save",method:"post",data:t})}function o(t){return Object(i["a"])({url:window.configs.api+"/qualityInspection/change",method:"post",data:t})}function r(t){return Object(i["a"])({url:window.configs.api+"/qualityFirstendCheck/findAppearanceOrSizeInspectInfo",method:"get",params:t})}function c(t){return Object(i["a"])({url:window.configs.api+"/qualityInspection/findList",method:"get",params:t})}function d(t){return Object(i["a"])({url:window.configs.api+"/qualityStoreCheck/submit",method:"post",data:t})}function u(t){return Object(i["a"])({url:window.configs.api+"/qualityFirstendCheck/update",method:"post",data:t})}function p(t){return Object(i["a"])({url:window.configs.api+"/qualityFirstendCheck/coerceClose",method:"post",data:t})}function m(t){return Object(i["a"])({url:window.configs.api+"/qualityFirstendCheck/postponeExe",method:"post",data:t})}},"16fb":function(t,e,a){},"3e0f":function(t,e,a){"use strict";var i=a("4f02"),s=a.n(i);s.a},"4f02":function(t,e,a){},"5ab1":function(t,e,a){"use strict";var i=a("ba61"),s=a.n(i);s.a},"683d":function(t,e,a){"use strict";a.d(e,"e",(function(){return s})),a.d(e,"f",(function(){return n})),a.d(e,"h",(function(){return l})),a.d(e,"k",(function(){return o})),a.d(e,"m",(function(){return r})),a.d(e,"o",(function(){return c})),a.d(e,"d",(function(){return d})),a.d(e,"c",(function(){return u})),a.d(e,"g",(function(){return p})),a.d(e,"l",(function(){return m})),a.d(e,"j",(function(){return h})),a.d(e,"n",(function(){return f})),a.d(e,"a",(function(){return g})),a.d(e,"i",(function(){return b})),a.d(e,"b",(function(){return C})),a.d(e,"p",(function(){return v}));var i=a("b775");function s(t){return Object(i["a"])({url:window.configs.api+"/injectionMolding/findList",method:"get",params:t})}function n(t){return Object(i["a"])({url:window.configs.api+"/injectionMolding/findPlanList",method:"post",data:t})}function l(t){return Object(i["a"])({url:window.configs.api+"/injectionMolding/insert",method:"post",data:t})}function o(t){return Object(i["a"])({url:window.configs.api+"/injectionMolding/moveUpDownCancel",method:"post",data:t})}function r(t){return Object(i["a"])({url:window.configs.api+"/injectionMolding/stop",method:"post",data:t})}function c(t){return Object(i["a"])({url:window.configs.api+"/injectionMolding/update",method:"post",data:t})}function d(){return Object(i["a"])({url:window.configs.e2cUrl+"/productDevices/findTreeList",method:"get"})}function u(t){return Object(i["a"])({url:window.configs.api+"/craftModel/findByProductCode",method:"get",params:t})}function p(t){return Object(i["a"])({url:window.configs.api+"/reworkInjection/findList",method:"get",params:t})}function m(t){return Object(i["a"])({url:window.configs.api+"/reworkInjection/moveUp",method:"post",data:t})}function h(t){return Object(i["a"])({url:window.configs.api+"/reworkInjection/moveDown",method:"post",data:t})}function f(t){return Object(i["a"])({url:window.configs.api+"/reworkInjection/stop",method:"post",data:t})}function g(t){return Object(i["a"])({url:window.configs.api+"/reworkInjection/cancel",method:"post",data:t})}function b(t){return Object(i["a"])({url:window.configs.api+"/reworkInjection/insert",method:"post",data:t})}function C(t){return Object(i["a"])({url:window.configs.api+"/reworkInjection/createProductCode",method:"get",params:t})}function v(t){return Object(i["a"])({url:window.configs.api+"/reworkInjection/update",method:"post",data:t})}},"7a7a":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"el-tablenew"},[a("el-tabs",{staticClass:"el-tablenew",on:{"tab-click":t.handleClicks},model:{value:t.actives,callback:function(e){t.actives=e},expression:"actives"}},[a("el-tab-pane",{staticClass:"contentBody",attrs:{label:"设定值监测",name:"1"}},[null!==t.code?a("div",{staticStyle:{"min-width":"1600px"}},[1===t.listenType?a("rj1",{attrs:{type:t.type,"is-checked":!0}}):t._e(),2===t.listenType?a("rj2",{attrs:{type:t.type,"is-checked":!0}}):t._e(),3===t.listenType?a("yb",{attrs:{type:t.type,"is-checked":!0}}):t._e(),4===t.listenType?a("gjj",{attrs:{type:t.type,"is-checked":!0}}):t._e(),5===t.listenType?a("ht",{attrs:{type:t.type,"is-checked":!0}}):t._e(),6===t.listenType?a("jjft",{attrs:{type:t.type,"is-checked":!0}}):t._e(),7===t.listenType?a("klsmf",{attrs:{type:t.type,"is-checked":!0}}):t._e(),8===t.listenType?a("dmg",{attrs:{type:t.type,"is-checked":!0}}):t._e()],1):t._e()]),a("el-tab-pane",{staticClass:"contentBody",attrs:{label:"设定值修改记录",name:"2"}},[null!==t.code?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.list,"row-class-name":t.tableRowClassName,border:"",height:"calc(100vh - 290px)"}},[a("el-table-column",{attrs:{prop:"date",label:"序号",align:"center",width:"55"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index+1)+" ")]}}],null,!1,3056706777)}),a("el-table-column",{attrs:{prop:"tmUpdateOld",label:"旧值",align:"center","min-width":"120px","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"tmUpdateNew",label:"新值",align:"center","min-width":"120px"}}),a("el-table-column",{attrs:{prop:"tmUpdateDateTime",label:"开始时间",align:"center","min-width":"120px"}}),a("el-table-column",{attrs:{prop:"tmUpdateContent",label:"修改参数",align:"center","min-width":"150px"}})],1):t._e(),null!==t.code?a("pagination",{staticClass:"pagePadd",attrs:{total:t.total,page:t.pageIndex,limit:t.pageSize},on:{"update:page":function(e){t.pageIndex=e},"update:limit":function(e){t.pageSize=e},pagination:t.handleCurrentChange}}):t._e()],1)],1)],1)])},s=[],n=a("b85c"),l=a("644f"),o=a("333d"),r=a("143e"),c=a("c547"),d=a("8de1"),u=a("69aa"),p=a("ff9a"),m=a("b3d9"),h=a("8c4a"),f=a("d1fc"),g={name:"ProcessTesting",components:{Pagination:o["a"],rj1:r["a"],rj2:c["a"],yb:d["a"],gjj:u["a"],ht:p["a"],jjft:m["a"],klsmf:h["a"],dmg:f["a"]},props:{code:{type:Object,default:null}},data:function(){return{actives:"1",loading:"",listenType:-1,total:0,pageIndex:1,pageSize:10,currentId:0,type:"find",sendWsTime:null,list:[]}},computed:{childrenCode:function(){return this.code}},watch:{childrenCode:function(t){t&&("1"===this.actives?this.findIngCardByDeviceIds():"2"===this.actives&&(this.pageIndex=1,this.fetchDate()))}},mounted:function(){this.setListener()},destroyed:function(){this.sendWsTime&&(clearInterval(this.sendWsTime),this.sendWsTime=null)},methods:{findIngCardByDeviceIds:function(){var t=this;Object(l["h"])(this.code).then((function(e){0===e.code&&(e.data?(t.listenType=e.data.cardId,sessionStorage.setItem("cardFromJson",e.data.craftData)):t.listenType=-1)}))},setListener:function(){var t=this;this.sendWsTime=setInterval((function(){"1"===t.actives&&t.code&&(t.listenType=-1,t.findIngCardByDeviceIds())}),6e4)},handleClicks:function(t,e){"1"===this.actives?this.findIngCardByDeviceIds():"2"===this.actives&&(this.pageIndex=1,this.fetchDate())},tableRowClassName:function(t){t.row;var e=t.rowIndex;return e%2===1?"table-row":""},fetchDate:function(){var t=this;this.list=[],this.loading=!0;var e={deviceCode:this.code.code,pageNum:this.pageIndex,pageSize:this.pageSize};Object(l["k"])(e).then((function(e){if(t.loading=!1,0===e.code){t.list=[];var a,i=Object(n["a"])(e.data.list);try{for(i.s();!(a=i.n()).done;){var s=a.value,l=JSON.parse(JSON.stringify(s));l.tmUpdateDateTime=s.tmUpdateDateTime.substring(0,4)+"-"+s.tmUpdateDateTime.substring(4,6)+"-"+s.tmUpdateDateTime.substring(6,8)+" "+s.tmUpdateDateTime.substring(8,10)+":"+s.tmUpdateDateTime.substring(10,12),t.list.push(l)}}catch(o){i.e(o)}finally{i.f()}t.total=e.data.total}}))},searchBtn:function(){this.fetchDate()},searchrestBtn:function(){this.pageIndex=1,this.pageSize=10,this.fetchDate()},handleCurrentChange:function(){this.fetchDate()}}},b=g,C=(a("7c94"),a("2877")),v=Object(C["a"])(b,i,s,!1,null,"7e54895f",null);e["a"]=v.exports},"7c94":function(t,e,a){"use strict";var i=a("16fb"),s=a.n(i);s.a},a2a1:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-page-header",{attrs:{content:"检验详情"},on:{back:t.backClick}}),a("div",{staticClass:"content1"},[a("div",{staticClass:"header"},[a("el-row",[a("el-col",{attrs:{span:6}},[t._v("任务单号："+t._s(t.detailData.checkNo))]),a("el-col",{attrs:{span:6}},[t._v("设备编号："+t._s(t.detailData.productDevicesName))]),a("el-col",{attrs:{span:6}},[t._v("报检人："+t._s(t.detailData.createUserName))]),a("el-col",{attrs:{span:6}},[t._v("报检时间："+t._s(t.detailData.createTime))])],1),a("el-row",[a("el-col",{attrs:{span:6}},[t._v("生产指令："+t._s(t.detailData.productCode))]),a("el-col",{attrs:{span:6}},[t._v("零件代码："+t._s(t.detailData.materialCode))]),a("el-col",{attrs:{span:6}},[t._v("零件名称："+t._s(t.detailData.materialName))])],1)],1),a("div",{staticClass:"firstContent"},[a("el-row",[a("el-col",{staticClass:"elColRight",attrs:{span:9}},[t._v("泛沃 FineWorld")]),a("el-col",{staticClass:"elColRight",attrs:{span:12}},[t._v(t._s(t.oDetail.version))]),a("el-col",{attrs:{span:3}},[t._v("Page:1/1")])],1),a("el-row",[a("el-col",{staticClass:"elColTop",attrs:{span:24}},[t._v("质量跟踪卡 Quality follow-up card")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:2}},[t._v("零件代码"),a("br"),t._v(" Part Code")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:4}},[t._v(t._s(t.oDetail.materialCode))]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("抽样"),a("br"),t._v(" Sampling")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oSubmit.samping)+" ")]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("材料名称"),a("br"),t._v(" Material")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oSubmit.material)+" ")]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("模具编号"),a("br"),t._v(" Mould No.")]),a("el-col",{staticClass:"elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oDetail.mouldNo)+" ")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:2}},[t._v("零件名称"),a("br"),t._v(" Part descrip.")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:4}},[t._v(t._s(t.oDetail.materialName))]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("频率"),a("br"),t._v(" Frequence")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oSubmit.frequence)+" ")]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("材料批号"),a("br"),t._v(" Material No.")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oSubmit.materialNo)+" ")]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("生产指令号"),a("br"),t._v(" OF No.")]),a("el-col",{staticClass:"elColTop",attrs:{span:3}},[t._v(" "+t._s(t.detailData.productCode)+" ")])],1),a("el-row",{staticClass:"doubleRow",staticStyle:{heghit:"64"}},[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("产品特性 "),a("br"),t._v(" Features")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:4}},[t._v("过程规范 "),a("br"),t._v(" Process specification")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:3}},[t._v("测量仪器 "),a("br"),t._v(" Measuring device")]),a("el-col",{staticClass:"elColRight elColTop",staticStyle:{heghit:"64"},attrs:{span:12}},[a("el-row",[a("el-col",{staticClass:"elColRight elColTop elColLeft fontWeight700",attrs:{span:24}},[t._v(" 腔 号 Measure by cavity")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColLeft elColTop fontWeight700",attrs:{span:6}},[t._v("Cav1")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav2")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav3")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav4")])],1)],1),a("el-col",{staticClass:"elColTop singleRow64 fontWeight700",attrs:{span:3}},[t._v(" 判定 Conclusion")])],1),t._l(t.standardFilterList,(function(e,i){return a("div",{key:"row"+i},[3!==e.classify&&1!==e.classify?a("div",{staticClass:"tableBox"},[a("el-row",{staticClass:"tableRow"},[a("el-col",{staticClass:"elColRight elColTop fontWeight700 tablesty",attrs:{span:2}},[t._v(" "+t._s(0===e.classify?"外观":"包装")+" ")]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:4}},[t._v(t._s(e.standard))]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:3}},[t._v(t._s(e.evaluate))]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:3}},[t._v(" "+t._s(e.cav1Value?"OK":"NG")+" ")]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:3}},[t._v(" "+t._s(e.cav2Value?"OK":"NG")+" ")]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:3}},[t._v(" "+t._s(e.cav3Value?"OK":"NG")+" ")]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:3}},[t._v(" "+t._s(e.cav4Value?"OK":"NG")+" ")]),a("el-col",{staticClass:" elColTop tablesty",attrs:{span:3}},[t._v(" "+t._s(e.conclusion?"OK":"NG")+" ")])],1)],1):3===e.classify?a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("尺寸")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:2}},[t._v(t._s(e.standardMin))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:2}},[t._v(t._s(e.standardMax))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(t._s(e.evaluate))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(e.cav1Value)+" ")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(e.cav2Value)+" ")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(e.cav3Value)+" ")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(e.cav4Value)+" ")]),a("el-col",{staticClass:" elColTop",attrs:{span:3}},[t._v(" "+t._s(e.conclusion?"OK":"NG")+" ")])],1):t._e()],1)})),a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:9}},[t._v("测量结束时间 Measurement end time")]),a("el-col",{staticClass:"elColTop",attrs:{span:15}},[t._v(" "+t._s(t.oSubmit.endTimeMinute)+" ")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("备注 Remark")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:10}},[t._v(" "+t._s(t.oSubmit.note)+" ")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:3}},[t._v("日期 Date")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oSubmit.endTimeDate)+" ")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:3}},[t._v("测量员 Surveyor")]),a("el-col",{staticClass:"elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oSubmit.measureUser)+" ")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop",attrs:{span:9}},[t._v("泛沃 FineWorld")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:12}},[t._v(t._s(t.oDetail.version))]),a("el-col",{staticClass:"elColTop",attrs:{span:3}},[t._v("Page:1/1")])],1)],2)])],1)},s=[],n=(a("d81d"),a("d3b7"),a("ac1f"),a("3ca3"),a("1276"),a("ddb0"),a("5530")),l=a("13f1"),o={components:{},props:{detailData:{type:Object,required:!0},showType:{type:String,required:!0}},data:function(){return{searchKey:{productCode:"",checkType:0,status:3},standardList:[],standardHistoryList:[],oSubmit:{checkClassify:"",classify:1,createTime:"",dataId:null,endTimeDate:"",endTimeMinute:"",endTime:"",frequence:"",material:"",materialNo:"",mouldNo:"",note:"",ofNo:"",partCode:"",partName:"",realResult:"",samping:"",user:null,measureUser:"",viewResult:""},oDetail:{}}},computed:{standardFilterList:function(){var t=this.standardList;return t=t.sort(this.sortBy("classify",!0)),t},standardHistoryFilterList:function(){var t=this.standardHistoryList;return t=t.sort(this.sortBy("classify",!0)),t}},created:function(){this.searchKey.productCode=this.detailData.productCode},mounted:function(){this.initData()},methods:{sortBy:function(t,e){return e=void 0===e||e?1:-1,function(a,i){return a=a[t],i=i[t],a<i?-1*e:a>i?1*e:0}},dataSetting:function(){this.oDetail=Object(n["a"])({},this.detailData),this.oSubmit.dataId=this.detailData.id,this.oSubmit.ofNo=this.detailData.productCode,this.oSubmit.partCode=this.detailData.materialCode,this.oSubmit.partName=this.detailData.materialName},initData:function(){var t=this,e=this,a=new Promise((function(t,a){var i={};i={preciseCode:e.detailData.materialCode,classify:1,pageNum:1,pageSize:10},Object(l["e"])(i).then((function(e){t(e)})).catch((function(t){a(t)}))})),i=new Promise((function(t,a){var i={};i={id:e.detailData.id},Object(l["d"])(i).then((function(e){t(e)})).catch((function(t){a(t)}))}));Promise.all([a,i]).then((function(a){var i=a;if(0===i[0].code){if(0===i[0].data.list.length||!i[0].data.list[0].qualityInspectionDetails)return t.standardList=[],void t.$message({type:"error",message:"没有该零件检验规范，请先添加代码为: [ "+t.detailData.materialCode+" ] 的零件检验规范！"});if(0!==i[1].code||1!==i[1].data.length){var s=i[0].data.list[0].qualityInspectionDetails;return s.map((function(t,e){if(1*t.classify===3){var a=t.standard.split("-");t["standardMin"]=a[0],t["standardMax"]=a[1],t.cav1Value="",t.cav2Value="",t.cav3Value="",t.cav4Value="",t.conclusion=!1}else t.cav1Value=!0,t.cav2Value=!0,t.cav3Value=!0,t.cav4Value=!0,t.conclusion=!0})),t.standardList=s,void t.dataSetting()}if(0===i[1].code)if(1===i[1].data.length){t.oSubmit=i[1].data[0];var l=t.oSubmit.endTime.split(" ");t.oSubmit["endTimeDate"]=l[0],t.oSubmit["endTimeMinute"]=l[1].substring(0,5);var o=null;o="real"===e.showType?JSON.parse(t.oSubmit.realResult):JSON.parse(t.oSubmit.viewResult),t.standardList=o,t.oDetail=Object(n["a"])({},t.detailData)}else t.$message({type:"error",message:"已检验部分数据异常!"});else t.$message({type:"error",message:"获取已检验部分详情失败："+i[1].msg})}else t.$message({type:"error",message:"获取零件检验规范失败："+i[0].msg})}))},backClick:function(){this.$emit("FirstLastCall",!1)}}},r=o,c=(a("3e0f"),a("2877")),d=Object(c["a"])(r,i,s,!1,null,"0f45d828",null);e["a"]=d.exports},ba61:function(t,e,a){},db10:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[0===t.type?a("div",{staticClass:"el-tablenew"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.routList,"row-class-name":t.tableRowClassName,border:"",height:"calc(100vh - 355px)"}},[a("el-table-column",{attrs:{prop:"date",label:"序号",align:"center",width:"55"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index+1)+" ")]}}],null,!1,3056706777)}),a("el-table-column",{attrs:{prop:"productCode",label:"零件代码",align:"center","min-width":"150px"}}),a("el-table-column",{attrs:{prop:"productName",label:"零件名称",align:"center","min-width":"150px"}}),a("el-table-column",{attrs:{prop:"productOrder",label:"生产指令",align:"center","min-width":"150px"}}),a("el-table-column",{attrs:{prop:"date",label:"操作",align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"defaultTextBtn",attrs:{type:"text"},on:{click:function(a){return t.findInfo(e.row)}}},[a("svg-icon",{attrs:{"icon-class":"search"}}),t._v(" 查看 ")],1)]}}],null,!1,94581656)})],1),a("pagination",{staticClass:"pagePadd",attrs:{total:t.routtotal,page:t.routpageIndex,limit:t.routpageSize},on:{"update:page":function(e){t.routpageIndex=e},"update:limit":function(e){t.routpageSize=e},pagination:t.routhandleCurrentChange}})],1):t._e(),1===t.type?a("div",{staticClass:"el-tablenew"},[a("el-page-header",{attrs:{content:"详情"},on:{back:function(e){return t.backClick()}}}),a("el-tabs",{on:{"tab-click":t.handleClicks},model:{value:t.actives,callback:function(e){t.actives=e},expression:"actives"}},[a("el-tab-pane",{staticClass:"styclass",attrs:{label:"当前生产信息",name:"1"}},[a("div",{staticClass:"content1"},[a("div",{staticClass:"title"},[a("span",{staticClass:"ganggang"},[t._v("-")]),t._v(" 基础信息")]),a("div",{staticClass:"contentBody",staticStyle:{overflow:"auto"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-row",[a("el-col",{attrs:{span:8}},[t._v(" 生产指令: "+t._s(t.infoObj.productOrder)+" ")]),a("el-col",{attrs:{span:8}},[t._v(" 实际开始时间: "+t._s(t.infoObj.startTime&&t.infoObj.startTime.length>10?t.infoObj.startTime.substring(0,10):t.infoObj.startTime)+" ")]),a("el-col",{attrs:{span:8}},[t._v(" 预计结束时间: "+t._s(t.infoObj.endTime&&t.infoObj.endTime.length>10?t.infoObj.endTime.substring(0,10):t.infoObj.endTime)+" ")])],1),a("el-row",[a("el-col",{attrs:{span:8}},[t._v(" 客户名称: "+t._s(t.infoObj.customer)+" ")]),a("el-col",{attrs:{span:8}},[t._v(" 发货时间: "+t._s(t.infoObj.deliverTime&&t.infoObj.deliverTime.length>10?t.infoObj.deliverTime.substring(0,10):t.infoObj.deliverTime)+" ")]),a("el-col",{attrs:{span:8}},[t._v(" 零件代码: "+t._s(t.infoObj.productCode)+" ")])],1),a("el-row",[a("el-col",{attrs:{span:8}},[t._v(" 模腔数: "+t._s(t.infoObj.cavity)+" ")]),a("el-col",{attrs:{span:8}},[t._v(" 零件名称: "+t._s(t.infoObj.productName)+" ")]),a("el-col",{attrs:{span:8}},[t._v(" 模具编号: "+t._s(t.infoObj.mouldCode)+" ")])],1),a("el-row",[a("el-col",{attrs:{span:8}},[t._v(" 设备编号: "+t._s(t.infoObj.productDevicesName)+" ")]),a("el-col",{attrs:{span:8}},[t._v(" 工艺卡编号: "+t._s(t.infoObj.carkCode)+" ")]),a("el-col",{attrs:{span:8}},[t._v(" 计划生产周期: "+t._s(t.infoObj.planBeat)+" ")])],1)],1),a("el-col",{attrs:{span:6}},[a("el-image",{staticStyle:{width:"100px",height:"100px","margin-right":"15px",cursor:"pointer"},attrs:{src:t.dialogImageUrl},on:{click:function(e){return t.handlePictureCardPreviews()}}})],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[t._v(" 实际生产周期: "+t._s(t.infoObj.tmCycleTime)+" ")]),a("el-col",{attrs:{span:6}},[t._v(" 计划生产数量: "+t._s(t.infoObj.planCount)+" ")]),a("el-col",{attrs:{span:6}},[t._v(" 实际生产数量: "+t._s(t.infoObj.qualified)+" ")]),a("el-col",{attrs:{span:6}},[t._v(" 不合格品数量: "+t._s(t.infoObj.unqualified)+" ")])],1)],1)]),a("div",{staticClass:"content1"},[a("div",{staticClass:"title"},[a("span",{staticClass:"ganggang"},[t._v("-")]),t._v(" 设备状态")]),a("div",{staticClass:"contentBody",staticStyle:{overflow:"auto"}},[a("el-row",[a("el-col",{attrs:{span:5}},[t._v(" 循环时间CMK: "+t._s(t.cmk.tmCycleTime)+" ")]),a("el-col",{attrs:{span:5}},[t._v(" 射出时间CMK: "+t._s(t.cmk.chargeAvgTime)+" ")]),a("el-col",{attrs:{span:5}},[t._v(" 储料时间CMK: "+t._s(t.cmk.tmChargeTime)+" ")]),a("el-col",{attrs:{span:5}},[t._v(" 射出终点CMK: "+t._s(t.cmk.tmInjEndPosi)+" ")]),a("el-col",{attrs:{span:4}},[t._v(" 射出尖压CMK: "+t._s(t.cmk.tmInjMaxPress)+" ")])],1)],1)]),a("div",{staticClass:"content1"},[a("div",{staticClass:"title"},[a("span",{staticClass:"ganggang"},[t._v("-")]),t._v(" 生产次品分布")]),a("div",{staticClass:"contentBody",staticStyle:{overflow:"auto"}},[a("div",{staticStyle:{height:"300px",width:"100%"},attrs:{id:"barcode"}})])])]),a("el-tab-pane",{staticClass:"styclass",attrs:{label:"质量检验记录",name:"2"}},[t.detailInfo?t._e():a("div",{staticClass:"el-tablenew"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.qualityList,"row-class-name":t.tableRowClassName,border:"",height:"calc(100vh - 430px)"}},[a("el-table-column",{attrs:{prop:"date",label:"序号",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index+1)+" ")]}}],null,!1,3056706777)}),a("el-table-column",{attrs:{prop:"name",label:"检验订单号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.checkNo))])]}}],null,!1,904548065)}),a("el-table-column",{attrs:{prop:"name",label:"设备编号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.productDevicesName))])]}}],null,!1,492187937)}),a("el-table-column",{attrs:{prop:"name",label:"检验类型",align:"center",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(0===e.row.checkType?"首件":1===e.row.checkType?"巡检":"末件"))])]}}],null,!1,1650392827)}),a("el-table-column",{attrs:{prop:"keepCycle",label:"生产指令",align:"center",width:"110px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(" "+t._s(e.row.productCode))])]}}],null,!1,765911499)}),a("el-table-column",{attrs:{prop:"startTime",label:"零件代码",align:"center","min-width":"85px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(" "+t._s(e.row.materialCode))])]}}],null,!1,4199724363)}),a("el-table-column",{attrs:{prop:"lastTime",label:"零件名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.materialName))])]}}],null,!1,2193813674)}),a("el-table-column",{attrs:{prop:"lastTime",label:"报检时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.createTime&&e.row.createTime.length>10?e.row.createTime.substring(0,16):e.row.createTime)+" ")]}}],null,!1,1052956272)}),a("el-table-column",{attrs:{prop:"lastTime",label:"是否超时",align:"center",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.isOut?a("span",[t._v("否")]):t._e(),1===e.row.isOut?a("span",[t._v("是")]):a("span",[t._v("--")])]}}],null,!1,3915450868)}),a("el-table-column",{attrs:{prop:"lastTime",label:"任务状态",align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.status?a("span",[t._v("待执行")]):t._e(),1===e.row.status?a("span",[t._v("申请延后")]):t._e(),2===e.row.status?a("span",[t._v("强制关闭")]):t._e(),3===e.row.status?a("span",[t._v("执行完成")]):t._e()]}}],null,!1,2975062691)}),a("el-table-column",{attrs:{prop:"lastTime",label:"未执行原因",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.nonExecution?a("span",[t._v(t._s(e.row.nonExecution))]):a("span",[t._v("--")])]}}],null,!1,2338357457)}),a("el-table-column",{attrs:{prop:"lastTime",label:"审批结果",align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.qualityInspectResult?a("span",[t._v(t._s(e.row.qualityInspectResult))]):a("span",[t._v("--")])]}}],null,!1,1508916849)}),a("el-table-column",{attrs:{prop:"date",label:"操作",align:"center",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"defaultTextBtn",attrs:{type:"text"},on:{click:function(a){return t.bindBtn(e.row,"real")}}},[a("svg-icon",{attrs:{"icon-class":"search"}}),t._v(" 查看 ")],1)]}}],null,!1,2139473980)})],1),a("pagination",{staticClass:"pagePadd",attrs:{total:t.total,page:t.pageIndex,limit:t.pageSize},on:{"update:page":function(e){t.pageIndex=e},"update:limit":function(e){t.pageSize=e},pagination:t.handleCurrentChange}})],1)]),a("el-tab-pane",{staticClass:"styclass",attrs:{label:"工艺参数",name:"3"}},[a("processTesting",{attrs:{code:t.codeIndex}})],1),a("el-tab-pane",{staticClass:"styclass",attrs:{label:"停机/异常记录",name:"6"}},[t.detailInfo?t._e():a("div",{staticClass:"el-tablenew"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.stopList,"row-class-name":t.tableRowClassName,border:"",height:"calc(100vh - 430px)"}},[a("el-table-column",{attrs:{prop:"name",label:"停机原因",align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[null!==e.row.reason?a("span",[t._v(t._s(t.reasonList[e.row.reason]))]):t._e()]}}],null,!1,790873187)}),a("el-table-column",{attrs:{prop:"name",label:"设备编号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.productDevicesCode))])]}}],null,!1,3575988459)}),a("el-table-column",{attrs:{prop:"name",label:"生产指令",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.ofNo))])]}}],null,!1,694930094)}),a("el-table-column",{attrs:{prop:"keepCycle",label:"上报时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.createTime&&e.row.createTime.length>10?e.row.createTime.substring(0,16):e.row.createTime)+" ")]}}],null,!1,1052956272)}),a("el-table-column",{attrs:{prop:"startTime",label:"停机确认",align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(" "+t._s(e.row.createUserName))])]}}],null,!1,477385215)}),a("el-table-column",{attrs:{prop:"lastTime",label:"停机开始时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.createTime&&e.row.createTime.length>10?e.row.createTime.substring(0,16):e.row.createTime)+" ")]}}],null,!1,1052956272)}),a("el-table-column",{attrs:{prop:"lastTime",label:"停机结束时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.createTime&&e.row.createTime.length>10?e.row.createTime.substring(0,16):e.row.createTime)+" ")]}}],null,!1,1052956272)})],1),a("pagination",{staticClass:"pagePadd",attrs:{total:t.total,page:t.pageIndex,limit:t.pageSize},on:{"update:page":function(e){t.pageIndex=e},"update:limit":function(e){t.pageSize=e},pagination:t.handleCurrentChange}})],1)]),t.showBar?t._e():a("el-tab-pane",{staticClass:"styclass",attrs:{label:"后续生产计划",name:"4"}},[a("div",{staticClass:"searchInfo"},[a("span",{staticClass:"seachname"},[t._v(" 生产指令: ")]),a("el-input",{staticClass:"inputCls",staticStyle:{width:"150px","margin-right":"15px"},attrs:{placeholder:"生产指令",clearable:""},model:{value:t.searchPlan.code,callback:function(e){t.$set(t.searchPlan,"code",e)},expression:"searchPlan.code"}}),a("span",{staticClass:"seachname",staticStyle:{"margin-left":"15px"}},[t._v(" 零件号: ")]),a("el-input",{staticClass:"inputCls",staticStyle:{width:"140px","margin-right":"15px"},attrs:{placeholder:"零件号",clearable:""},model:{value:t.searchPlan.name,callback:function(e){t.$set(t.searchPlan,"name",e)},expression:"searchPlan.name"}}),a("span",{staticClass:"seachname",staticStyle:{"margin-left":"15px"}},[t._v(" 状态: ")]),a("el-select",{staticClass:"inputCls",staticStyle:{width:"90px","margin-right":"15px"},attrs:{placeholder:"状态",clearable:""},model:{value:t.searchPlan.status,callback:function(e){t.$set(t.searchPlan,"status",e)},expression:"searchPlan.status"}},t._l(t.statusList,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1),a("span",{staticClass:"seachname"},[t._v(" 生产开始日期: ")]),a("el-date-picker",{staticClass:"inputCls",staticStyle:{width:"140px","margin-right":"5px"},attrs:{editable:!1,"picker-options":t.startPickerOptions,type:"date",placeholder:"开始时间",clearable:""},model:{value:t.searchPlan.startTime,callback:function(e){t.$set(t.searchPlan,"startTime",e)},expression:"searchPlan.startTime"}}),a("span",{staticClass:"seachname"},[t._v(" — ")]),a("el-date-picker",{staticClass:"inputCls",staticStyle:{width:"140px","margin-right":"15px"},attrs:{editable:!1,"picker-options":t.endPickerOptions,type:"date",placeholder:"结束时间",clearable:""},model:{value:t.searchPlan.endTime,callback:function(e){t.$set(t.searchPlan,"endTime",e)},expression:"searchPlan.endTime"}}),a("el-button",{staticClass:"primaryBtn",staticStyle:{"margin-left":"7px"},attrs:{type:"primary"},on:{click:t.searchBtn}},[a("svg-icon",{attrs:{"icon-class":"search"}}),t._v(" 查询 ")],1),a("el-button",{staticClass:"resetBtn",staticStyle:{"margin-left":"7px"},attrs:{type:"default",icon:"el-icon-refresh-right"},on:{click:t.searchrestBtn}},[t._v(" 重置 ")])],1),a("div",{staticClass:"el-tablenew"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.planList,"row-class-name":t.tableRowClassName,border:"",height:"calc(100vh - 450px  )"}},[a("el-table-column",{attrs:{fixed:"left",prop:"productCode",label:"生产指令",align:"center","min-width":"120px","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"partsCode",label:"零件号",align:"center","min-width":"120px"}}),a("el-table-column",{attrs:{prop:"planCount",label:"计划数量",align:"center","min-width":"120px"}}),a("el-table-column",{attrs:{prop:"productCount",label:"实际生产数量",align:"center","min-width":"120px"}}),a("el-table-column",{attrs:{prop:"material",label:"原材料",align:"center","min-width":"120px"}}),a("el-table-column",{attrs:{prop:"startTime",label:"开始时间",align:"center","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.startTime&&e.row.startTime.length>10?e.row.startTime.substring(0,16):e.row.startTime)+" ")]}}],null,!1,713995024)}),a("el-table-column",{attrs:{prop:"endTime",label:"结束时间",align:"center","min-width":"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.endTime&&e.row.endTime.length>10?e.row.endTime.substring(0,16):e.row.endTime)+" ")]}}],null,!1,334023664)}),a("el-table-column",{attrs:{prop:"priority",label:"优先级",align:"center","min-width":"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(0===e.row.priority?"普通":"优先")+" ")]}}],null,!1,629212899)}),a("el-table-column",{attrs:{prop:"createTime",label:"状态",align:"center","min-width":"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(0===e.row.status?"未开始":1===e.row.status?"生产中":2===e.row.status?"暂停":"取消")+" ")]}}],null,!1,995778838)}),a("el-table-column",{attrs:{prop:"note",label:"备注",align:"center","min-width":"150px"}})],1),a("pagination",{staticClass:"pagePadd",attrs:{total:t.total,page:t.pageIndex,limit:t.pageSize},on:{"update:page":function(e){t.pageIndex=e},"update:limit":function(e){t.pageSize=e},pagination:t.handleCurrentChange}})],1)]),a("el-tab-pane",{attrs:{label:"时间履历",name:"5"}},[a("div",{staticClass:"block"},[a("el-timeline",t._l(t.timelist,(function(e,i){return a("el-timeline-item",{key:i,attrs:{timestamp:e.timestamp,placement:"top"}},[6!==i&&7!==i?a("el-card",[a("h4",[t._v(t._s(e.content))]),1===i?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"max-width":"600px"},attrs:{data:t.feedList,"row-class-name":t.tableRowClassName,border:""}},[a("el-table-column",{attrs:{prop:"code",label:"投料时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.createTime&&e.row.createTime.length>10?e.row.createTime.substring(0,16):e.row.createTime))])]}}],null,!0)}),a("el-table-column",{attrs:{prop:"createUserName",label:"投料人",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"物料名称",align:"center"}})],1):t._e(),a("p",[t._v(t._s(e.operate)+" "+t._s(e.creatTime))])],1):a("el-card",[a("h4",[t._v(t._s(6===i?"报工":"异常"))]),a("div",{style:{display:7===i?"block":"none"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"max-width":"600px"},attrs:{data:t.stopList,"row-class-name":t.tableRowClassName,border:""}},[a("el-table-column",{attrs:{prop:"qualified",label:"异常原因",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[null!==e.row.reason?a("span",[t._v(t._s(t.reasonList[e.row.reason]))]):t._e()]}}],null,!0)}),a("el-table-column",{attrs:{prop:"createUserName",label:"人员",align:"center"}}),a("el-table-column",{attrs:{prop:"unit",label:"异常时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.createTime&&e.row.createTime.length>10?e.row.createTime.substring(0,16):e.row.createTime))])]}}],null,!0)})],1)],1),a("div",{style:{display:6===i?"block":"none"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"max-width":"600px"},attrs:{data:t.bgList,"row-class-name":t.tableRowClassName,border:""}},[a("el-table-column",{attrs:{prop:"createUserName",label:"报工人",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"qualified",label:"报工数量",align:"center"}}),a("el-table-column",{attrs:{prop:"unqualified",label:"不合格数量",align:"center"}}),a("el-table-column",{attrs:{prop:"unit",label:"报工时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.createTime&&e.row.createTime.length>10?e.row.createTime.substring(0,16):e.row.createTime))])]}}],null,!0)})],1)],1)])],1)})),1)],1)])],1)],1):t._e(),a("el-dialog",{attrs:{visible:t.dialogImgVisible,"append-to-body":""},on:{"update:visible":function(e){t.dialogImgVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})]),t.detailInfo?a("firstLastLogInfo",{staticClass:"showDialogsty",attrs:{"detail-data":t.detailData,"show-type":t.showType},on:{FirstLastCall:t.FirstLastCall}}):t._e()],1)},s=[],n=(a("4160"),a("159b"),a("683d")),l=a("ed08"),o=a("333d"),r=a("13f1"),c=a("a2a1"),d=a("7a7a"),u=a("dd3b"),p={name:"PartiallyProduct",components:{processTesting:d["a"],Pagination:o["a"],firstLastLogInfo:c["a"]},props:{showBar:{type:Boolean,default:!0},objstr:{type:Object,default:null}},data:function(){var t=this;return{actives:"1",loading:!1,dialogImageUrl:"",dialogImgVisible:!1,detailInfo:!1,codeIndex:null,feedList:[],timelist:[{content:"下发生产指令",timestamp:"",creatTime:"",operate:""},{content:"投料",timestamp:"",creatTime:"",operate:""},{content:"上模",timestamp:"",creatTime:"",operate:""},{content:"首件",timestamp:"",creatTime:"",operate:""},{content:"首检",timestamp:"",creatTime:"",operate:""},{content:"正式生产",timestamp:"",creatTime:"",operate:""},{content:"条码报工",timestamp:"",creatTime:"",operate:""},{content:"异常",timestamp:"",creatTime:"",operate:""},{content:"尾检",timestamp:"",creatTime:"",operate:""},{content:"入库",timestamp:"",creatTime:"",operate:""}],option:{color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["充模不全","多料","Pin高低不齐","露铜","漏插簧片","压伤","开裂","烧焦","油斑","其他"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"",type:"bar",barWidth:"60%",data:[10,52,70]}]},type:0,qualityList:[],stopList:[],detailData:"",showType:"",cmk:{tmCycleTime:null,tmChargeTime:null,tmInjEndPosi:null,tmInjMaxPress:null,chargeAvgTime:null},infoObj:{beatPercent:"",productDevicesName:"",carkCode:"",cavity:"",customer:"",deliverTime:"",endTime:"",lifeTime:"",mouldCode:"",mouldName:"",mouldPercent:"",passPercent:"",photo:"",planBeat:"",planCount:"",proPercent:"",productCode:"",productDevicesId:"",productName:"",productOrder:"",qualified:"",startTime:"",tmCycleTime:"",unqualified:"",useCount:""},reasonList:["保养","修模","试模","换型","待料","首模调试","其它"],total:0,pageIndex:1,pageSize:10,routtotal:0,routpageIndex:1,routpageSize:10,searchPlan:{key:"",code:"",codeIndex:"",status:"",name:"",startTime:"",endTime:""},bgList:[],hbList:[],routList:[],planList:[],statusList:[{id:0,name:"未开始"},{id:1,name:"生产中"},{id:2,name:"暂停"},{id:3,name:"取消"}],startPickerOptions:{disabledDate:function(e){return""!==t.searchPlan.endTime&&null!==t.searchPlan.endTime&&e.getTime()>t.searchPlan.endTime}},endPickerOptions:{disabledDate:function(e){return""!==t.searchPlan.startTime&&null!==t.searchPlan.startTime&&e.getTime()<t.searchPlan.startTime}},chart:null}},computed:{checkSubmit:function(){return this.objstr}},watch:{checkSubmit:function(t){t&&(this.showBar?(this.actives="1",this.type=0,this.routpageIndex=1,this.routpageSize=10,this.setInfo()):(this.findInfo(JSON.parse(sessionStorage.getItem("deviceInfoByListen"))),this.type=1))}},mounted:function(){this.showBar||(this.findInfo(JSON.parse(sessionStorage.getItem("deviceInfoByListen"))),this.type=1)},methods:{backClick:function(){this.actives="1",this.showBar?this.type=0:this.$emit("DetailCallBack")},setInfo:function(){this.objstr&&(this.infoObj={beatPercent:"",productDevicesName:"",carkCode:"",cavity:"",customer:"",deliverTime:"",endTime:"",lifeTime:"",mouldCode:"",mouldName:"",mouldPercent:"",passPercent:"",photo:"",planBeat:"",planCount:"",proPercent:"",productCode:"",productDevicesId:"",productName:"",productOrder:"",qualified:"",startTime:"",tmCycleTime:"",unqualified:"",useCount:""},this.cmk={tmCycleTime:null,tmChargeTime:null,tmInjEndPosi:null,tmInjMaxPress:null,chargeAvgTime:null},this.searchRout())},searchRout:function(){var t=this;Object(u["e"])({productOrder:this.objstr.instructions,partsCode:this.objstr.code,partsName:"",pageNum:this.routpageIndex,pageSize:this.routpageSize}).then((function(e){0===e.code&&(t.routList=e.data.list,t.routtotal=e.data.total)}))},findInfo:function(t){var e=this;this.infoObj=t,this.dialogImageUrl=window.configs.api+this.infoObj.photo,this.type=1,Object(u["i"])({productDevicesCode:this.infoObj.productDevicesName}).then((function(t){t.data.length>0&&(e.cmk={tmCycleTime:t.data[0].tmCycleTime,tmChargeTime:t.data[0].tmChargeTime,tmInjEndPosi:t.data[0].tmInjEndPosi,tmInjMaxPress:t.data[0].tmInjMaxPress,chargeAvgTime:t.data[0].chargeAvgTime})})),Object(u["b"])({planMoldingId:this.infoObj.id}).then((function(t){e.option.series[0].data=[null!==t.data[0].mold?t.data[0].mold:0,null!==t.data[0].material?t.data[0].material:0,null!==t.data[0].jagged?t.data[0].jagged:0,null!==t.data[0].copper?t.data[0].copper:0,null!==t.data[0].cover?t.data[0].cover:0,null!==t.data[0].crush?t.data[0].crush:0,null!==t.data[0].craze?t.data[0].craze:0,null!==t.data[0].burning?t.data[0].burning:0,null!==t.data[0].oil?t.data[0].oil:0,null!==t.data[0].note?t.data[0].note:0];var a=0;e.option.series[0].data.forEach((function(t,e,i){a+=t})),e.infoObj.unqualified=a,console.log(e.option),e.setChart()}))},routhandleCurrentChange:function(){this.searchRout()},handlePictureCardPreviews:function(t){this.dialogImgVisible=!0},handleClicks:function(){"2"===this.actives?(this.pageIndex=1,this.pageSize=10,this.getStorageLocationList()):"4"===this.actives?(this.pageIndex=1,this.pageSize=10,this.fetchDatePlan()):"6"===this.actives?(this.pageIndex=1,this.pageSize=10,this.findStopLists()):"5"===this.actives?this.findMoldingMonitorLists():"3"===this.actives&&(this.codeIndex={id:this.infoObj.productDevicesId,code:this.infoObj.productDevicesName})},findMoldingMonitorLists:function(){var t=this;this.feedList=[],Object(u["d"])({productOrder:this.infoObj.productOrder}).then((function(e){console.log(e.data),t.feedList=e.data})),Object(u["a"])({ofNo:this.infoObj.productOrder,pageNum:1,pageSize:999999}).then((function(e){console.log(e.data.list),t.bgList=e.data.list})),Object(u["k"])({ofNo:this.infoObj.productOrder,pageNum:1,pageSize:999999}).then((function(e){t.stopList=e.data.list})),Object(u["f"])({planMoldingId:this.infoObj.id,status:"0,1"}).then((function(e){console.log(e),e.data.length>0&&(t.timelist[0].creatTime=e.data[0].createTime&&e.data[0].createTime.length>10?e.data[0].createTime.substring(0,16):e.data[0].createTime,t.timelist[0].timestamp=e.data[0].createTime&&e.data[0].createTime.length>10?e.data[0].createTime.substring(0,10):e.data[0].createTime,t.timelist[0].operate=e.data[0].createUserName,t.timelist[1].creatTime=e.data[0].feedTime&&e.data[0].feedTime.length>10?e.data[0].feedTime.substring(0,16):e.data[0].feedTime,t.timelist[1].timestamp=e.data[0].feedTime&&e.data[0].feedTime.length>10?e.data[0].feedTime.substring(0,10):e.data[0].feedTime,t.timelist[1].operate=e.data[0].feedUser,t.timelist[2].creatTime=e.data[0].mouldUpTime&&e.data[0].mouldUpTime.length>10?e.data[0].mouldUpTime.substring(0,16):e.data[0].mouldUpTime,t.timelist[2].timestamp=e.data[0].mouldUpTime&&e.data[0].mouldUpTime.length>10?e.data[0].mouldUpTime.substring(0,10):e.data[0].mouldUpTime,t.timelist[2].operate=e.data[0].mouldUpUser,t.timelist[3].creatTime=e.data[0].firstDebugTime&&e.data[0].firstDebugTime.length>10?e.data[0].firstDebugTime.substring(0,16):e.data[0].firstDebugTime,t.timelist[3].timestamp=e.data[0].firstDebugTime&&e.data[0].firstDebugTime.length>10?e.data[0].firstDebugTime.substring(0,10):e.data[0].firstDebugTime,t.timelist[3].operate=e.data[0].firstDebugUser,t.timelist[4].creatTime=e.data[0].firstCheckTime&&e.data[0].firstCheckTime.length>10?e.data[0].firstCheckTime.substring(0,16):e.data[0].firstCheckTime,t.timelist[4].timestamp=e.data[0].firstCheckTime&&e.data[0].firstCheckTime.length>10?e.data[0].firstCheckTime.substring(0,10):e.data[0].firstCheckTime,t.timelist[4].operate=e.data[0].firstCheckUser,t.timelist[5].creatTime=e.data[0].productStartTime&&e.data[0].productStartTime.length>10?e.data[0].productStartTime.substring(0,16):e.data[0].productStartTime,t.timelist[5].timestamp=e.data[0].productStartTime&&e.data[0].productStartTime.length>10?e.data[0].productStartTime.substring(0,10):e.data[0].productStartTime,t.timelist[5].operate=e.data[0].productStartUser,t.timelist[8].creatTime=e.data[0].lastCheckTime&&e.data[0].lastCheckTime.length>10?e.data[0].lastCheckTime.substring(0,16):e.data[0].lastCheckTime,t.timelist[8].timestamp=e.data[0].lastCheckTime&&e.data[0].lastCheckTime.length>10?e.data[0].lastCheckTime.substring(0,10):e.data[0].lastCheckTime,t.timelist[8].operate=e.data[0].lastCheckUser,t.timelist[9].creatTime=e.data[0].storeTime&&e.data[0].storeTime.length>10?e.data[0].storeTime.substring(0,16):e.data[0].storeTime,t.timelist[9].timestamp=e.data[0].storeTime&&e.data[0].storeTime.length>10?e.data[0].storeTime.substring(0,10):e.data[0].storeTime,t.timelist[9].operate=e.data[0].storeUser)}))},findStopLists:function(){var t=this;Object(u["k"])({ofNo:this.infoObj.productOrder,pageNum:this.pageIndex,pageSize:this.pageSize}).then((function(e){t.stopList=e.data.list,t.total=e.data.total}))},FirstLastCall:function(){this.detailInfo=!1},getStorageLocationList:function(){var t=this;Object(r["b"])({productCode:this.infoObj.productOrder,productDevicesCode:this.infoObj.productDevicesName,checkType:"",status:3,pageNum:this.pageIndex,pageSize:this.pageSize,startTime:null,stopTime:null}).then((function(e){0===e.code&&(t.qualityList=e.data.list,t.total=e.data.total)}))},bindBtn:function(t,e){this.showType=e,this.detailData=t,this.detailInfo=!0},fetchDatePlan:function(){var t=this;this.planList=[],this.loading=!0;var e=null;this.searchPlan.startTime&&(e=Object(l["b"])(this.searchPlan.startTime,"{y}-{m}-{d}")+" 00:00:00");var a=null;this.searchPlan.endTime&&(a=Object(l["b"])(this.searchPlan.endTime,"{y}-{m}-{d}")+" 23:59:59");var i={productDevicesId:this.infoObj.productDevicesId,productCode:this.searchPlan.code+""?this.searchPlan.code:null,status:this.searchPlan.status+""?this.searchPlan.status:null,partsCode:this.infoObj.productCode,startTime:e,endTime:a,pageNum:this.pageIndex,pageSize:this.pageSize};Object(n["e"])(i).then((function(e){t.loading=!1,0===e.code&&(t.planList=e.data.list,t.total=e.data.total)}))},tableRowClassName:function(t){t.row;var e=t.rowIndex;return e%2===1?"table-row":""},searchBtn:function(){this.fetchDatePlan()},searchrestBtn:function(){this.searchPlan={key:"",code:"",codeIndex:"",status:"",name:"",startTime:"",endTime:""},this.pageIndex=1,this.pageSize=10,this.fetchDatePlan()},handleCurrentChange:function(){"2"===this.actives?this.getStorageLocationList():"4"===this.actives?this.fetchDatePlan():"6"===this.actives&&this.findStopLists()},setChart:function(){this.chart=this.$echarts.init(document.getElementById("barcode")),this.chart.setOption(this.option)}}},m=p,h=(a("5ab1"),a("2877")),f=Object(h["a"])(m,i,s,!1,null,"94a1a960",null);e["a"]=f.exports},dd3b:function(t,e,a){"use strict";a.d(e,"h",(function(){return s})),a.d(e,"e",(function(){return n})),a.d(e,"i",(function(){return l})),a.d(e,"b",(function(){return o})),a.d(e,"k",(function(){return r})),a.d(e,"f",(function(){return c})),a.d(e,"d",(function(){return d})),a.d(e,"a",(function(){return u})),a.d(e,"c",(function(){return p})),a.d(e,"l",(function(){return m})),a.d(e,"g",(function(){return h})),a.d(e,"j",(function(){return f}));var i=a("b775");function s(){return Object(i["a"])({url:window.configs.api+"/barcodeQuery/findProductProcessList",method:"get"})}function n(t){return Object(i["a"])({url:window.configs.api+"/barcodeQuery/findMoldingInjectionList",method:"get",params:t})}function l(t){return Object(i["a"])({url:window.configs.api+"/barcodeQuery/findProductStatusList",method:"get",params:t})}function o(t){return Object(i["a"])({url:window.configs.api+"/barcodeQuery/findBadProductList",method:"get",params:t})}function r(t){return Object(i["a"])({url:window.configs.api+"/produceMachineDown/findList",method:"get",params:t})}function c(t){return Object(i["a"])({url:window.configs.api+"/barcodeQuery/findMoldingMonitorList",method:"get",params:t})}function d(t){return Object(i["a"])({url:window.configs.api+"/barcodeQuery/findFeedingDetailList",method:"get",params:t})}function u(t){return Object(i["a"])({url:window.configs.api+"/produceMoldingRecord/findList",method:"get",params:t})}function p(t){return Object(i["a"])({url:window.configs.api+"/produceReworkRecord/findList",method:"get",params:t})}function m(t){return Object(i["a"])({url:window.configs.api+"/produceMaterialMonitor/findList",method:"get",params:t})}function h(t){return Object(i["a"])({url:window.configs.api+"/produceMaterialMonitor/findPlantUseMaterialList",method:"get",params:t})}function f(t){return Object(i["a"])({url:window.configs.api+"//barcodeQuery/findReworkInjectionList",method:"get",params:t})}}}]);