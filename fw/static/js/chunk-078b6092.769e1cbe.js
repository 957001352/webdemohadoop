(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-078b6092"],{"09f4":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),Math.easeInOutQuad=function(t,e,a,l){return t/=l/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var l=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function s(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function o(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function i(t,e,a){var i=o(),n=t-i,c=20,r=0;e="undefined"===typeof e?500:e;var u=function t(){r+=c;var o=Math.easeInOutQuad(r,i,n,e);s(o),r<e?l(t):a&&"function"===typeof a&&a()};u()}},"13f1":function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return o})),a.d(e,"i",(function(){return i})),a.d(e,"g",(function(){return n})),a.d(e,"d",(function(){return c})),a.d(e,"e",(function(){return r})),a.d(e,"h",(function(){return u})),a.d(e,"j",(function(){return p})),a.d(e,"a",(function(){return d})),a.d(e,"f",(function(){return m}));var l=a("b775");function s(t){return Object(l["a"])({url:window.configs.api+"/qualityFirstendCheck/findList",method:"get",params:t})}function o(t){return Object(l["a"])({url:window.configs.api+"/qualityInspection/findList",method:"get",params:t})}function i(t){return Object(l["a"])({url:window.configs.api+"/qualityInspection/save",method:"post",data:t})}function n(t){return Object(l["a"])({url:window.configs.api+"/qualityInspection/change",method:"post",data:t})}function c(t){return Object(l["a"])({url:window.configs.api+"/qualityFirstendCheck/findAppearanceOrSizeInspectInfo",method:"get",params:t})}function r(t){return Object(l["a"])({url:window.configs.api+"/qualityInspection/findList",method:"get",params:t})}function u(t){return Object(l["a"])({url:window.configs.api+"/qualityStoreCheck/submit",method:"post",data:t})}function p(t){return Object(l["a"])({url:window.configs.api+"/qualityFirstendCheck/update",method:"post",data:t})}function d(t){return Object(l["a"])({url:window.configs.api+"/qualityFirstendCheck/coerceClose",method:"post",data:t})}function m(t){return Object(l["a"])({url:window.configs.api+"/qualityFirstendCheck/postponeExe",method:"post",data:t})}},"1bd2":function(t,e,a){},3916:function(t,e,a){"use strict";var l=a("fa22"),s=a.n(l);s.a},"3d91":function(t,e,a){"use strict";var l=a("cbb0b"),s=a.n(l);s.a},"620d":function(t,e,a){},"770e":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[t.detailInfo?t._e():a("div",{staticClass:"searchInfo"},[a("span",{staticClass:"seachname"},[t._v(" 设备编号: ")]),a("el-input",{staticClass:"inputCls",staticStyle:{width:"180px"},attrs:{placeholder:"请输入设备编号",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchBtn(e)}},model:{value:t.searchKey.productDevicesCode,callback:function(e){t.$set(t.searchKey,"productDevicesCode",e)},expression:"searchKey.productDevicesCode"}}),a("span",{staticClass:"seachname"},[t._v("报检时间:")]),a("el-date-picker",{attrs:{size:"mini",type:"date","picker-options":t.pickerOptions0,clearable:"",placeholder:"开始日期"},model:{value:t.searchKey.startTime,callback:function(e){t.$set(t.searchKey,"startTime",e)},expression:"searchKey.startTime"}}),a("span",{staticClass:"seachname"},[t._v(" — ")]),a("el-date-picker",{attrs:{size:"mini",type:"date","picker-options":t.pickerOptions1,clearable:"",placeholder:"结束日期"},model:{value:t.searchKey.stopTime,callback:function(e){t.$set(t.searchKey,"stopTime",e)},expression:"searchKey.stopTime"}}),a("span",{staticClass:"seachname"},[t._v(" 生产指令: ")]),a("el-input",{staticClass:"inputCls",staticStyle:{width:"180px"},attrs:{placeholder:"请输入生产指令",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchBtn(e)}},model:{value:t.searchKey.productCode,callback:function(e){t.$set(t.searchKey,"productCode",e)},expression:"searchKey.productCode"}}),a("br"),a("span",{staticClass:"seachname"},[t._v(" 报检类型: ")]),a("el-select",{staticClass:"inputCls",staticStyle:{width:"180px"},attrs:{placeholder:"请选择报检类型",size:"small",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchBtn(e)}},model:{value:t.searchKey.checkType,callback:function(e){t.$set(t.searchKey,"checkType",e)},expression:"searchKey.checkType"}},t._l(t.mouldStatusList,(function(t,e){return a("el-option",{key:e,attrs:{label:t.label,value:t.id}})})),1),a("el-button",{staticClass:"primaryBtn",staticStyle:{"margin-left":"7px"},attrs:{type:"primary"},on:{click:t.searchBtn}},[a("svg-icon",{attrs:{"icon-class":"search"}}),t._v(" 查询 ")],1),a("el-button",{staticClass:"resetBtn",staticStyle:{"margin-left":"7px"},attrs:{icon:"el-icon-refresh-right",type:"primary"},on:{click:t.searchrestBtn}},[t._v(" 重置 ")])],1),t.detailInfo?t._e():a("div",{staticClass:"el-tablenew"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.list,"row-class-name":t.tableRowClassName,border:"",height:"calc(100vh - 337px)"}},[a("el-table-column",{attrs:{prop:"date",label:"序号",width:"55",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index+1)+" ")]}}],null,!1,3056706777)}),a("el-table-column",{attrs:{prop:"name",label:"检验订单号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.checkNo))])]}}],null,!1,904548065)}),a("el-table-column",{attrs:{prop:"name",label:"设备编号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.productDevicesName))])]}}],null,!1,492187937)}),a("el-table-column",{attrs:{prop:"name",label:"检验类型",align:"center",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(0===e.row.checkType?"首件":1===e.row.checkType?"巡检":"末件"))])]}}],null,!1,1650392827)}),a("el-table-column",{attrs:{prop:"keepCycle",label:"生产指令",align:"center",width:"110px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(" "+t._s(e.row.productCode))])]}}],null,!1,765911499)}),a("el-table-column",{attrs:{prop:"startTime",label:"零件代码",align:"center","min-width":"85px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(" "+t._s(e.row.materialCode))])]}}],null,!1,4199724363)}),a("el-table-column",{attrs:{prop:"lastTime",label:"零件名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.materialName))])]}}],null,!1,2193813674)}),a("el-table-column",{attrs:{prop:"lastTime",label:"报检时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.createTime))])]}}],null,!1,2774630583)}),a("el-table-column",{attrs:{prop:"lastTime",label:"是否超时",align:"center",width:"90px"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.isOut?a("span",[t._v("否")]):t._e(),1===e.row.isOut?a("span",[t._v("是")]):t._e(),1!==e.row.isOut&&0!==e.row.isOut?a("span",[t._v("--")]):t._e()]}}],null,!1,3523090173)}),a("el-table-column",{attrs:{prop:"lastTime",label:"任务状态",align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(0==e.row.status?"待执行":1==e.row.status?"申请延后":2==e.row.status?"强制关闭":3==e.row.status?"执行完成":"--"))])]}}],null,!1,59418033)}),a("el-table-column",{attrs:{prop:"lastTime",label:"未执行原因",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.nonExecutCause?e.row.nonExecutCause:"--"))])]}}],null,!1,1304921539)}),a("el-table-column",{attrs:{prop:"lastTime",label:"审批结果",align:"center",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(0==e.row.auditResult?"待审核":1==e.row.auditResult?"通过":2==e.row.auditResult?"未通过":"--"))])]}}],null,!1,3055524930)}),a("el-table-column",{attrs:{prop:"date",label:"操作",align:"center",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.hasPermission("firstLastTest/sizeCheck")?a("el-button",{staticClass:"addTextBtn",staticStyle:{color:"#006fe6"},attrs:{type:"text",disabled:0==e.row.auditResult},on:{click:function(a){return t.bindBtn(e.row)}}},[t._v(" 外观检测 ")]):t._e(),t.hasPermission("firstLastTest/facadeCheck")?a("el-button",{staticClass:"addTextBtn",staticStyle:{color:"#ffbc1b"},attrs:{type:"text",disabled:0==e.row.auditResult},on:{click:function(a){return t.unBindBtn(e.row)}}},[t._v(" 尺寸检测 ")]):t._e(),1==e.row.checkType&&t.hasPermission("/firstLastTest/coerceClose")?a("el-button",{staticClass:"addTextBtn",staticStyle:{color:"#006fe6"},attrs:{type:"text",disabled:0==e.row.auditResult},on:{click:function(a){return t.clooseAndPostpone(e.row,"cloose")}}},[t._v(" 强制关闭 ")]):t._e(),1==e.row.checkType&&t.hasPermission("/firstLastTest/postponeExe")?a("el-button",{staticClass:"addTextBtn",staticStyle:{color:"#ffbc1b"},attrs:{type:"text",disabled:0==e.row.auditResult},on:{click:function(a){return t.clooseAndPostpone(e.row,"postpone")}}},[t._v(" 延期执行 ")]):t._e()]}}],null,!1,835353410)})],1),a("el-dialog",{attrs:{title:t.title,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"检验工单号","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:t.form.checkNo,callback:function(e){t.$set(t.form,"checkNo",e)},expression:"form.checkNo"}})],1),"postpone"==t.exeType?a("el-form-item",{attrs:{label:"延迟天数","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"number",autocomplete:"off"},model:{value:t.form.carryDay,callback:function(e){t.$set(t.form,"carryDay",e)},expression:"form.carryDay"}})],1):t._e(),a("el-form-item",{attrs:{label:"原因","label-width":t.formLabelWidth}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.form.nonExecutCause,callback:function(e){t.$set(t.form,"nonExecutCause",e)},expression:"form.nonExecutCause"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.saveExe}},[t._v("确 定")])],1)],1),a("pagination",{staticClass:"pagePadd",attrs:{total:t.total,page:t.searchKey.pageNum,limit:t.searchKey.pageSize},on:{"update:page":function(e){return t.$set(t.searchKey,"pageNum",e)},"update:limit":function(e){return t.$set(t.searchKey,"pageSize",e)},pagination:t.getStorageLocationList}})],1),t.detailInfo?a("firstLastTestInfo",{attrs:{"detail-data":t.detailData,"opt-type":t.optType},on:{FirstLastCall:t.FirstLastCall}}):t._e()],1)},s=[],o=(a("c740"),a("ac1f"),a("1276"),a("13f1")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-page-header",{attrs:{content:"检验详情"},on:{back:t.backClick}}),a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"首件检验报告",name:"first"}},["first"===t.activeName?a("first",{attrs:{"detail-data":t.detailData,"opt-type":t.optType,"check-type":t.checkType},on:{FirstLastChildCall:t.FirstLastChildCall}}):t._e()],1),a("el-tab-pane",{attrs:{label:"巡检检验报告",name:"second",disabled:t.disabledPoll}},["second"===t.activeName?a("polling",{attrs:{"detail-data":t.detailData,"opt-type":t.optType,"check-type":t.checkType},on:{FirstLastChildCall:t.FirstLastChildCall}}):t._e()],1),a("el-tab-pane",{attrs:{label:"尾模检验报告",name:"third",disabled:t.disabledLast}},["third"===t.activeName?a("last",{attrs:{"detail-data":t.detailData,"opt-type":t.optType,"check-type":t.checkType},on:{FirstLastChildCall:t.FirstLastChildCall}}):t._e()],1)],1)],1)},n=[],c=(a("a9e3"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[0===t.detailData.checkType?a("div",{staticClass:"header"},[a("el-row",[a("el-col",{attrs:{span:6}},[t._v("任务单号："+t._s(t.detailData.checkNo))]),a("el-col",{attrs:{span:6}},[t._v("设备编号："+t._s(t.detailData.productDevicesName))]),a("el-col",{attrs:{span:6}},[t._v("报检人："+t._s(t.detailData.createUserName))]),a("el-col",{attrs:{span:6}},[t._v("报检时间："+t._s(t.detailData.createTime))])],1),a("el-row",[a("el-col",{attrs:{span:6}},[t._v("生产指令："+t._s(t.detailData.productCode))]),a("el-col",{attrs:{span:6}},[t._v("零件代码："+t._s(t.detailData.materialCode))]),a("el-col",{attrs:{span:6}},[t._v("零件名称："+t._s(t.detailData.materialName))])],1)],1):t._e(),0===t.detailData.checkType?a("div",{staticClass:"firstContent"},[a("el-row",[a("el-col",{staticClass:"elColRight",attrs:{span:9}},[t._v("泛沃 FineWorld")]),a("el-col",{staticClass:"elColRight",attrs:{span:12}},[t._v(t._s(t.oDetail.version))]),a("el-col",{attrs:{span:3}},[t._v("Page:1/1")])],1),a("el-row",[a("el-col",{staticClass:"elColTop",attrs:{span:24}},[t._v("质量跟踪卡 Quality follow-up card")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:2}},[t._v("零件代码"),a("br"),t._v(" Part Code")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:4}},[t._v(t._s(t.oDetail.materialCode))]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("抽样"),a("br"),t._v(" Sampling")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.samping,expression:"oSubmit.samping"}],attrs:{placeholder:"输入抽样",type:"text"},domProps:{value:t.oSubmit.samping},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"samping",e.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("材料名称"),a("br"),t._v(" Material")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.material,expression:"oSubmit.material"}],attrs:{placeholder:"输入材料名称",type:"text"},domProps:{value:t.oSubmit.material},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"material",e.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("模具编号"),a("br"),t._v(" Mould No.")]),a("el-col",{staticClass:"elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oDetail.mouldNo)+" ")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:2}},[t._v("零件名称"),a("br"),t._v(" Part descrip.")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:4}},[t._v(t._s(t.oDetail.materialName))]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("频率"),a("br"),t._v(" Frequence")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.frequence,expression:"oSubmit.frequence"}],attrs:{placeholder:"输入频率",type:"text"},domProps:{value:t.oSubmit.frequence},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"frequence",e.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("材料批号"),a("br"),t._v(" Material No.")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.materialNo,expression:"oSubmit.materialNo"}],attrs:{placeholder:"材料批号",type:"text"},domProps:{value:t.oSubmit.materialNo},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"materialNo",e.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("生产指令号"),a("br"),t._v(" OF No.")]),a("el-col",{staticClass:"elColTop",attrs:{span:3}},[t._v(" "+t._s(t.detailData.productCode)+" ")])],1),a("el-row",{staticClass:"doubleRow",staticStyle:{heghit:"64"}},[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("产品特性 "),a("br"),t._v(" Features")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:4}},[t._v("过程规范 "),a("br"),t._v(" Process specification")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:3}},[t._v("测量仪器 "),a("br"),t._v(" Measuring device")]),a("el-col",{staticClass:"elColRight elColTop",staticStyle:{heghit:"64"},attrs:{span:12}},[a("el-row",[a("el-col",{staticClass:"elColRight elColTop elColLeft fontWeight700",attrs:{span:24}},[t._v(" 腔 号 Measure by cavity")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColLeft elColTop fontWeight700",attrs:{span:6}},[t._v("Cav1")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav2")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav3")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav4")])],1)],1),a("el-col",{staticClass:"elColTop singleRow64 fontWeight700",attrs:{span:3}},[t._v(" 判定 Conclusion")])],1),t._l(t.standardFilterList,(function(e,l){return a("div",{key:"row"+l},[3!==e.classify&&1!==e.classify?a("div",{staticClass:"tableBox"},[a("el-row",{staticClass:"tableRow"},[a("el-col",{staticClass:"elColRight elColTop fontWeight700 tablesty",attrs:{span:2}},[t._v(" "+t._s(0===e.classify?"外观":"包装")+" ")]),a("el-col",{staticClass:"elColTop tablesty",attrs:{span:4}},[t._v(t._s(e.standard))]),a("el-col",{staticClass:"elColLeft elColTop tablesty",attrs:{span:3,title:e.evaluate}},[t._v(t._s(e.evaluate))]),a("el-col",{staticClass:"elColLeft elColTop tablesty",attrs:{span:3}},[a("el-switch",{key:"switch"+l,staticStyle:{display:"block"},attrs:{disabled:0!==t.optType&&1!==t.optType,"active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},on:{change:function(e){return t.handleSwitchChange(e,l,"cav1Value")}},model:{value:e.cav1Value,callback:function(a){t.$set(e,"cav1Value",a)},expression:"item.cav1Value"}})],1),a("el-col",{staticClass:"elColLeft elColTop tablesty",attrs:{span:3}},[a("el-switch",{key:"switch"+l,staticStyle:{display:"block"},attrs:{disabled:0!==t.optType&&1!==t.optType,"active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},on:{change:function(e){return t.handleSwitchChange(e,l,"cav2Value")}},model:{value:e.cav2Value,callback:function(a){t.$set(e,"cav2Value",a)},expression:"item.cav2Value"}})],1),a("el-col",{staticClass:"elColLeft elColTop tablesty",attrs:{span:3}},[a("el-switch",{key:"switch"+l,staticStyle:{display:"block"},attrs:{disabled:0!==t.optType&&1!==t.optType,"active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},on:{change:function(e){return t.handleSwitchChange(e,l,"cav3Value")}},model:{value:e.cav3Value,callback:function(a){t.$set(e,"cav3Value",a)},expression:"item.cav3Value"}})],1),a("el-col",{staticClass:"elColLeft elColTop tablesty",attrs:{span:3}},[a("el-switch",{key:"switch"+l,staticStyle:{display:"block"},attrs:{disabled:0!==t.optType&&1!==t.optType,"active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},on:{change:function(e){return t.handleSwitchChange(e,l,"cav4Value")}},model:{value:e.cav4Value,callback:function(a){t.$set(e,"cav4Value",a)},expression:"item.cav4Value"}})],1),a("el-col",{staticClass:"elColLeft elColTop tablesty",attrs:{span:3}},[a("el-switch",{key:"switch"+l,staticStyle:{display:"block"},attrs:{disabled:"","active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},model:{value:e.conclusion,callback:function(a){t.$set(e,"conclusion",a)},expression:"item.conclusion"}})],1)],1)],1):3===e.classify?a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("尺寸")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:2}},[t._v(t._s(e.standardMin))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:2}},[t._v(t._s(e.standardMax))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(t._s(e.evaluate))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cav1Value,expression:"item.cav1Value"}],attrs:{disabled:2!==t.optType,placeholder:"输入Cav1的值",type:"number",maxlength:"100"},domProps:{value:e.cav1Value},on:{change:function(e){return t.handleNumberChange(e,l,"cav1Value")},input:function(a){a.target.composing||t.$set(e,"cav1Value",a.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cav2Value,expression:"item.cav2Value"}],attrs:{disabled:2!==t.optType,placeholder:"输入Cav2的值",type:"number",maxlength:"100"},domProps:{value:e.cav2Value},on:{change:function(e){return t.handleNumberChange(e,l,"cav2Value")},input:function(a){a.target.composing||t.$set(e,"cav2Value",a.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cav3Value,expression:"item.cav3Value"}],attrs:{disabled:2!==t.optType,placeholder:"输入Cav3的值",type:"number",maxlength:"100"},domProps:{value:e.cav3Value},on:{change:function(e){return t.handleNumberChange(e,l,"cav3Value")},input:function(a){a.target.composing||t.$set(e,"cav3Value",a.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cav4Value,expression:"item.cav4Value"}],attrs:{disabled:2!==t.optType,placeholder:"输入Cav4的值",type:"number",maxlength:"100"},domProps:{value:e.cav4Value},on:{change:function(e){return t.handleNumberChange(e,l,"cav4Value")},input:function(a){a.target.composing||t.$set(e,"cav4Value",a.target.value)}}})]),a("el-col",{staticClass:" elColTop",attrs:{span:3}},[a("el-switch",{key:"switch"+l,staticStyle:{display:"block"},attrs:{disabled:"","active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},model:{value:e.conclusion,callback:function(a){t.$set(e,"conclusion",a)},expression:"item.conclusion"}})],1)],1):t._e()],1)})),a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:9}},[t._v("测量结束时间 Measurement end time")]),a("el-col",{staticClass:"elColTop",staticStyle:{"text-align":"left"},attrs:{span:15}},[a("el-time-picker",{attrs:{"value-format":"HH:mm",placeholder:"选择测量结束时间"},model:{value:t.oSubmit.endTimeMinute,callback:function(e){t.$set(t.oSubmit,"endTimeMinute",e)},expression:"oSubmit.endTimeMinute"}})],1)],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("备注 Remark")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:10}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.note,expression:"oSubmit.note"}],attrs:{placeholder:"输入备注",type:"text",maxlength:"100"},domProps:{value:t.oSubmit.note},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"note",e.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:3}},[t._v("日期 Date")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("el-date-picker",{staticStyle:{width:"95%"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.oSubmit.endTimeDate,callback:function(e){t.$set(t.oSubmit,"endTimeDate",e)},expression:"oSubmit.endTimeDate"}})],1),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:3}},[t._v("测量员 Surveyor")]),a("el-col",{staticClass:"elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.measureUser,expression:"oSubmit.measureUser"}],attrs:{placeholder:"输入测量员姓名",type:"text",maxlength:"10"},domProps:{value:t.oSubmit.measureUser},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"measureUser",e.target.value)}}})])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop",attrs:{span:9}},[t._v("泛沃 FineWorld")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:12}},[t._v(t._s(t.oDetail.version))]),a("el-col",{staticClass:"elColTop",attrs:{span:3}},[t._v("Page:1/1")])],1),a("div",{staticClass:"bottom"},[a("el-button",{attrs:{type:"primary",disabled:t.disadbleSubmit},on:{click:function(e){return t.submitForm()}}},[t._v("保存")])],1)],2):t._e(),t.tableList.length>0?a("div",[a("h3",[t._v(" 历史数据展示")]),t.standardHistoryList?a("div",{staticClass:"firstContent"},[a("el-row",[a("el-col",{staticClass:"elColRight ",attrs:{span:2}},[t._v(" 任务单号： ")]),a("el-col",{attrs:{span:22}},[t._v(" "+t._s(t.detailHistoryData.checkNo)+" ")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:2}},[t._v("零件代码"),a("br"),t._v(" Part Code")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:4}},[t._v(t._s(t.detailHistoryData.materialCode))]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:2}},[t._v("抽样"),a("br"),t._v(" Sampling")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oSubmitHistory.samping)+" ")]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("材料名称"),a("br"),t._v(" Material")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oSubmitHistory.material)+" ")]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("模具编号"),a("br"),t._v(" Mould No.")]),a("el-col",{staticClass:"elColTop",attrs:{span:4}},[t._v(" "+t._s(t.detailHistoryData.mouldNo)+" ")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:2}},[t._v("零件名称"),a("br"),t._v(" Part descrip.")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:4}},[t._v(t._s(t.detailHistoryData.materialName))]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:2}},[t._v("频率"),a("br"),t._v(" Frequence")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oSubmitHistory.frequence)+" ")]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("材料批号"),a("br"),t._v(" Material No.")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oSubmitHistory.materialNo)+" ")]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("生产指令号"),a("br"),t._v(" OF No.")]),a("el-col",{staticClass:"elColTop",attrs:{span:4}},[t._v(" "+t._s(t.oSubmitHistory.ofNo)+" ")])],1),a("el-row",{staticClass:"doubleRow",staticStyle:{heghit:"64"}},[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("产品特性 "),a("br"),t._v(" Features")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:4}},[t._v("过程规范 "),a("br"),t._v(" Process specification")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("测量仪器 "),a("br"),t._v(" Measuring device")]),a("el-col",{staticClass:"elColRight elColTop",staticStyle:{heghit:"64"},attrs:{span:12}},[a("el-row",[a("el-col",{staticClass:"elColRight elColTop elColLeft fontWeight700",attrs:{span:24}},[t._v(" 腔 号 Measure by cavity")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColLeft elColTop fontWeight700",attrs:{span:6}},[t._v("Cav1")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav2")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav3")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav4")])],1)],1),a("el-col",{staticClass:"elColTop singleRow64 fontWeight700",attrs:{span:4}},[t._v(" 判定 Conclusion")])],1),t._l(t.standardHistoryFilterList,(function(e,l){return a("div",{key:"row"+l},[3!==e.classify&&1!==e.classify?a("div",{staticClass:"tableBox"},[a("el-row",{staticClass:"tableRow"},[a("el-col",{staticClass:"elColRight elColTop fontWeight700 tablesty",attrs:{span:2}},[t._v(" "+t._s(0===e.classify?"外观":"包装")+" ")]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:4}},[t._v(t._s(e.standard))]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:2}},[t._v(t._s(e.evaluate))]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:3}},[t._v(" "+t._s(e.cav1Value?"OK":"NG")+" ")]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:3}},[t._v(" "+t._s(e.cav2Value?"OK":"NG")+" ")]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:3}},[t._v(" "+t._s(e.cav3Value?"OK":"NG")+" ")]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:3}},[t._v(" "+t._s(e.cav4Value?"OK":"NG")+" ")]),a("el-col",{staticClass:" elColTop tablesty",attrs:{span:4}},[t._v(" "+t._s(e.conclusion?"OK":"NG")+" ")])],1)],1):3===e.classify?a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("尺寸")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:2}},[t._v(t._s(e.standardMin))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:2}},[t._v(t._s(e.standardMax))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:2}},[t._v(t._s(e.evaluate))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(e.cav1Value)+" ")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(e.cav2Value)+" ")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(e.cav3Value)+" ")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(e.cav4Value)+" ")]),a("el-col",{staticClass:" elColTop",attrs:{span:4}},[t._v(" "+t._s(e.conclusion?"OK":"NG")+" ")])],1):t._e()],1)})),a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:8}},[t._v("测量结束时间 Measurement end time")]),a("el-col",{staticClass:"elColTop",staticStyle:{"text-align":"left","padding-left":"20px"},attrs:{span:16}},[t._v(" "+t._s(t.oSubmitHistory.endTimeMinute)+" ")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("备注 Remark")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:9}},[t._v(" "+t._s(t.oSubmitHistory.note)+" ")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:3}},[t._v("日期 Date")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oSubmitHistory.endTimeDate)+" ")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:3}},[t._v("测量员 Surveyor")]),a("el-col",{staticClass:"elColTop",attrs:{span:4}},[t._v(" "+t._s(t.oSubmitHistory.measureUser)+" ")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop",attrs:{span:8}},[t._v("泛沃 FineWorld")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:12}},[t._v(t._s(t.oDetail.version))]),a("el-col",{staticClass:"elColTop",attrs:{span:4}},[t._v("Page:1/1")])],1)],2):t._e(),a("el-table",{staticStyle:{width:"100%","margin-top":"24px"},attrs:{data:t.tableList,"row-class-name":t.tableRowClassName,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"date",label:"序号",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index+1)+" ")]}}],null,!1,3056706777)}),a("el-table-column",{attrs:{prop:"lastTime",label:"任务单号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.checkNo))])]}}],null,!1,904548065)}),a("el-table-column",{attrs:{prop:"lastTime",label:"检验时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.endTime))])]}}],null,!1,1375831964)}),a("el-table-column",{attrs:{prop:"date",label:"操作",align:"center",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"addTextBtn",staticStyle:{color:"#006fe6"},attrs:{type:"text"},on:{click:function(a){return t.bindBtn(e.row)}}},[t._v(" 查看 ")])]}}],null,!1,2998580218)})],1)],1):t._e()])}),r=[],u=(a("d81d"),a("b680"),a("d3b7"),a("25f0"),a("3ca3"),a("ddb0"),a("5530")),p={components:{},props:{detailData:{type:Object,required:!0},optType:{type:Number,required:!0},checkType:{type:Number,required:!0}},data:function(){return{tableList:[],searchKey:{productCode:"",checkType:0,status:3},activeName:"first",detailHistoryData:{},standardList:[],standardHistoryList:[],oSubmit:{checkClassify:"",classify:1,createTime:"",dataId:null,endTimeDate:"",endTimeMinute:"",endTime:"",frequence:"",material:"",materialNo:"",mouldNo:"",note:"",ofNo:"",partCode:"",partName:"",realResult:"",samping:"",user:null,measureUser:"",viewResult:""},oSubmitHistory:{},oDetail:{},oStandardDetail:{},disadbleSubmit:!1}},computed:{standardFilterList:function(){var t=this.standardList;return t=t.sort(this.sortBy("classify",!0)),t},standardHistoryFilterList:function(){var t=this.standardHistoryList;return t=t.sort(this.sortBy("classify",!0)),t}},created:function(){this.searchKey.productCode=this.detailData.productCode},mounted:function(){this.initData(),this.getStorageLocationList()},methods:{handleSwitchChange:function(t,e,a){this.standardFilterList[e][a]=t,this.standardFilterList.map((function(t,a){a===e&&(!0===t.cav1Value&&!0===t.cav2Value&&!0===t.cav3Value&&!0===t.cav4Value?t.conclusion=!0:t.conclusion=!1)}))},handleNumberChange:function(t,e,a){this.standardFilterList.map((function(t,a){a===e&&(1*t.cav1Value<=t.standardMax&&1*t.cav1Value>=t.standardMin&&1*t.cav2Value<=t.standardMax&&1*t.cav2Value>=t.standardMin&&1*t.cav3Value<=t.standardMax&&1*t.cav3Value>=t.standardMin&&1*t.cav4Value<=t.standardMax&&1*t.cav4Value>=t.standardMin?t.conclusion=!0:t.conclusion=!1)}))},submitForm:function(){this.saveStandardRequest()},sortBy:function(t,e){return e=void 0===e||e?1:-1,function(a,l){return a=a[t],l=l[t],a<l?-1*e:a>l?1*e:0}},saveStandardRequest:function(){var t=this;this.optSubmitData();var e=this.formValidate(Object(u["a"])({},this.oSubmit));if(e){this.oSubmit.endTime=this.oSubmit.endTimeDate+" "+this.oSubmit.endTimeMinute;var a=[{checkClassify:this.detailData.checkClassify,classify:this.oSubmit.classify,dataId:this.oSubmit.dataId,endTime:this.oSubmit.endTime,frequence:this.oSubmit.frequence,material:this.oSubmit.material,materialNo:this.oSubmit.materialNo,mouldNo:this.oSubmit.mouldNo,note:this.oSubmit.note,ofNo:this.oSubmit.ofNo,partCode:this.oSubmit.partCode,partName:this.oSubmit.partName,realResult:this.oSubmit.realResult,samping:this.oSubmit.samping,measureUser:this.oSubmit.measureUser,viewResult:this.oSubmit.viewResult}];1===this.optType?a[0].checkClassify?a[0].checkClassify="0-1,"+a[0].checkClassify:a[0].checkClassify="0-1":2===this.optType&&(a[0].checkClassify?a[0].checkClassify="0-2,"+a[0].checkClassify:a[0].checkClassify="0-2");var l=a[0].checkClassify.split(",");l.length>1?(a[0].id=this.oSubmit.id,Object(o["j"])(a[0]).then((function(e){0===e.code?(t.$message({type:"success",message:"保存入库检验成功"}),t.$emit("FirstLastChildCall",!0)):1e3===e.code&&t.$message({type:"error",message:"保存检验失败："+e.msg})}))):1===l.length&&Object(o["h"])(a).then((function(e){0===e.code?(t.$message({type:"success",message:"保存入库检验成功"}),t.$emit("FirstLastChildCall",!0)):1e3===e.code&&t.$message({type:"error",message:"保存检验失败："+e.msg})}))}},optSubmitData:function(){var t=JSON.parse(JSON.stringify(this.standardList)),e=JSON.parse(JSON.stringify(this.standardList));t.map((function(t){0===t.classify||1===t.classify?(t.cav1Value=!0,t.cav2Value=!0,t.cav3Value=!0,t.cav4Value=!0,t.conclusion=!0):3===t.classify&&(t.cav1Value=(Math.random()*(1*t.standardMax-1*t.standardMin)+1*t.standardMin).toFixed(2),t.cav2Value=(Math.random()*(1*t.standardMax-1*t.standardMin)+1*t.standardMin).toFixed(2),t.cav3Value=(Math.random()*(1*t.standardMax-1*t.standardMin)+1*t.standardMin).toFixed(2),t.cav4Value=(Math.random()*(1*t.standardMax-1*t.standardMin)+1*t.standardMin).toFixed(2),t.conclusion=!0)})),this.oSubmit.viewResult=JSON.stringify(t),this.oSubmit.realResult=JSON.stringify(e)},dataSetting:function(){this.oDetail=Object(u["a"])({},this.detailData),this.oSubmit.dataId=this.detailData.id,this.oSubmit.ofNo=this.detailData.productCode,this.oSubmit.partCode=this.detailData.materialCode,this.oSubmit.partName=this.detailData.materialName},initData:function(t){var e=this,a=this,l=new Promise((function(t,e){var l={};l={preciseCode:a.detailData.materialCode,classify:1,pageNum:1,pageSize:10},Object(o["e"])(l).then((function(e){t(e)})).catch((function(t){e(t)}))})),s=new Promise((function(e,l){var s={};s=t?{id:a.detailHistoryData.id}:{id:a.detailData.id},Object(o["d"])(s).then((function(t){e(t)})).catch((function(t){l(t)}))}));Promise.all([l,s]).then((function(a){var l=a;if(0===l[0].code){if(0===l[0].data.list.length||!l[0].data.list[0].qualityInspectionDetails)return t?e.standardHistoryList=[]:e.standardList=[],e.$message({type:"error",message:"没有该零件检验规范，请先添加代码为: [ "+e.detailData.materialCode+" ] 的零件检验规范！"}),void(e.disadbleSubmit=!0);if(0!==l[1].code||1!==l[1].data.length){var s=l[0].data.list[0].qualityInspectionDetails;return s.map((function(t,e){if(1*t.classify===3){var a=t.standard.split("-");t["standardMin"]=a[0],t["standardMax"]=a[1],t.cav1Value="",t.cav2Value="",t.cav3Value="",t.cav4Value="",t.conclusion=!1}else t.cav1Value=!0,t.cav2Value=!0,t.cav3Value=!0,t.cav4Value=!0,t.conclusion=!0})),void(t?e.standardHistoryList=s:(e.standardList=s,e.dataSetting()))}if(0===l[1].code)if(t)if(1===l[1].data.length){e.oSubmitHistory=l[1].data[0];var o=e.oSubmitHistory.endTime.split(" ");e.oSubmitHistory["endTimeDate"]=o[0],e.oSubmitHistory["endTimeMinute"]=o[1].substring(0,5);var i=JSON.parse(e.oSubmitHistory.realResult);e.standardHistoryList=i}else e.$message({type:"error",message:"已检验部分数据异常!"});else if(1===l[1].data.length){e.oSubmit=l[1].data[0];var n=e.oSubmit.endTime.split(" ");e.oSubmit["endTimeDate"]=n[0],e.oSubmit["endTimeMinute"]=n[1].substring(0,5);var c=JSON.parse(e.oSubmit.realResult),r=l[0].data.list[0].qualityInspectionDetails;r.map((function(t,e){var a=c.findIndex((function(e){return e.id===t.id}));if(-1!==a){if(1*t.classify===3){var l=t.standard.split("-");t["standardMin"]=l[0],t["standardMax"]=l[1]}t.cav1Value=c[a].cav1Value,t.cav2Value=c[a].cav2Value,t.cav3Value=c[a].cav3Value,t.cav4Value=c[a].cav4Value,t.conclusion=c[a].conclusion}})),e.standardList=r,e.oDetail=Object(u["a"])({},e.detailData)}else e.$message({type:"error",message:"已检验部分数据异常!"});else e.$message({type:"error",message:"获取已检验部分详情失败："+l[1].msg})}else e.$message({type:"error",message:"获取零件检验规范失败："+l[0].msg})}))},getStorageLocationList:function(){var t=this;Object(o["b"])(this.searchKey).then((function(e){0===e.code&&(t.tableList=e.data.list,t.tableList.length>0&&t.bindBtn(t.tableList[0]))}))},bindBtn:function(t){this.detailHistoryData=t,this.initData("instruct")},tableRowClassName:function(t){t.row;var e=t.rowIndex;return e%2===1?"table-row":""},formValidate:function(t){for(var e=!0,a=JSON.parse(JSON.stringify(this.standardList)),l=!0,s=0;s<a.length;s++)if(3===a[s].classify&&2===this.optType&&(0===a[s].cav1Value.toString().length||0===a[s].cav2Value.toString().length||0===a[s].cav3Value.toString().length||0===a[s].cav4Value.toString().length)){l=!1;break}return 0===t.samping.length?(this.$message({type:"warning",message:"抽样不能为空!"}),e=!1):0===t.frequence.length?(this.$message({type:"warning",message:"频率不能为空!"}),e=!1):l?0===t.endTimeMinute.length?(this.$message({type:"warning",message:"测量结束时间不能为空!"}),e=!1):0===t.endTimeDate.length?(this.$message({type:"warning",message:"日期不能为空!"}),e=!1):0===t.measureUser.length?(this.$message({type:"warning",message:"测量员不能为空!"}),e=!1):e=!0:(this.$message({type:"warning",message:"尺寸相关值不能为空!"}),e=!1),e}}},d=p,m=(a("e99b"),a("2877")),C=Object(m["a"])(d,c,r,!1,null,"31986881",null),h=C.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[2===t.detailData.checkType?a("div",{staticClass:"header"},[a("el-row",[a("el-col",{attrs:{span:6}},[t._v("任务单号："+t._s(t.detailData.checkNo))]),a("el-col",{attrs:{span:6}},[t._v("设备编号："+t._s(t.detailData.productDevicesName))]),a("el-col",{attrs:{span:6}},[t._v("报检人："+t._s(t.detailData.createUserName))]),a("el-col",{attrs:{span:6}},[t._v("报检时间："+t._s(t.detailData.createTime))])],1),a("el-row",[a("el-col",{attrs:{span:6}},[t._v("生产指令："+t._s(t.detailData.productCode))]),a("el-col",{attrs:{span:6}},[t._v("零件代码："+t._s(t.detailData.materialCode))]),a("el-col",{attrs:{span:6}},[t._v("零件名称："+t._s(t.detailData.materialName))])],1)],1):t._e(),2===t.detailData.checkType?a("div",{staticClass:"firstContent"},[a("el-row",[a("el-col",{staticClass:"elColRight",attrs:{span:9}},[t._v("泛沃 FineWorld")]),a("el-col",{staticClass:"elColRight",attrs:{span:12}},[t._v(t._s(t.oDetail.version))]),a("el-col",{attrs:{span:3}},[t._v("Page:1/1")])],1),a("el-row",[a("el-col",{staticClass:"elColTop",attrs:{span:24}},[t._v("质量跟踪卡 Quality follow-up card")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:2}},[t._v("零件代码"),a("br"),t._v(" Part Code")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:4}},[t._v(t._s(t.oDetail.materialCode))]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("抽样"),a("br"),t._v(" Sampling")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.samping,expression:"oSubmit.samping"}],attrs:{placeholder:"输入抽样",type:"text"},domProps:{value:t.oSubmit.samping},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"samping",e.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("材料名称"),a("br"),t._v(" Material")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.material,expression:"oSubmit.material"}],attrs:{placeholder:"输入材料名称",type:"text"},domProps:{value:t.oSubmit.material},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"material",e.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("模具编号"),a("br"),t._v(" Mould No.")]),a("el-col",{staticClass:"elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oDetail.mouldNo)+" ")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:2}},[t._v("零件名称"),a("br"),t._v(" Part descrip.")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:4}},[t._v(t._s(t.oDetail.materialName))]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("频率"),a("br"),t._v(" Frequence")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.frequence,expression:"oSubmit.frequence"}],attrs:{placeholder:"输入频率",type:"text"},domProps:{value:t.oSubmit.frequence},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"frequence",e.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("材料批号"),a("br"),t._v(" Material No.")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.materialNo,expression:"oSubmit.materialNo"}],attrs:{placeholder:"材料批号",type:"text"},domProps:{value:t.oSubmit.materialNo},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"materialNo",e.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("生产指令号"),a("br"),t._v(" OF No.")]),a("el-col",{staticClass:"elColTop",attrs:{span:3}},[t._v(" "+t._s(t.detailData.productCode)+" ")])],1),a("el-row",{staticClass:"doubleRow",staticStyle:{heghit:"64"}},[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("产品特性 "),a("br"),t._v(" Features")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:4}},[t._v("过程规范 "),a("br"),t._v(" Process specification")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:3}},[t._v("测量仪器 "),a("br"),t._v(" Measuring device")]),a("el-col",{staticClass:"elColRight elColTop",staticStyle:{heghit:"64"},attrs:{span:12}},[a("el-row",[a("el-col",{staticClass:"elColRight elColTop elColLeft fontWeight700",attrs:{span:24}},[t._v(" 腔 号 Measure by cavity")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColLeft elColTop fontWeight700",attrs:{span:6}},[t._v("Cav1")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav2")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav3")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav4")])],1)],1),a("el-col",{staticClass:"elColTop singleRow64 fontWeight700",attrs:{span:3}},[t._v(" 判定 Conclusion")])],1),t._l(t.standardFilterList,(function(e,l){return a("div",{key:"row"+l},[3!==e.classify&&1!==e.classify?a("div",{staticClass:"tableBox"},[a("el-row",{staticClass:"tableRow"},[a("el-col",{staticClass:"elColRight elColTop fontWeight700 tableSty",staticStyle:{width:"8.333333333%"},attrs:{span:2}},[t._v(" "+t._s(0===e.classify?"外观":"包装")+" ")]),a("el-col",{staticClass:"elColTop overflowShow tableSty",attrs:{span:4,title:e.standard}},[t._v(t._s(e.standard))]),a("el-col",{staticClass:"elColLeft elColTop overflowShow tableSty",staticStyle:{width:"12.5%"},attrs:{span:3}},[t._v(t._s(e.evaluate))]),a("el-col",{staticClass:"elColLeft elColTop tableSty",staticStyle:{width:"12.5%"},attrs:{span:3}},[a("el-switch",{key:"switch"+l,staticStyle:{display:"block"},attrs:{disabled:0!==t.optType&&1!==t.optType,"active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},on:{change:function(e){return t.handleSwitchChange(e,l,"cav1Value")}},model:{value:e.cav1Value,callback:function(a){t.$set(e,"cav1Value",a)},expression:"item.cav1Value"}})],1),a("el-col",{staticClass:"elColLeft elColTop tableSty",staticStyle:{width:"12.5%"},attrs:{span:3}},[a("el-switch",{key:"switch"+l,staticStyle:{display:"block"},attrs:{disabled:0!==t.optType&&1!==t.optType,"active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},on:{change:function(e){return t.handleSwitchChange(e,l,"cav2Value")}},model:{value:e.cav2Value,callback:function(a){t.$set(e,"cav2Value",a)},expression:"item.cav2Value"}})],1),a("el-col",{staticClass:"elColLeft elColTop tableSty",staticStyle:{width:"12.5%"},attrs:{span:3}},[a("el-switch",{key:"switch"+l,staticStyle:{display:"block"},attrs:{disabled:0!==t.optType&&1!==t.optType,"active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},on:{change:function(e){return t.handleSwitchChange(e,l,"cav3Value")}},model:{value:e.cav3Value,callback:function(a){t.$set(e,"cav3Value",a)},expression:"item.cav3Value"}})],1),a("el-col",{staticClass:"elColLeft elColTop tableSty",staticStyle:{width:"12.5%"},attrs:{span:3}},[a("el-switch",{key:"switch"+l,staticStyle:{display:"block"},attrs:{disabled:0!==t.optType&&1!==t.optType,"active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},on:{change:function(e){return t.handleSwitchChange(e,l,"cav4Value")}},model:{value:e.cav4Value,callback:function(a){t.$set(e,"cav4Value",a)},expression:"item.cav4Value"}})],1),a("el-col",{staticClass:"elColLeft elColTop tableSty",staticStyle:{width:"12.5%"},attrs:{span:3}},[a("el-switch",{key:"switch"+l,staticStyle:{display:"block"},attrs:{disabled:"","active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},model:{value:e.conclusion,callback:function(a){t.$set(e,"conclusion",a)},expression:"item.conclusion"}})],1)],1)],1):3===e.classify?a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700 ",attrs:{span:2}},[t._v("尺寸")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:2}},[t._v(t._s(e.standardMin))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:2}},[t._v(t._s(e.standardMax))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(t._s(e.evaluate))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cav1Value,expression:"item.cav1Value"}],attrs:{disabled:2!==t.optType,placeholder:"输入Cav1的值",type:"number",maxlength:"100"},domProps:{value:e.cav1Value},on:{change:function(e){return t.handleNumberChange(e,l,"cav1Value")},input:function(a){a.target.composing||t.$set(e,"cav1Value",a.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cav2Value,expression:"item.cav2Value"}],attrs:{disabled:2!==t.optType,placeholder:"输入Cav2的值",type:"number",maxlength:"100"},domProps:{value:e.cav2Value},on:{change:function(e){return t.handleNumberChange(e,l,"cav2Value")},input:function(a){a.target.composing||t.$set(e,"cav2Value",a.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cav3Value,expression:"item.cav3Value"}],attrs:{disabled:2!==t.optType,placeholder:"输入Cav3的值",type:"number",maxlength:"100"},domProps:{value:e.cav3Value},on:{change:function(e){return t.handleNumberChange(e,l,"cav3Value")},input:function(a){a.target.composing||t.$set(e,"cav3Value",a.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cav4Value,expression:"item.cav4Value"}],attrs:{disabled:2!==t.optType,placeholder:"输入Cav4的值",type:"number",maxlength:"100"},domProps:{value:e.cav4Value},on:{change:function(e){return t.handleNumberChange(e,l,"cav4Value")},input:function(a){a.target.composing||t.$set(e,"cav4Value",a.target.value)}}})]),a("el-col",{staticClass:" elColTop",attrs:{span:3}},[a("el-switch",{key:"switch"+l,staticStyle:{display:"block"},attrs:{disabled:"","active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},model:{value:e.conclusion,callback:function(a){t.$set(e,"conclusion",a)},expression:"item.conclusion"}})],1)],1):t._e()],1)})),a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:9}},[t._v("测量结束时间 Measurement end time")]),a("el-col",{staticClass:"elColTop",staticStyle:{"text-align":"left"},attrs:{span:15}},[a("el-time-picker",{attrs:{"value-format":"HH:mm",placeholder:"选择测量结束时间"},model:{value:t.oSubmit.endTimeMinute,callback:function(e){t.$set(t.oSubmit,"endTimeMinute",e)},expression:"oSubmit.endTimeMinute"}})],1)],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("备注 Remark")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:10}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.note,expression:"oSubmit.note"}],attrs:{placeholder:"输入备注",type:"text",maxlength:"100"},domProps:{value:t.oSubmit.note},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"note",e.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:3}},[t._v("日期 Date")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("el-date-picker",{staticStyle:{width:"95%"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.oSubmit.endTimeDate,callback:function(e){t.$set(t.oSubmit,"endTimeDate",e)},expression:"oSubmit.endTimeDate"}})],1),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:3}},[t._v("测量员 Surveyor")]),a("el-col",{staticClass:"elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.measureUser,expression:"oSubmit.measureUser"}],attrs:{placeholder:"输入测量员姓名",type:"text",maxlength:"10"},domProps:{value:t.oSubmit.measureUser},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"measureUser",e.target.value)}}})])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop",attrs:{span:9}},[t._v("泛沃 FineWorld")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:12}},[t._v(t._s(t.oDetail.version))]),a("el-col",{staticClass:"elColTop",attrs:{span:3}},[t._v("Page:1/1")])],1),a("div",{staticClass:"bottom"},[a("el-button",{attrs:{type:"primary",disabled:t.disadbleSubmit},on:{click:function(e){return t.submitForm()}}},[t._v("保存")])],1)],2):t._e(),t.tableList.length>0?a("div",[a("h3",[t._v(" 历史数据展示")]),t.standardHistoryList?a("div",{staticClass:"firstContent"},[a("el-row",[a("el-col",{staticClass:"elColRight ",attrs:{span:2}},[t._v(" 任务单号： ")]),a("el-col",{attrs:{span:22}},[t._v(" "+t._s(t.detailHistoryData.checkNo)+" ")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:2}},[t._v("零件代码"),a("br"),t._v(" Part Code")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:4}},[t._v(t._s(t.detailHistoryData.materialCode))]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:2}},[t._v("抽样"),a("br"),t._v(" Sampling")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oSubmitHistory.samping)+" ")]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("材料名称"),a("br"),t._v(" Material")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oSubmitHistory.material)+" ")]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("模具编号"),a("br"),t._v(" Mould No.")]),a("el-col",{staticClass:"elColTop",attrs:{span:4}},[t._v(" "+t._s(t.detailHistoryData.mouldNo)+" ")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:2}},[t._v("零件名称"),a("br"),t._v(" Part descrip.")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:4}},[t._v(t._s(t.detailHistoryData.materialName))]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:2}},[t._v("频率"),a("br"),t._v(" Frequence")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oSubmitHistory.frequence)+" ")]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("材料批号"),a("br"),t._v(" Material No.")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oSubmitHistory.materialNo)+" ")]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("生产指令号"),a("br"),t._v(" OF No.")]),a("el-col",{staticClass:"elColTop",attrs:{span:4}},[t._v(" "+t._s(t.oSubmitHistory.ofNo)+" ")])],1),a("el-row",{staticClass:"doubleRow",staticStyle:{heghit:"64"}},[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("产品特性 "),a("br"),t._v(" Features")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:4}},[t._v("过程规范 "),a("br"),t._v(" Process specification")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("测量仪器 "),a("br"),t._v(" Measuring device")]),a("el-col",{staticClass:"elColRight elColTop",staticStyle:{heghit:"64"},attrs:{span:12}},[a("el-row",[a("el-col",{staticClass:"elColRight elColTop elColLeft fontWeight700",attrs:{span:24}},[t._v(" 腔 号 Measure by cavity")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColLeft elColTop fontWeight700",attrs:{span:6}},[t._v("Cav1")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav2")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav3")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav4")])],1)],1),a("el-col",{staticClass:"elColTop singleRow64 fontWeight700",attrs:{span:4}},[t._v(" 判定 Conclusion")])],1),t._l(t.standardHistoryFilterList,(function(e,l){return a("div",{key:"row"+l},[3!==e.classify&&1!==e.classify?a("div",{staticClass:"tableBox"},[a("el-row",{staticClass:"tableRow"},[a("el-col",{staticClass:"elColRight elColTop fontWeight700 tablesty",attrs:{span:2}},[t._v(" "+t._s(0===e.classify?"外观":"包装")+" ")]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:4}},[t._v(t._s(e.standard))]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:2}},[t._v(t._s(e.evaluate))]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:3}},[t._v(" "+t._s(e.cav1Value?"OK":"NG")+" ")]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:3}},[t._v(" "+t._s(e.cav2Value?"OK":"NG")+" ")]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:3}},[t._v(" "+t._s(e.cav3Value?"OK":"NG")+" ")]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:3}},[t._v(" "+t._s(e.cav4Value?"OK":"NG")+" ")]),a("el-col",{staticClass:" elColTop tablesty",attrs:{span:4}},[t._v(" "+t._s(e.conclusion?"OK":"NG")+" ")])],1)],1):3===e.classify?a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("尺寸")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:2}},[t._v(t._s(e.standardMin))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:2}},[t._v(t._s(e.standardMax))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:2}},[t._v(t._s(e.evaluate))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(e.cav1Value)+" ")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(e.cav2Value)+" ")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(e.cav3Value)+" ")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(e.cav4Value)+" ")]),a("el-col",{staticClass:" elColTop",attrs:{span:4}},[t._v(" "+t._s(e.conclusion?"OK":"NG")+" ")])],1):t._e()],1)})),a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:8}},[t._v("测量结束时间 Measurement end time")]),a("el-col",{staticClass:"elColTop",staticStyle:{"text-align":"left","padding-left":"20px"},attrs:{span:16}},[t._v(" "+t._s(t.oSubmitHistory.endTimeMinute)+" ")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("备注 Remark")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:9}},[t._v(" "+t._s(t.oSubmitHistory.note)+" ")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:3}},[t._v("日期 Date")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oSubmitHistory.endTimeDate)+" ")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:3}},[t._v("测量员 Surveyor")]),a("el-col",{staticClass:"elColTop",attrs:{span:4}},[t._v(" "+t._s(t.oSubmitHistory.measureUser)+" ")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop",attrs:{span:8}},[t._v("泛沃 FineWorld")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:12}},[t._v(t._s(t.oDetail.version))]),a("el-col",{staticClass:"elColTop",attrs:{span:4}},[t._v("Page:1/1")])],1)],2):t._e(),a("el-table",{staticStyle:{width:"100%","margin-top":"24px"},attrs:{data:t.tableList,"row-class-name":t.tableRowClassName,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"date",label:"序号",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index+1)+" ")]}}],null,!1,3056706777)}),a("el-table-column",{attrs:{prop:"lastTime",label:"任务单号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.checkNo))])]}}],null,!1,904548065)}),a("el-table-column",{attrs:{prop:"lastTime",label:"检验时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.endTime))])]}}],null,!1,1375831964)}),a("el-table-column",{attrs:{prop:"date",label:"操作",align:"center",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"addTextBtn",staticStyle:{color:"#006fe6"},attrs:{type:"text"},on:{click:function(a){return t.bindBtn(e.row)}}},[t._v(" 查看 ")])]}}],null,!1,2998580218)})],1)],1):t._e()])},g=[],f={components:{},props:{detailData:{type:Object,required:!0},optType:{type:Number,required:!0},checkType:{type:Number,required:!0}},data:function(){return{tableList:[],searchKey:{productCode:"",checkType:2,status:3},activeName:"first",detailHistoryData:{},standardList:[],standardHistoryList:[],oSubmit:{checkClassify:"",classify:1,createTime:"",dataId:null,endTimeDate:"",endTimeMinute:"",endTime:"",frequence:"",material:"",materialNo:"",mouldNo:"",note:"",ofNo:"",partCode:"",partName:"",realResult:"",samping:"",user:null,measureUser:"",viewResult:""},oSubmitHistory:{},oDetail:{},oStandardDetail:{},disadbleSubmit:!1}},computed:{standardFilterList:function(){var t=this.standardList;return t=t.sort(this.sortBy("classify",!0)),t},standardHistoryFilterList:function(){var t=this.standardHistoryList;return t=t.sort(this.sortBy("classify",!0)),t}},created:function(){this.searchKey.productCode=this.detailData.productCode},mounted:function(){this.initData(),this.getStorageLocationList()},methods:{handleSwitchChange:function(t,e,a){this.standardFilterList[e][a]=t,this.standardFilterList.map((function(t,a){a===e&&(!0===t.cav1Value&&!0===t.cav2Value&&!0===t.cav3Value&&!0===t.cav4Value?t.conclusion=!0:t.conclusion=!1)}))},handleNumberChange:function(t,e,a){this.standardFilterList.map((function(t,a){a===e&&(1*t.cav1Value<=t.standardMax&&1*t.cav1Value>=t.standardMin&&1*t.cav2Value<=t.standardMax&&1*t.cav2Value>=t.standardMin&&1*t.cav3Value<=t.standardMax&&1*t.cav3Value>=t.standardMin&&1*t.cav4Value<=t.standardMax&&1*t.cav4Value>=t.standardMin?t.conclusion=!0:t.conclusion=!1)}))},submitForm:function(){this.saveStandardRequest()},sortBy:function(t,e){return e=void 0===e||e?1:-1,function(a,l){return a=a[t],l=l[t],a<l?-1*e:a>l?1*e:0}},saveStandardRequest:function(){var t=this;this.optSubmitData();var e=this.formValidate(Object(u["a"])({},this.oSubmit));if(e){this.oSubmit.endTime=this.oSubmit.endTimeDate+" "+this.oSubmit.endTimeMinute;var a=[{checkClassify:this.oSubmit.checkClassify,classify:this.oSubmit.classify,dataId:this.oSubmit.dataId,endTime:this.oSubmit.endTime,frequence:this.oSubmit.frequence,material:this.oSubmit.material,materialNo:this.oSubmit.materialNo,mouldNo:this.oSubmit.mouldNo,note:this.oSubmit.note,ofNo:this.oSubmit.ofNo,partCode:this.oSubmit.partCode,partName:this.oSubmit.partName,realResult:this.oSubmit.realResult,samping:this.oSubmit.samping,measureUser:this.oSubmit.measureUser,viewResult:this.oSubmit.viewResult}];1===this.optType?a[0].checkClassify?a[0].checkClassify="1-1,"+a[0].checkClassify:a[0].checkClassify="1-1":2===this.optType&&(a[0].checkClassify?a[0].checkClassify="1-2,"+a[0].checkClassify:a[0].checkClassify="1-2");var l=a[0].checkClassify.split(",");l.length>1?(a[0].id=this.oSubmit.id,Object(o["j"])(a[0]).then((function(e){0===e.code?(t.$message({type:"success",message:"保存入库检验成功"}),t.$emit("FirstLastChildCall",!0)):1e3===e.code&&t.$message({type:"error",message:"保存检验失败："+e.msg})}))):1===l.length&&Object(o["h"])(a).then((function(e){0===e.code?(t.$message({type:"success",message:"保存入库检验成功"}),t.$emit("FirstLastChildCall",!0)):1e3===e.code&&t.$message({type:"error",message:"保存检验失败："+e.msg})}))}},optSubmitData:function(){var t=JSON.parse(JSON.stringify(this.standardList)),e=JSON.parse(JSON.stringify(this.standardList));t.map((function(t){0===t.classify||1===t.classify?(t.cav1Value=!0,t.cav2Value=!0,t.cav3Value=!0,t.cav4Value=!0,t.conclusion=!0,t.standard,t.evaluate):3===t.classify&&(t.cav1Value=(Math.random()*(1*t.standardMax-1*t.standardMin)+1*t.standardMin).toFixed(2),t.cav2Value=(Math.random()*(1*t.standardMax-1*t.standardMin)+1*t.standardMin).toFixed(2),t.cav3Value=(Math.random()*(1*t.standardMax-1*t.standardMin)+1*t.standardMin).toFixed(2),t.cav4Value=(Math.random()*(1*t.standardMax-1*t.standardMin)+1*t.standardMin).toFixed(2),t.standardmin,t.standardmax,t.evaluate,t.conclusion=!0)})),this.oSubmit.viewResult=JSON.stringify(t),this.oSubmit.realResult=JSON.stringify(e)},dataSetting:function(){this.oDetail=Object(u["a"])({},this.detailData),this.oSubmit.dataId=this.detailData.id,this.oSubmit.ofNo=this.detailData.productCode,this.oSubmit.partCode=this.detailData.materialCode,this.oSubmit.partName=this.detailData.materialName},initData:function(t){var e=this,a=this,l=new Promise((function(t,e){var l={};l={preciseCode:a.detailData.materialCode,classify:1,pageNum:1,pageSize:10},Object(o["e"])(l).then((function(e){t(e)})).catch((function(t){e(t)}))})),s=new Promise((function(e,l){var s={};s=t?{id:a.detailHistoryData.id}:{id:a.detailData.id},Object(o["d"])(s).then((function(t){e(t)})).catch((function(t){l(t)}))}));Promise.all([l,s]).then((function(a){var l=a;if(0===l[0].code){if(0===l[0].data.list.length||!l[0].data.list[0].qualityInspectionDetails)return t?e.standardHistoryList=[]:e.standardList=[],e.$message({type:"error",message:"没有该零件检验规范，请先添加代码为: [ "+e.detailData.materialCode+" ] 的零件检验规范！"}),void(e.disadbleSubmit=!0);if(0!==l[1].code||1!==l[1].data.length){var s=l[0].data.list[0].qualityInspectionDetails;return s.map((function(t,e){if(1*t.classify===3){var a=t.standard.split("-");t["standardMin"]=a[0],t["standardMax"]=a[1],t.cav1Value="",t.cav2Value="",t.cav3Value="",t.cav4Value="",t.conclusion=!1}else t.cav1Value=!0,t.cav2Value=!0,t.cav3Value=!0,t.cav4Value=!0,t.conclusion=!0})),void(t?e.standardHistoryList=s:(e.standardList=s,e.dataSetting()))}if(0===l[1].code)if(t)if(1===l[1].data.length){e.oSubmitHistory=l[1].data[0];var o=e.oSubmitHistory.endTime.split(" ");e.oSubmitHistory["endTimeDate"]=o[0],e.oSubmitHistory["endTimeMinute"]=o[1].substring(0,5);var i=JSON.parse(e.oSubmitHistory.realResult);e.standardHistoryList=i}else e.$message({type:"error",message:"已检验部分数据异常!"});else if(1===l[1].data.length){e.oSubmit=l[1].data[0];var n=e.oSubmit.endTime.split(" ");e.oSubmit["endTimeDate"]=n[0],e.oSubmit["endTimeMinute"]=n[1].substring(0,5);var c=JSON.parse(e.oSubmit.realResult),r=l[0].data.list[0].qualityInspectionDetails;r.map((function(t,e){var a=c.findIndex((function(e){return e.id===t.id}));if(-1!==a){if(1*t.classify===3){var l=t.standard.split("-");t["standardMin"]=l[0],t["standardMax"]=l[1]}t.cav1Value=c[a].cav1Value,t.cav2Value=c[a].cav2Value,t.cav3Value=c[a].cav3Value,t.cav4Value=c[a].cav4Value,t.conclusion=c[a].conclusion}})),e.standardList=r,e.oDetail=Object(u["a"])({},e.detailData)}else e.$message({type:"error",message:"已检验部分数据异常!"});else e.$message({type:"error",message:"获取已检验部分详情失败："+l[1].msg})}else e.$message({type:"error",message:"获取零件检验规范失败："+l[0].msg})}))},getStorageLocationList:function(){var t=this;Object(o["b"])(this.searchKey).then((function(e){0===e.code&&(t.tableList=e.data.list,t.tableList.length>0&&t.bindBtn(t.tableList[0]))}))},bindBtn:function(t){this.detailHistoryData=t,this.initData("instruct")},tableRowClassName:function(t){t.row;var e=t.rowIndex;return e%2===1?"table-row":""},formValidate:function(t){for(var e=!0,a=JSON.parse(JSON.stringify(this.standardList)),l=!0,s=0;s<a.length;s++)if(3===a[s].classify&&2===this.optType&&(0===a[s].cav1Value.toString().length||0===a[s].cav2Value.toString().length||0===a[s].cav3Value.toString().length||0===a[s].cav4Value.toString().length)){l=!1;break}return 0===t.samping.length?(this.$message({type:"warning",message:"抽样不能为空!"}),e=!1):0===t.frequence.length?(this.$message({type:"warning",message:"频率不能为空!"}),e=!1):l?0===t.endTimeMinute.length?(this.$message({type:"warning",message:"测量结束时间不能为空!"}),e=!1):0===t.endTimeDate.length?(this.$message({type:"warning",message:"日期不能为空!"}),e=!1):0===t.measureUser.length?(this.$message({type:"warning",message:"测量员不能为空!"}),e=!1):e=!0:(this.$message({type:"warning",message:"尺寸相关值不能为空!"}),e=!1),e}}},b=f,y=(a("3916"),Object(m["a"])(b,v,g,!1,null,"22fa028b",null)),_=y.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[1===t.detailData.checkType?a("div",{staticClass:"header"},[a("el-row",[a("el-col",{attrs:{span:6}},[t._v("任务单号："+t._s(t.detailData.checkNo))]),a("el-col",{attrs:{span:6}},[t._v("设备编号："+t._s(t.detailData.productDevicesName))]),a("el-col",{attrs:{span:6}},[t._v("报检人："+t._s(t.detailData.createUserName))]),a("el-col",{attrs:{span:6}},[t._v("报检时间："+t._s(t.detailData.createTime))])],1),a("el-row",[a("el-col",{attrs:{span:6}},[t._v("生产指令："+t._s(t.detailData.productCode))]),a("el-col",{attrs:{span:6}},[t._v("零件代码："+t._s(t.detailData.materialCode))]),a("el-col",{attrs:{span:6}},[t._v("零件名称："+t._s(t.detailData.materialName))])],1)],1):t._e(),1===t.detailData.checkType?a("div",{staticClass:"firstContent"},[a("el-row",[a("el-col",{staticClass:"elColRight",attrs:{span:9}},[t._v("泛沃 FineWorld")]),a("el-col",{staticClass:"elColRight",attrs:{span:12}},[t._v(t._s(t.oDetail.version))]),a("el-col",{attrs:{span:3}},[t._v("Page:1/1")])],1),a("el-row",[a("el-col",{staticClass:"elColTop",attrs:{span:24}},[t._v("质量跟踪卡 Quality follow-up card")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:2}},[t._v("零件代码"),a("br"),t._v(" Part Code")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:4}},[t._v(t._s(t.oDetail.materialCode))]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("抽样"),a("br"),t._v(" Sampling")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.samping,expression:"oSubmit.samping"}],attrs:{placeholder:"输入抽样",type:"text"},domProps:{value:t.oSubmit.samping},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"samping",e.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("材料名称"),a("br"),t._v(" Material")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.material,expression:"oSubmit.material"}],attrs:{placeholder:"输入材料名称",type:"text"},domProps:{value:t.oSubmit.material},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"material",e.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("模具编号"),a("br"),t._v(" Mould No.")]),a("el-col",{staticClass:"elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oDetail.mouldNo)+" ")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:2}},[t._v("零件名称"),a("br"),t._v(" Part descrip.")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:4}},[t._v(t._s(t.oDetail.materialName))]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("频率"),a("br"),t._v(" Frequence")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.frequence,expression:"oSubmit.frequence"}],attrs:{placeholder:"输入频率",type:"text"},domProps:{value:t.oSubmit.frequence},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"frequence",e.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("材料批号"),a("br"),t._v(" Material No.")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.materialNo,expression:"oSubmit.materialNo"}],attrs:{placeholder:"材料批号",type:"text"},domProps:{value:t.oSubmit.materialNo},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"materialNo",e.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("生产指令号"),a("br"),t._v(" OF No.")]),a("el-col",{staticClass:"elColTop",attrs:{span:3}},[t._v(" "+t._s(t.detailData.productCode)+" ")])],1),a("el-row",{staticClass:"doubleRow",staticStyle:{heghit:"64"}},[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("产品特性 "),a("br"),t._v(" Features")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:4}},[t._v("过程规范 "),a("br"),t._v(" Process specification")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:3}},[t._v("测量仪器 "),a("br"),t._v(" Measuring device")]),a("el-col",{staticClass:"elColRight elColTop",staticStyle:{heghit:"64"},attrs:{span:12}},[a("el-row",[a("el-col",{staticClass:"elColRight elColTop elColLeft fontWeight700",attrs:{span:24}},[t._v(" 腔 号 Measure by cavity")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColLeft elColTop fontWeight700",attrs:{span:6}},[t._v("Cav1")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav2")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav3")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav4")])],1)],1),a("el-col",{staticClass:"elColTop singleRow64 fontWeight700",attrs:{span:3}},[t._v(" 判定 Conclusion")])],1),t._l(t.standardFilterList,(function(e,l){return a("div",{key:"row"+l},[3!==e.classify&&1!==e.classify?a("div",{staticClass:"tableBox"},[a("el-row",{staticClass:"tableRow"},[a("el-col",{staticClass:"elColRight elColTop fontWeight700 tablesty",attrs:{span:2}},[t._v(" "+t._s(0===e.classify?"外观":"包装")+" ")]),a("el-col",{staticClass:"elColTop tablesty",attrs:{span:4,title:e.standard}},[t._v(t._s(e.standard))]),a("el-col",{staticClass:"elColLeft elColTop tablesty",attrs:{span:3,title:e.evaluate}},[t._v(t._s(e.evaluate))]),a("el-col",{staticClass:"elColLeft elColTop tablesty",attrs:{span:3}},[a("el-switch",{key:"switch"+l,staticStyle:{display:"block"},attrs:{disabled:0!==t.optType&&1!==t.optType,"active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},on:{change:function(e){return t.handleSwitchChange(e,l,"cav1Value")}},model:{value:e.cav1Value,callback:function(a){t.$set(e,"cav1Value",a)},expression:"item.cav1Value"}})],1),a("el-col",{staticClass:"elColLeft elColTop tablesty",attrs:{span:3}},[a("el-switch",{key:"switch"+l,staticStyle:{display:"block"},attrs:{disabled:0!==t.optType&&1!==t.optType,"active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},on:{change:function(e){return t.handleSwitchChange(e,l,"cav2Value")}},model:{value:e.cav2Value,callback:function(a){t.$set(e,"cav2Value",a)},expression:"item.cav2Value"}})],1),a("el-col",{staticClass:"elColLeft elColTop tablesty",attrs:{span:3}},[a("el-switch",{key:"switch"+l,staticStyle:{display:"block"},attrs:{disabled:0!==t.optType&&1!==t.optType,"active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},on:{change:function(e){return t.handleSwitchChange(e,l,"cav3Value")}},model:{value:e.cav3Value,callback:function(a){t.$set(e,"cav3Value",a)},expression:"item.cav3Value"}})],1),a("el-col",{staticClass:"elColLeft elColTop tablesty",attrs:{span:3}},[a("el-switch",{key:"switch"+l,staticStyle:{display:"block"},attrs:{disabled:0!==t.optType&&1!==t.optType,"active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},on:{change:function(e){return t.handleSwitchChange(e,l,"cav4Value")}},model:{value:e.cav4Value,callback:function(a){t.$set(e,"cav4Value",a)},expression:"item.cav4Value"}})],1),a("el-col",{staticClass:"elColLeft elColTop tablesty",attrs:{span:3}},[a("el-switch",{key:"switch"+l,staticStyle:{display:"block"},attrs:{disabled:"","active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},model:{value:e.conclusion,callback:function(a){t.$set(e,"conclusion",a)},expression:"item.conclusion"}})],1)],1)],1):3===e.classify?a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("尺寸")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:2}},[t._v(t._s(e.standardMin))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:2}},[t._v(t._s(e.standardMax))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(t._s(e.evaluate))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cav1Value,expression:"item.cav1Value"}],attrs:{disabled:2!==t.optType,placeholder:"输入Cav1的值",type:"number",maxlength:"100"},domProps:{value:e.cav1Value},on:{change:function(e){return t.handleNumberChange(e,l,"cav1Value")},input:function(a){a.target.composing||t.$set(e,"cav1Value",a.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cav2Value,expression:"item.cav2Value"}],attrs:{disabled:2!==t.optType,placeholder:"输入Cav2的值",type:"number",maxlength:"100"},domProps:{value:e.cav2Value},on:{change:function(e){return t.handleNumberChange(e,l,"cav2Value")},input:function(a){a.target.composing||t.$set(e,"cav2Value",a.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cav3Value,expression:"item.cav3Value"}],attrs:{disabled:2!==t.optType,placeholder:"输入Cav3的值",type:"number",maxlength:"100"},domProps:{value:e.cav3Value},on:{change:function(e){return t.handleNumberChange(e,l,"cav3Value")},input:function(a){a.target.composing||t.$set(e,"cav3Value",a.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.cav4Value,expression:"item.cav4Value"}],attrs:{disabled:2!==t.optType,placeholder:"输入Cav4的值",type:"number",maxlength:"100"},domProps:{value:e.cav4Value},on:{change:function(e){return t.handleNumberChange(e,l,"cav4Value")},input:function(a){a.target.composing||t.$set(e,"cav4Value",a.target.value)}}})]),a("el-col",{staticClass:" elColTop",attrs:{span:3}},[a("el-switch",{key:"switch"+l,staticStyle:{display:"block"},attrs:{disabled:"","active-color":"#13ce66","inactive-color":"#cccccc","active-text":"OK","inactive-text":"NG"},model:{value:e.conclusion,callback:function(a){t.$set(e,"conclusion",a)},expression:"item.conclusion"}})],1)],1):t._e()],1)})),a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:9}},[t._v("测量结束时间 Measurement end time")]),a("el-col",{staticClass:"elColTop",staticStyle:{"text-align":"left"},attrs:{span:15}},[a("el-time-picker",{attrs:{"value-format":"HH:mm",placeholder:"选择测量结束时间"},model:{value:t.oSubmit.endTimeMinute,callback:function(e){t.$set(t.oSubmit,"endTimeMinute",e)},expression:"oSubmit.endTimeMinute"}})],1)],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("备注 Remark")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:10}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.note,expression:"oSubmit.note"}],attrs:{placeholder:"输入备注",type:"text",maxlength:"100"},domProps:{value:t.oSubmit.note},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"note",e.target.value)}}})]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:3}},[t._v("日期 Date")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[a("el-date-picker",{staticStyle:{width:"95%"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.oSubmit.endTimeDate,callback:function(e){t.$set(t.oSubmit,"endTimeDate",e)},expression:"oSubmit.endTimeDate"}})],1),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:3}},[t._v("测量员 Surveyor")]),a("el-col",{staticClass:"elColTop",attrs:{span:3}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.oSubmit.measureUser,expression:"oSubmit.measureUser"}],attrs:{placeholder:"输入测量员姓名",type:"text",maxlength:"10"},domProps:{value:t.oSubmit.measureUser},on:{input:function(e){e.target.composing||t.$set(t.oSubmit,"measureUser",e.target.value)}}})])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop",attrs:{span:9}},[t._v("泛沃 FineWorld")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:12}},[t._v(t._s(t.oDetail.version))]),a("el-col",{staticClass:"elColTop",attrs:{span:3}},[t._v("Page:1/1")])],1),a("div",{staticClass:"bottom"},[a("el-button",{attrs:{type:"primary",disabled:t.disadbleSubmit},on:{click:function(e){return t.submitForm()}}},[t._v("保存")])],1)],2):t._e(),t.tableList.length>0?a("div",[a("h3",[t._v(" 历史数据展示")]),t.standardHistoryList?a("div",{staticClass:"firstContent"},[a("el-row",[a("el-col",{staticClass:"elColRight ",attrs:{span:2}},[t._v(" 任务单号： ")]),a("el-col",{attrs:{span:22}},[t._v(" "+t._s(t.detailHistoryData.checkNo)+" ")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:2}},[t._v("零件代码"),a("br"),t._v(" Part Code")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:4}},[t._v(t._s(t.detailHistoryData.materialCode))]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:2}},[t._v("抽样"),a("br"),t._v(" Sampling")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oSubmitHistory.samping)+" ")]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("材料名称"),a("br"),t._v(" Material")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oSubmitHistory.material)+" ")]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("模具编号"),a("br"),t._v(" Mould No.")]),a("el-col",{staticClass:"elColTop",attrs:{span:4}},[t._v(" "+t._s(t.detailHistoryData.mouldNo)+" ")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:2}},[t._v("零件名称"),a("br"),t._v(" Part descrip.")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:4}},[t._v(t._s(t.detailHistoryData.materialName))]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:2}},[t._v("频率"),a("br"),t._v(" Frequence")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oSubmitHistory.frequence)+" ")]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("材料批号"),a("br"),t._v(" Material No.")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oSubmitHistory.materialNo)+" ")]),a("el-col",{staticClass:"elColRight elColTop singleRow1 fontWeight700",attrs:{span:3}},[t._v("生产指令号"),a("br"),t._v(" OF No.")]),a("el-col",{staticClass:"elColTop",attrs:{span:4}},[t._v(" "+t._s(t.oSubmitHistory.ofNo)+" ")])],1),a("el-row",{staticClass:"doubleRow",staticStyle:{heghit:"64"}},[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("产品特性 "),a("br"),t._v(" Features")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:4}},[t._v("过程规范 "),a("br"),t._v(" Process specification")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("测量仪器 "),a("br"),t._v(" Measuring device")]),a("el-col",{staticClass:"elColRight elColTop",staticStyle:{heghit:"64"},attrs:{span:12}},[a("el-row",[a("el-col",{staticClass:"elColRight elColTop elColLeft fontWeight700",attrs:{span:24}},[t._v(" 腔 号 Measure by cavity")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColLeft elColTop fontWeight700",attrs:{span:6}},[t._v("Cav1")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav2")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav3")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:6}},[t._v("Cav4")])],1)],1),a("el-col",{staticClass:"elColTop singleRow64 fontWeight700",attrs:{span:4}},[t._v(" 判定 Conclusion")])],1),t._l(t.standardHistoryFilterList,(function(e,l){return a("div",{key:"row"+l},[3!==e.classify&&1!==e.classify?a("div",{staticClass:"tableBox"},[a("el-row",{staticClass:"tableRow"},[a("el-col",{staticClass:"elColRight elColTop fontWeight700 tablesty",attrs:{span:2}},[t._v(" "+t._s(0===e.classify?"外观":"包装")+" ")]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:4}},[t._v(t._s(e.standard))]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:2}},[t._v(t._s(e.evaluate))]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:3}},[t._v(" "+t._s(e.cav1Value?"OK":"NG")+" ")]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:3}},[t._v(" "+t._s(e.cav2Value?"OK":"NG")+" ")]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:3}},[t._v(" "+t._s(e.cav3Value?"OK":"NG")+" ")]),a("el-col",{staticClass:"elColRight elColTop tablesty",attrs:{span:3}},[t._v(" "+t._s(e.cav4Value?"OK":"NG")+" ")]),a("el-col",{staticClass:" elColTop tablesty",attrs:{span:4}},[t._v(" "+t._s(e.conclusion?"OK":"NG")+" ")])],1)],1):3===e.classify?a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("尺寸")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:2}},[t._v(t._s(e.standardMin))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:2}},[t._v(t._s(e.standardMax))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:2}},[t._v(t._s(e.evaluate))]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(e.cav1Value)+" ")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(e.cav2Value)+" ")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(e.cav3Value)+" ")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(e.cav4Value)+" ")]),a("el-col",{staticClass:" elColTop",attrs:{span:4}},[t._v(" "+t._s(e.conclusion?"OK":"NG")+" ")])],1):t._e()],1)})),a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:8}},[t._v("测量结束时间 Measurement end time")]),a("el-col",{staticClass:"elColTop",staticStyle:{"text-align":"left","padding-left":"20px"},attrs:{span:16}},[t._v(" "+t._s(t.oSubmitHistory.endTimeMinute)+" ")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:2}},[t._v("备注 Remark")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:9}},[t._v(" "+t._s(t.oSubmitHistory.note)+" ")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:3}},[t._v("日期 Date")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:3}},[t._v(" "+t._s(t.oSubmitHistory.endTimeDate)+" ")]),a("el-col",{staticClass:"elColRight elColTop fontWeight700",attrs:{span:3}},[t._v("测量员 Surveyor")]),a("el-col",{staticClass:"elColTop",attrs:{span:4}},[t._v(" "+t._s(t.oSubmitHistory.measureUser)+" ")])],1),a("el-row",[a("el-col",{staticClass:"elColRight elColTop",attrs:{span:8}},[t._v("泛沃 FineWorld")]),a("el-col",{staticClass:"elColRight elColTop",attrs:{span:12}},[t._v(t._s(t.oDetail.version))]),a("el-col",{staticClass:"elColTop",attrs:{span:4}},[t._v("Page:1/1")])],1)],2):t._e(),a("el-table",{staticStyle:{width:"100%","margin-top":"24px"},attrs:{data:t.tableList,"row-class-name":t.tableRowClassName,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"date",label:"序号",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.$index+1)+" ")]}}],null,!1,3056706777)}),a("el-table-column",{attrs:{prop:"lastTime",label:"任务单号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.checkNo))])]}}],null,!1,904548065)}),a("el-table-column",{attrs:{prop:"lastTime",label:"检验时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.endTime))])]}}],null,!1,1375831964)}),a("el-table-column",{attrs:{prop:"date",label:"操作",align:"center",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"addTextBtn",staticStyle:{color:"#006fe6"},attrs:{type:"text"},on:{click:function(a){return t.bindBtn(e.row)}}},[t._v(" 查看 ")])]}}],null,!1,2998580218)})],1)],1):t._e()])},S=[],w={components:{},props:{detailData:{type:Object,required:!0},optType:{type:Number,required:!0},checkType:{type:Number,required:!0}},data:function(){return{tableList:[],searchKey:{productCode:"",checkType:1,status:3},activeName:"first",detailHistoryData:{},standardList:[],standardHistoryList:[],oSubmit:{checkClassify:"",classify:1,createTime:"",dataId:null,endTimeDate:"",endTimeMinute:"",endTime:"",frequence:"",material:"",materialNo:"",mouldNo:"",note:"",ofNo:"",partCode:"",partName:"",realResult:"",samping:"",user:null,measureUser:"",viewResult:""},oSubmitHistory:{},oDetail:{},oStandardDetail:{},disadbleSubmit:!1}},computed:{standardFilterList:function(){var t=this.standardList;return t=t.sort(this.sortBy("classify",!0)),t},standardHistoryFilterList:function(){var t=this.standardHistoryList;return t=t.sort(this.sortBy("classify",!0)),t}},created:function(){this.searchKey.productCode=this.detailData.productCode},mounted:function(){this.initData(),this.getStorageLocationList()},methods:{handleSwitchChange:function(t,e,a){this.standardFilterList[e][a]=t,this.standardFilterList.map((function(t,a){a===e&&(!0===t.cav1Value&&!0===t.cav2Value&&!0===t.cav3Value&&!0===t.cav4Value?t.conclusion=!0:t.conclusion=!1)}))},handleNumberChange:function(t,e,a){this.standardFilterList.map((function(t,a){a===e&&(1*t.cav1Value<=t.standardMax&&1*t.cav1Value>=t.standardMin&&1*t.cav2Value<=t.standardMax&&1*t.cav2Value>=t.standardMin&&1*t.cav3Value<=t.standardMax&&1*t.cav3Value>=t.standardMin&&1*t.cav4Value<=t.standardMax&&1*t.cav4Value>=t.standardMin?t.conclusion=!0:t.conclusion=!1)}))},submitForm:function(){this.saveStandardRequest()},sortBy:function(t,e){return e=void 0===e||e?1:-1,function(a,l){return a=a[t],l=l[t],a<l?-1*e:a>l?1*e:0}},saveStandardRequest:function(){var t=this;this.optSubmitData();var e=this.formValidate(Object(u["a"])({},this.oSubmit));if(e){this.oSubmit.endTime=this.oSubmit.endTimeDate+" "+this.oSubmit.endTimeMinute;var a=[{checkClassify:this.detailData.checkClassify,classify:this.oSubmit.classify,dataId:this.oSubmit.dataId,endTime:this.oSubmit.endTime,frequence:this.oSubmit.frequence,material:this.oSubmit.material,materialNo:this.oSubmit.materialNo,mouldNo:this.oSubmit.mouldNo,note:this.oSubmit.note,ofNo:this.oSubmit.ofNo,partCode:this.oSubmit.partCode,partName:this.oSubmit.partName,realResult:this.oSubmit.realResult,samping:this.oSubmit.samping,measureUser:this.oSubmit.measureUser,viewResult:this.oSubmit.viewResult}];1===this.optType?a[0].checkClassify?a[0].checkClassify="2-1,"+a[0].checkClassify:a[0].checkClassify="2-1":2===this.optType&&(a[0].checkClassify?a[0].checkClassify="2-2,"+a[0].checkClassify:a[0].checkClassify="2-2");var l=a[0].checkClassify.split(",");l.length>1?(a[0].id=this.oSubmit.id,Object(o["j"])(a[0]).then((function(e){0===e.code?(t.$message({type:"success",message:"保存入库检验成功"}),t.$emit("FirstLastChildCall",!0)):1e3===e.code&&t.$message({type:"error",message:"保存检验失败："+e.msg})}))):1===l.length&&Object(o["h"])(a).then((function(e){0===e.code?(t.$message({type:"success",message:"保存入库检验成功"}),t.$emit("FirstLastChildCall",!0)):1e3===e.code&&t.$message({type:"error",message:"保存检验失败："+e.msg})}))}},optSubmitData:function(){var t=JSON.parse(JSON.stringify(this.standardList)),e=JSON.parse(JSON.stringify(this.standardList));t.map((function(t){0===t.classify||1===t.classify?(t.cav1Value=!0,t.cav2Value=!0,t.cav3Value=!0,t.cav4Value=!0,t.conclusion=!0,t.standard,t.evaluate):3===t.classify&&(t.cav1Value=(Math.random()*(1*t.standardMax-1*t.standardMin)+1*t.standardMin).toFixed(2),t.cav2Value=(Math.random()*(1*t.standardMax-1*t.standardMin)+1*t.standardMin).toFixed(2),t.cav3Value=(Math.random()*(1*t.standardMax-1*t.standardMin)+1*t.standardMin).toFixed(2),t.cav4Value=(Math.random()*(1*t.standardMax-1*t.standardMin)+1*t.standardMin).toFixed(2),t.standardmin,t.standardmax,t.evaluate,t.conclusion=!0)})),this.oSubmit.viewResult=JSON.stringify(t),this.oSubmit.realResult=JSON.stringify(e)},dataSetting:function(){this.oDetail=Object(u["a"])({},this.detailData),this.oSubmit.dataId=this.detailData.id,this.oSubmit.ofNo=this.detailData.productCode,this.oSubmit.partCode=this.detailData.materialCode,this.oSubmit.partName=this.detailData.materialName},initData:function(t){var e=this,a=this,l=new Promise((function(t,e){var l={};l={preciseCode:a.detailData.materialCode,classify:1,pageNum:1,pageSize:10},Object(o["e"])(l).then((function(e){t(e)})).catch((function(t){e(t)}))})),s=new Promise((function(e,l){var s={};s=t?{id:a.detailHistoryData.id}:{id:a.detailData.id},Object(o["d"])(s).then((function(t){e(t)})).catch((function(t){l(t)}))}));Promise.all([l,s]).then((function(a){var l=a;if(0===l[0].code){if(0===l[0].data.list.length||!l[0].data.list[0].qualityInspectionDetails)return t?e.standardHistoryList=[]:e.standardList=[],e.$message({type:"error",message:"没有该零件检验规范，请先添加代码为: [ "+e.detailData.materialCode+" ] 的零件检验规范！"}),void(e.disadbleSubmit=!0);if(0!==l[1].code||1!==l[1].data.length){var s=l[0].data.list[0].qualityInspectionDetails;return s.map((function(t,e){if(1*t.classify===3){var a=t.standard.split("-");t["standardMin"]=a[0],t["standardMax"]=a[1],t.cav1Value="",t.cav2Value="",t.cav3Value="",t.cav4Value="",t.conclusion=!1}else t.cav1Value=!0,t.cav2Value=!0,t.cav3Value=!0,t.cav4Value=!0,t.conclusion=!0})),void(t?e.standardHistoryList=s:(e.standardList=s,e.dataSetting()))}if(0===l[1].code)if(t)if(1===l[1].data.length){e.oSubmitHistory=l[1].data[0];var o=e.oSubmitHistory.endTime.split(" ");e.oSubmitHistory["endTimeDate"]=o[0],e.oSubmitHistory["endTimeMinute"]=o[1].substring(0,5);var i=JSON.parse(e.oSubmitHistory.realResult);e.standardHistoryList=i}else e.$message({type:"error",message:"已检验部分数据异常!"});else if(1===l[1].data.length){e.oSubmit=l[1].data[0];var n=e.oSubmit.endTime.split(" ");e.oSubmit["endTimeDate"]=n[0],e.oSubmit["endTimeMinute"]=n[1].substring(0,5);var c=JSON.parse(e.oSubmit.realResult),r=l[0].data.list[0].qualityInspectionDetails;r.map((function(t,e){var a=c.findIndex((function(e){return e.id===t.id}));if(-1!==a){if(1*t.classify===3){var l=t.standard.split("-");t["standardMin"]=l[0],t["standardMax"]=l[1]}t.cav1Value=c[a].cav1Value,t.cav2Value=c[a].cav2Value,t.cav3Value=c[a].cav3Value,t.cav4Value=c[a].cav4Value,t.conclusion=c[a].conclusion}})),e.standardList=r,e.oDetail=Object(u["a"])({},e.detailData)}else e.$message({type:"error",message:"已检验部分数据异常!"});else e.$message({type:"error",message:"获取已检验部分详情失败："+l[1].msg})}else e.$message({type:"error",message:"获取零件检验规范失败："+l[0].msg})}))},getStorageLocationList:function(){var t=this;Object(o["b"])(this.searchKey).then((function(e){0===e.code&&(t.tableList=e.data.list,t.tableList.length>0&&t.bindBtn(t.tableList[0]))}))},bindBtn:function(t){this.detailHistoryData=t,this.initData("instruct")},tableRowClassName:function(t){t.row;var e=t.rowIndex;return e%2===1?"table-row":""},formValidate:function(t){for(var e=!0,a=JSON.parse(JSON.stringify(this.standardList)),l=!0,s=0;s<a.length;s++)if(3===a[s].classify&&2===this.optType&&(0===a[s].cav1Value.toString().length||0===a[s].cav2Value.toString().length||0===a[s].cav3Value.toString().length||0===a[s].cav4Value.toString().length)){l=!1;break}return 0===t.samping.length?(this.$message({type:"warning",message:"抽样不能为空!"}),e=!1):0===t.frequence.length?(this.$message({type:"warning",message:"频率不能为空!"}),e=!1):l?0===t.endTimeMinute.length?(this.$message({type:"warning",message:"测量结束时间不能为空!"}),e=!1):0===t.endTimeDate.length?(this.$message({type:"warning",message:"日期不能为空!"}),e=!1):0===t.measureUser.length?(this.$message({type:"warning",message:"测量员不能为空!"}),e=!1):e=!0:(this.$message({type:"warning",message:"尺寸相关值不能为空!"}),e=!1),e}}},R=w,x=(a("f50a"),Object(m["a"])(R,T,S,!1,null,"66eae60c",null)),k=x.exports,N={components:{first:h,last:_,polling:k},props:{detailData:{type:Object,required:!0},optType:{type:Number,required:!0}},data:function(){return{activeName:"first",tabList:[{lable:"首件检验报告",id:0},{lable:"巡检检验报告",id:1},{lable:"尾模检验报告",id:2}],checkType:0,tableData:{sampling:"",materials:"",Frequence:"",materialsNo:""},disabledPoll:!1,disabledLast:!1}},created:function(){},mounted:function(){switch(this.initInfo(),this.detailData.checkType){case 0:this.activeName="first",this.disabledPoll=!0,this.disabledLast=!0,this.checkType=0;break;case 1:this.activeName="second",this.disabledLast=!0,this.checkType=1;break;case 2:this.activeName="third",this.checkType=2;break;default:this.activeName="first"}},methods:{initInfo:function(){},submitForm:function(){},handleClick:function(t){console.log(t),this.checkType=1*t.index,console.log(this.checkType)},backClick:function(){this.$emit("FirstLastCall",!1)},FirstLastChildCall:function(t){this.$emit("FirstLastCall",t)}}},V=N,D=(a("3d91"),Object(m["a"])(V,i,n,!1,null,"59bcef46",null)),L=D.exports,M=a("a888"),W=a("ed08"),O=a("333d"),$={name:"FirstLastTest",components:{Pagination:O["a"],firstLastTestInfo:L},directives:{elDragDialog:M["a"]},data:function(){var t=this;return{optType:1,loading:!1,detailInfo:!1,detailData:"",searchKey:{productCode:"",productDevicesCode:"",checkType:"",pageNum:1,pageSize:20,status:0,startTime:null,stopTime:null},total:0,multipleSelection:[],mouldStatusList:[{id:0,label:"首件"},{id:1,label:"巡检"},{id:2,label:"末件"}],list:[],dialogFormVisible:!1,title:"强制关闭",exeType:"",form:{checkNo:"",carryDay:null,nonExecutCause:"",status:1},formLabelWidth:"120px",pickerOptions1:{disabledDate:function(e){return""!==t.searchKey.startTime&&null!==t.searchKey.startTime&&e.getTime()<t.searchKey.startTime}},pickerOptions0:{disabledDate:function(e){return""!==t.searchKey.stopTime&&null!==t.searchKey.stopTime&&e.getTime()>t.searchKey.stopTime}}}},computed:{},mounted:function(){this.getStorageLocationList()},methods:{FirstLastCall:function(t){this.detailInfo=!1,t&&this.getStorageLocationList()},searchBtn:function(){this.getStorageLocationList()},searchrestBtn:function(){this.searchKey={productCode:"",productDevicesCode:"",checkType:"",status:0,pageNum:1,pageSize:20,startTime:null,stopTime:null},this.getStorageLocationList()},bindBtn:function(t){if(t.checkClassify&&t.checkClassify.length>0){var e=t.checkClassify.split(","),a=null;switch(t.checkType){case 0:a=e.findIndex((function(t){return"0-1"===t}));break;case 1:a=e.findIndex((function(t){return"2-1"===t}));break;case 2:a=e.findIndex((function(t){return"1-1"===t}));break}if(a>-1)return void this.$message({message:"外观已检验，不能重复检验!",type:"warning"})}this.optType=1,this.detailData=t,this.detailInfo=!0},unBindBtn:function(t){if(t.checkClassify&&t.checkClassify.length>0){var e=t.checkClassify.split(","),a=null;switch(t.checkType){case 0:a=e.findIndex((function(t){return"0-2"===t}));break;case 1:a=e.findIndex((function(t){return"2-2"===t}));break;case 2:a=e.findIndex((function(t){return"1-2"===t}));break}if(a>-1)return void this.$message({message:"尺寸已检验，不能重复检验!",type:"warning"})}this.optType=2,this.detailData=t,this.detailInfo=!0},clooseAndPostpone:function(t,e){console.log(t),this.exeType=e,"cloose"===this.exeType?(this.form={checkNo:t.checkNo,nonExecutCause:"",id:t.id},this.title="强制关闭"):(this.form={checkNo:t.checkNo,carryDay:null,nonExecutCause:"",id:t.id},this.title="延后申请"),this.dialogFormVisible=!0},cloose:function(){var t=this;Object(o["a"])(this.form).then((function(e){0===e.code?(t.$message({type:"success",message:"执行成功"}),t.getStorageLocationList(),t.dialogFormVisible=!1):t.$message({type:"errow",message:"执行失败"+e.msg})}))},postpone:function(){var t=this;Object(o["f"])(this.form).then((function(e){0===e.code?(t.$message({type:"success",message:"执行成功"}),t.getStorageLocationList(),t.dialogFormVisible=!1):t.$message({type:"errow",message:"执行失败"+e.msg})}))},saveExe:function(){"cloose"===this.exeType?this.cloose():this.postpone()},getStorageLocationList:function(){var t=this;this.list=[],this.searchKey.startTime&&(this.searchKey.startTime=Object(W["b"])(this.searchKey.startTime,"{y}-{m}-{d}")+" 00:00:00"),this.searchKey.stopTime&&(this.searchKey.stopTime=Object(W["b"])(this.searchKey.stopTime,"{y}-{m}-{d}")+" 23:59:59"),Object(o["b"])(this.searchKey).then((function(e){0===e.code&&(t.list=e.data.list,t.total=e.data.total)}))},tableRowClassName:function(t){t.row;var e=t.rowIndex;return e%2===1?"table-row":""}}},F=$,H=(a("ce6f"),Object(m["a"])(F,l,s,!1,null,"1dcb414b",null));e["default"]=H.exports},a5ce:function(t,e,a){},a888:function(t,e,a){"use strict";a("99af"),a("caad"),a("ac1f"),a("2532"),a("5319");var l={bind:function(t,e,a){var l=t.querySelector(".el-dialog__header"),s=t.querySelector(".el-dialog");l.style.cssText+=";cursor:move;",s.style.cssText+=";top:0px;";var o=function(){return window.document.currentStyle?function(t,e){return t.currentStyle[e]}:function(t,e){return getComputedStyle(t,!1)[e]}}();l.onmousedown=function(t){var e=t.clientX-l.offsetLeft,i=t.clientY-l.offsetTop,n=s.offsetWidth,c=s.offsetHeight,r=document.body.clientWidth,u=document.body.clientHeight,p=s.offsetLeft,d=r-s.offsetLeft-n,m=s.offsetTop,C=u-s.offsetTop-c,h=o(s,"left"),v=o(s,"top");h.includes("%")?(h=+document.body.clientWidth*(+h.replace(/\%/g,"")/100),v=+document.body.clientHeight*(+v.replace(/\%/g,"")/100)):(h=+h.replace(/\px/g,""),v=+v.replace(/\px/g,"")),document.onmousemove=function(t){var l=t.clientX-e,o=t.clientY-i;-l>p?l=-p:l>d&&(l=d),-o>m?o=-m:o>C&&(o=C),s.style.cssText+=";left:".concat(l+h,"px;top:").concat(o+v,"px;"),a.child.$emit("dragDialog")},document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null}}}},s=function(t){t.directive("el-drag-dialog",l)};window.Vue&&(window["el-drag-dialog"]=l,Vue.use(s)),l.install=s;e["a"]=l},cbb0b:function(t,e,a){},ce6f:function(t,e,a){"use strict";var l=a("a5ce"),s=a.n(l);s.a},e99b:function(t,e,a){"use strict";var l=a("620d"),s=a.n(l);s.a},f50a:function(t,e,a){"use strict";var l=a("1bd2"),s=a.n(l);s.a},fa22:function(t,e,a){}}]);